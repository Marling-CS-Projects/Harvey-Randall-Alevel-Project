{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{FCuQ:function(t,e,o){\"use strict\";o.r(e),o.d(e,\"default\",(function(){return nt}));var i,r=o(\"nKUr\"),n=o(\"q1tI\"),a=o(\"Womt\"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)};function c(t){return t.isPerspectiveCamera}function l(t){return t.isOrthographicCamera}!function(t){t[t.NONE=0]=\"NONE\",t[t.ROTATE=1]=\"ROTATE\",t[t.TRUCK=2]=\"TRUCK\",t[t.OFFSET=3]=\"OFFSET\",t[t.DOLLY=4]=\"DOLLY\",t[t.ZOOM=5]=\"ZOOM\",t[t.TOUCH_ROTATE=6]=\"TOUCH_ROTATE\",t[t.TOUCH_TRUCK=7]=\"TOUCH_TRUCK\",t[t.TOUCH_OFFSET=8]=\"TOUCH_OFFSET\",t[t.TOUCH_DOLLY=9]=\"TOUCH_DOLLY\",t[t.TOUCH_ZOOM=10]=\"TOUCH_ZOOM\",t[t.TOUCH_DOLLY_TRUCK=11]=\"TOUCH_DOLLY_TRUCK\",t[t.TOUCH_DOLLY_OFFSET=12]=\"TOUCH_DOLLY_OFFSET\",t[t.TOUCH_ZOOM_TRUCK=13]=\"TOUCH_ZOOM_TRUCK\",t[t.TOUCH_ZOOM_OFFSET=14]=\"TOUCH_ZOOM_OFFSET\"}(i||(i={}));var h=2*Math.PI,d=Math.PI/2;function p(t){return Math.abs(t)<1e-5}function u(t,e){return Math.round(t/e)*e}function f(t){return isFinite(t)?t:t<0?-Number.MAX_VALUE:Number.MAX_VALUE}function m(t){return Math.abs(t)<Number.MAX_VALUE?t:t*(1/0)}function _(t){return\"TouchEvent\"in window&&t instanceof TouchEvent}function y(t,e){if(e.set(0,0),_(t)){for(var o=t,i=0;i<o.touches.length;i++)e.x+=o.touches[i].clientX,e.y+=o.touches[i].clientY;return e.x/=o.touches.length,e.y/=o.touches.length,e}var r=t;return e.set(r.clientX,r.clientY),e}function v(t,e){return!!l(t)&&(console.warn(e+\" is not supported in OrthographicCamera\"),!0)}function g(t){return t.invert?t.invert():t.inverse(),t}var w,E,O,T,x,b,C,S,M,A,U,L,F,z,D,P,R,V,k,j,B=function(){function t(){this._listeners={}}return t.prototype.addEventListener=function(t,e){var o=this._listeners;void 0===o[t]&&(o[t]=[]),-1===o[t].indexOf(e)&&o[t].push(e)},t.prototype.removeEventListener=function(t,e){var o=this._listeners[t];if(void 0!==o){var i=o.indexOf(e);-1!==i&&o.splice(i,1)}},t.prototype.removeAllEventListeners=function(t){t?Array.isArray(this._listeners[t])&&(this._listeners[t].length=0):this._listeners={}},t.prototype.dispatchEvent=function(t){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var o=e.slice(0),i=0,r=o.length;i<r;i++)o[i].call(this,t)}},t}(),H=\"undefined\"!==typeof window&&/Mac/.test(navigator.platform),N=Object.freeze(i),Y=1/8;var I=function(t){function e(e,o){var r=t.call(this)||this;if(r.minPolarAngle=0,r.maxPolarAngle=Math.PI,r.minAzimuthAngle=-1/0,r.maxAzimuthAngle=1/0,r.minDistance=0,r.maxDistance=1/0,r.infinityDolly=!1,r.minZoom=.01,r.maxZoom=1/0,r.dampingFactor=.05,r.draggingDampingFactor=.25,r.azimuthRotateSpeed=1,r.polarRotateSpeed=1,r.dollySpeed=1,r.truckSpeed=2,r.dollyToCursor=!1,r.dragToOffset=!1,r.verticalDragToForward=!1,r.boundaryFriction=0,r.colliderMeshes=[],r.cancel=function(){},r._enabled=!0,r._state=i.NONE,r._viewport=null,r._dollyControlAmount=0,r._boundaryEnclosesCamera=!1,r._needsUpdate=!0,r._updatedLastTime=!1,\"undefined\"===typeof w&&console.error(\"camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information.\"),r._camera=e,r._yAxisUpSpace=(new w.Quaternion).setFromUnitVectors(r._camera.up,O),r._yAxisUpSpaceInverse=g(r._yAxisUpSpace.clone()),r._state=i.NONE,r._domElement=o,r._target=new w.Vector3,r._targetEnd=r._target.clone(),r._focalOffset=new w.Vector3,r._focalOffsetEnd=r._focalOffset.clone(),r._spherical=(new w.Spherical).setFromVector3(b.copy(r._camera.position).applyQuaternion(r._yAxisUpSpace)),r._sphericalEnd=r._spherical.clone(),r._zoom=r._camera.zoom,r._zoomEnd=r._zoom,r._nearPlaneCorners=[new w.Vector3,new w.Vector3,new w.Vector3,new w.Vector3],r._updateNearPlaneCorners(),r._boundary=new w.Box3(new w.Vector3(-1/0,-1/0,-1/0),new w.Vector3(1/0,1/0,1/0)),r._target0=r._target.clone(),r._position0=r._camera.position.clone(),r._zoom0=r._zoom,r._focalOffset0=r._focalOffset.clone(),r._dollyControlAmount=0,r._dollyControlCoord=new w.Vector2,r.mouseButtons={left:i.ROTATE,middle:i.DOLLY,right:i.TRUCK,wheel:c(r._camera)?i.DOLLY:l(r._camera)?i.ZOOM:i.NONE},r.touches={one:i.TOUCH_ROTATE,two:c(r._camera)?i.TOUCH_DOLLY_TRUCK:l(r._camera)?i.TOUCH_ZOOM_TRUCK:i.NONE,three:i.TOUCH_TRUCK},r._domElement){var n=new w.Vector2,a=new w.Vector2,s=new w.Vector2,d=new w.Vector4,p=function(t,e,o){if(c(r._camera)){var i=r._camera,n=b.copy(i.position).sub(r._target),a=i.getEffectiveFOV()*w.MathUtils.DEG2RAD,s=n.length()*Math.tan(.5*a),h=r.truckSpeed*t*s/d.w,p=r.truckSpeed*e*s/d.w;r.verticalDragToForward?(o?r.setFocalOffset(r._focalOffsetEnd.x+h,r._focalOffsetEnd.y,r._focalOffsetEnd.z,!0):r.truck(h,0,!0),r.forward(-p,!0)):o?r.setFocalOffset(r._focalOffsetEnd.x+h,r._focalOffsetEnd.y+p,r._focalOffsetEnd.z,!0):r.truck(h,p,!0)}else if(l(r._camera)){var u=r._camera;h=t*(u.right-u.left)/u.zoom/d.z,p=e*(u.top-u.bottom)/u.zoom/d.w;o?r.setFocalOffset(r._focalOffsetEnd.x+h,r._focalOffsetEnd.y+p,r._focalOffsetEnd.z,!0):r.truck(h,p,!0)}},u=function(t,e){var o=h*r.azimuthRotateSpeed*t/d.w,i=h*r.polarRotateSpeed*e/d.w;r.rotate(o,i,!0)},f=function(t,e,o){var i=Math.pow(.95,-t*r.dollySpeed),n=r._sphericalEnd.radius*i,a=r._sphericalEnd.radius;r.dollyTo(n),r.infinityDolly&&n<r.minDistance&&(r._camera.getWorldDirection(b),r._targetEnd.add(b.normalize().multiplyScalar(a)),r._target.add(b.normalize().multiplyScalar(a))),r.dollyToCursor&&(r._dollyControlAmount+=r._sphericalEnd.radius-a,r._dollyControlCoord.set(e,o))},m=function(t,e,o){var i=Math.pow(.95,t*r.dollySpeed);r.zoomTo(r._zoom*i),r.dollyToCursor&&(r._dollyControlAmount=r._zoomEnd,r._dollyControlCoord.set(e,o))},v=function(){r._state=i.NONE,document.removeEventListener(\"mousemove\",U),document.removeEventListener(\"touchmove\",U,{passive:!1}),document.removeEventListener(\"mouseup\",L),document.removeEventListener(\"touchend\",L)},E=function(t){if(r._enabled){switch(v(),t.button){case w.MOUSE.LEFT:r._state=r.mouseButtons.left;break;case w.MOUSE.MIDDLE:r._state=r.mouseButtons.middle;break;case w.MOUSE.RIGHT:r._state=r.mouseButtons.right}A(t)}},T=function(t){if(r._enabled){switch(v(),t.touches.length){case 1:r._state=r.touches.one;break;case 2:r._state=r.touches.two;break;case 3:r._state=r.touches.three}A(t)}},C=-1,S=function(t){if(r._enabled&&r.mouseButtons.wheel!==i.NONE){if(t.preventDefault(),r.dollyToCursor||r.mouseButtons.wheel===i.ROTATE||r.mouseButtons.wheel===i.TRUCK){var e=performance.now();C-e<1e3&&r._getClientRect(d),C=e}var o=H?-1:-3,n=1===t.deltaMode?t.deltaY/o:t.deltaY/(10*o),a=r.dollyToCursor?(t.clientX-d.x)/d.z*2-1:0,s=r.dollyToCursor?(t.clientY-d.y)/d.w*-2+1:0;switch(r.mouseButtons.wheel){case i.ROTATE:u(t.deltaX,t.deltaY);break;case i.TRUCK:p(t.deltaX,t.deltaY,!1);break;case i.OFFSET:p(t.deltaX,t.deltaY,!0);break;case i.DOLLY:f(-n,a,s);break;case i.ZOOM:m(-n,a,s)}r.dispatchEvent({type:\"control\",originalEvent:t})}},M=function(t){r._enabled&&t.preventDefault()},A=function(t){if(r._enabled){if(y(t,x),r._getClientRect(d),n.copy(x),a.copy(x),_(t)&&t.touches.length>=2){var e=t,o=x.x-e.touches[1].clientX,i=x.y-e.touches[1].clientY,c=Math.sqrt(o*o+i*i);s.set(0,c);var l=.5*(e.touches[0].clientX+e.touches[1].clientX),h=.5*(e.touches[0].clientY+e.touches[1].clientY);a.set(l,h)}document.addEventListener(\"mousemove\",U),document.addEventListener(\"touchmove\",U,{passive:!1}),document.addEventListener(\"mouseup\",L),document.addEventListener(\"touchend\",L),r.dispatchEvent({type:\"controlstart\",originalEvent:t})}},U=function(t){if(r._enabled){t.preventDefault(),y(t,x);var e=a.x-x.x,o=a.y-x.y;switch(a.copy(x),r._state){case i.ROTATE:case i.TOUCH_ROTATE:u(e,o);break;case i.DOLLY:case i.ZOOM:var c=r.dollyToCursor?(n.x-d.x)/d.z*2-1:0,l=r.dollyToCursor?(n.y-d.y)/d.w*-2+1:0;r._state===i.DOLLY?f(o*Y,c,l):m(o*Y,c,l);break;case i.TOUCH_DOLLY:case i.TOUCH_ZOOM:case i.TOUCH_DOLLY_TRUCK:case i.TOUCH_ZOOM_TRUCK:case i.TOUCH_DOLLY_OFFSET:case i.TOUCH_ZOOM_OFFSET:var h=t,_=x.x-h.touches[1].clientX,v=x.y-h.touches[1].clientY,g=Math.sqrt(_*_+v*v),w=s.y-g;s.set(0,g);c=r.dollyToCursor?(a.x-d.x)/d.z*2-1:0,l=r.dollyToCursor?(a.y-d.y)/d.w*-2+1:0;r._state===i.TOUCH_DOLLY||r._state===i.TOUCH_DOLLY_TRUCK?f(w*Y,c,l):m(w*Y,c,l),r._state===i.TOUCH_DOLLY_TRUCK||r._state===i.TOUCH_ZOOM_TRUCK?p(e,o,!1):r._state!==i.TOUCH_DOLLY_OFFSET&&r._state!==i.TOUCH_ZOOM_OFFSET||p(e,o,!0);break;case i.TRUCK:case i.TOUCH_TRUCK:p(e,o,!1);break;case i.OFFSET:case i.TOUCH_OFFSET:p(e,o,!0)}r.dispatchEvent({type:\"control\",originalEvent:t})}},L=function(t){r._enabled&&(v(),r.dispatchEvent({type:\"controlend\",originalEvent:t}))};r._domElement.addEventListener(\"mousedown\",E),r._domElement.addEventListener(\"touchstart\",T),r._domElement.addEventListener(\"wheel\",S),r._domElement.addEventListener(\"contextmenu\",M),r._removeAllEventListeners=function(){r._domElement.removeEventListener(\"mousedown\",E),r._domElement.removeEventListener(\"touchstart\",T),r._domElement.removeEventListener(\"wheel\",S),r._domElement.removeEventListener(\"contextmenu\",M),document.removeEventListener(\"mousemove\",U),document.removeEventListener(\"touchmove\",U,{passive:!1}),document.removeEventListener(\"mouseup\",L),document.removeEventListener(\"touchend\",L)},r.cancel=function(){v(),r.dispatchEvent({type:\"controlend\",originalEvent:null})}}return r.update(0),r}return function(t,e){function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(e,t),e.install=function(t){w=t.THREE,E=Object.freeze(new w.Vector3(0,0,0)),O=Object.freeze(new w.Vector3(0,1,0)),T=Object.freeze(new w.Vector3(0,0,1)),x=new w.Vector2,b=new w.Vector3,C=new w.Vector3,S=new w.Vector3,M=new w.Vector3,A=new w.Vector3,U=new w.Vector3,L=new w.Spherical,F=new w.Spherical,z=new w.Box3,D=new w.Box3,P=new w.Sphere,R=new w.Quaternion,V=new w.Quaternion,k=new w.Matrix4,j=new w.Raycaster},Object.defineProperty(e,\"ACTION\",{get:function(){return N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"enabled\",{get:function(){return this._enabled},set:function(t){this._enabled=t,t||this.cancel()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"currentAction\",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"distance\",{get:function(){return this._spherical.radius},set:function(t){this._spherical.radius===t&&this._sphericalEnd.radius===t||(this._spherical.radius=t,this._sphericalEnd.radius=t,this._needsUpdate=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"azimuthAngle\",{get:function(){return this._spherical.theta},set:function(t){this._spherical.theta===t&&this._sphericalEnd.theta===t||(this._spherical.theta=t,this._sphericalEnd.theta=t,this._needsUpdate=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"polarAngle\",{get:function(){return this._spherical.phi},set:function(t){this._spherical.phi===t&&this._sphericalEnd.phi===t||(this._spherical.phi=t,this._sphericalEnd.phi=t,this._needsUpdate=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"phiSpeed\",{set:function(t){console.warn(\"phiSpeed was renamed. use azimuthRotateSpeed instead\"),this.azimuthRotateSpeed=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"thetaSpeed\",{set:function(t){console.warn(\"thetaSpeed was renamed. use polarRotateSpeed instead\"),this.polarRotateSpeed=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"boundaryEnclosesCamera\",{get:function(){return this._boundaryEnclosesCamera},set:function(t){this._boundaryEnclosesCamera=t,this._needsUpdate=!0},enumerable:!1,configurable:!0}),e.prototype.addEventListener=function(e,o){t.prototype.addEventListener.call(this,e,o)},e.prototype.removeEventListener=function(e,o){t.prototype.removeEventListener.call(this,e,o)},e.prototype.rotate=function(t,e,o){void 0===o&&(o=!1),this.rotateTo(this._sphericalEnd.theta+t,this._sphericalEnd.phi+e,o)},e.prototype.rotateTo=function(t,e,o){void 0===o&&(o=!1);var i=w.MathUtils.clamp(t,this.minAzimuthAngle,this.maxAzimuthAngle),r=w.MathUtils.clamp(e,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=i,this._sphericalEnd.phi=r,this._sphericalEnd.makeSafe(),o||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi),this._needsUpdate=!0},e.prototype.dolly=function(t,e){void 0===e&&(e=!1),this.dollyTo(this._sphericalEnd.radius-t,e)},e.prototype.dollyTo=function(t,e){void 0===e&&(e=!1),this._sphericalEnd.radius=w.MathUtils.clamp(t,this.minDistance,this.maxDistance),e||(this._spherical.radius=this._sphericalEnd.radius),this._needsUpdate=!0},e.prototype.zoom=function(t,e){void 0===e&&(e=!1),this.zoomTo(this._zoomEnd+t,e)},e.prototype.zoomTo=function(t,e){void 0===e&&(e=!1),this._zoomEnd=w.MathUtils.clamp(t,this.minZoom,this.maxZoom),e||(this._zoom=this._zoomEnd),this._needsUpdate=!0},e.prototype.pan=function(t,e,o){void 0===o&&(o=!1),console.log(\"`pan` has been renamed to `truck`\"),this.truck(t,e,o)},e.prototype.truck=function(t,e,o){void 0===o&&(o=!1),this._camera.updateMatrix(),M.setFromMatrixColumn(this._camera.matrix,0),A.setFromMatrixColumn(this._camera.matrix,1),M.multiplyScalar(t),A.multiplyScalar(-e);var i=b.copy(M).add(A);this._encloseToBoundary(this._targetEnd,i,this.boundaryFriction),o||this._target.copy(this._targetEnd),this._needsUpdate=!0},e.prototype.forward=function(t,e){void 0===e&&(e=!1),b.setFromMatrixColumn(this._camera.matrix,0),b.crossVectors(this._camera.up,b),b.multiplyScalar(t),this._encloseToBoundary(this._targetEnd,b,this.boundaryFriction),e||this._target.copy(this._targetEnd),this._needsUpdate=!0},e.prototype.moveTo=function(t,e,o,i){void 0===i&&(i=!1),this._targetEnd.set(t,e,o),i||this._target.copy(this._targetEnd),this._needsUpdate=!0},e.prototype.fitToBox=function(t,e,o){var i=void 0===o?{}:o,r=i.paddingLeft,n=void 0===r?0:r,a=i.paddingRight,s=void 0===a?0:a,h=i.paddingBottom,f=void 0===h?0:h,m=i.paddingTop,_=void 0===m?0:m,y=t.isBox3?z.copy(t):z.setFromObject(t);if(y.isEmpty())console.warn(\"camera-controls: fitTo() cannot be used with an empty box. Aborting\");else{var v=u(this._sphericalEnd.theta,d),g=u(this._sphericalEnd.phi,d);this.rotateTo(v,g,e);var w=b.setFromSpherical(this._sphericalEnd).normalize(),E=R.setFromUnitVectors(w,T);p(Math.abs(w.y)-1)&&E.multiply(V.setFromAxisAngle(O,v));var x=D.makeEmpty();C.copy(y.min).applyQuaternion(E),x.expandByPoint(C),C.copy(y.min).setX(y.max.x).applyQuaternion(E),x.expandByPoint(C),C.copy(y.min).setY(y.max.y).applyQuaternion(E),x.expandByPoint(C),C.copy(y.max).setZ(y.min.z).applyQuaternion(E),x.expandByPoint(C),C.copy(y.min).setZ(y.max.z).applyQuaternion(E),x.expandByPoint(C),C.copy(y.max).setY(y.min.y).applyQuaternion(E),x.expandByPoint(C),C.copy(y.max).setX(y.min.x).applyQuaternion(E),x.expandByPoint(C),C.copy(y.max).applyQuaternion(E),x.expandByPoint(C),E.setFromUnitVectors(T,w),x.min.x-=n,x.min.y-=f,x.max.x+=s,x.max.y+=_;var S=x.getSize(b),M=x.getCenter(C).applyQuaternion(E);if(c(this._camera)){var A=this.getDistanceToFitBox(S.x,S.y,S.z);return this.moveTo(M.x,M.y,M.z,e),this.dollyTo(A,e),void this.setFocalOffset(0,0,0,e)}if(l(this._camera)){var U=this._camera,L=U.right-U.left,F=U.top-U.bottom,P=Math.min(L/S.x,F/S.y);return this.moveTo(M.x,M.y,M.z,e),this.zoomTo(P,e),void this.setFocalOffset(0,0,0,e)}}},e.prototype.fitTo=function(t,e,o){void 0===o&&(o={}),console.warn(\"camera-controls: fitTo() has been renamed to fitToBox()\"),this.fitToBox(t,e,o)},e.prototype.fitToSphere=function(t,e){var o=t instanceof w.Sphere?P.copy(t):function(t,e){var o=e,i=o.center;t.traverse((function(t){t.isMesh&&z.expandByObject(t)})),z.getCenter(i);var r=0;return t.traverse((function(t){if(t.isMesh){var e=t,o=e.geometry.clone();if(o.applyMatrix4(e.matrixWorld),e.geometry.isBufferGeometry)for(var n=0,a=(s=o.attributes.position).count;n<a;n++)b.fromBufferAttribute(s,n),r=Math.max(r,i.distanceToSquared(b));else{var s=o.attributes.position,c=new w.Vector3;for(n=0,a=s.count;n<a;n++)c.fromBufferAttribute(s,n),r=Math.max(r,i.distanceToSquared(c))}}})),o.radius=Math.sqrt(r),o}(t,P);if(this.moveTo(o.center.x,o.center.y,o.center.z,e),c(this._camera)){var i=this.getDistanceToFitSphere(o.radius);this.dollyTo(i,e)}else if(l(this._camera)){var r=this._camera.right-this._camera.left,n=this._camera.top-this._camera.bottom,a=2*o.radius,s=Math.min(r/a,n/a);this.zoomTo(s,e)}this.setFocalOffset(0,0,0,e)},e.prototype.setLookAt=function(t,e,o,i,r,n,a){void 0===a&&(a=!1);var s=b.set(t,e,o),c=C.set(i,r,n);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(s.sub(c).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd)),this._needsUpdate=!0},e.prototype.lerpLookAt=function(t,e,o,i,r,n,a,s,c,l,h,d,p,u){void 0===u&&(u=!1);var f=b.set(t,e,o),m=C.set(i,r,n);L.setFromVector3(f.sub(m).applyQuaternion(this._yAxisUpSpace));var _=b.set(l,h,d);this._targetEnd.copy(m).lerp(_,p);var y=C.set(a,s,c);F.setFromVector3(y.sub(_).applyQuaternion(this._yAxisUpSpace));var v=F.theta-L.theta,g=F.phi-L.phi,w=F.radius-L.radius;this._sphericalEnd.set(L.radius+w*p,L.phi+g*p,L.theta+v*p),this.normalizeRotations(),u||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd)),this._needsUpdate=!0},e.prototype.setPosition=function(t,e,o,i){void 0===i&&(i=!1),this.setLookAt(t,e,o,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,i)},e.prototype.setTarget=function(t,e,o,i){void 0===i&&(i=!1);var r=this.getPosition(b);this.setLookAt(r.x,r.y,r.z,t,e,o,i)},e.prototype.setFocalOffset=function(t,e,o,i){void 0===i&&(i=!1),this._focalOffsetEnd.set(t,e,o),i||this._focalOffset.copy(this._focalOffsetEnd),this._needsUpdate=!0},e.prototype.setBoundary=function(t){if(!t)return this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),void(this._needsUpdate=!0);this._boundary.copy(t),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0},e.prototype.setViewport=function(t,e,o,i){null!==t?(this._viewport=this._viewport||new w.Vector4,\"number\"===typeof t?this._viewport.set(t,e,o,i):this._viewport.copy(t)):this._viewport=null},e.prototype.getDistanceToFitBox=function(t,e,o){if(v(this._camera,\"getDistanceToFit\"))return this._spherical.radius;var i=this._camera,r=t/e,n=i.getEffectiveFOV()*w.MathUtils.DEG2RAD,a=i.aspect;return.5*(r<a?e:t/a)/Math.tan(.5*n)+.5*o},e.prototype.getDistanceToFit=function(t,e,o){return console.warn(\"camera-controls: getDistanceToFit() has been renamed to getDistanceToFitBox()\"),this.getDistanceToFitBox(t,e,o)},e.prototype.getDistanceToFitSphere=function(t){if(v(this._camera,\"getDistanceToFitSphere\"))return this._spherical.radius;var e=this._camera,o=e.getEffectiveFOV()*w.MathUtils.DEG2RAD,i=2*Math.atan(Math.tan(.5*o)*e.aspect),r=1<e.aspect?o:i;return t/Math.sin(.5*r)},e.prototype.getTarget=function(t){return(t&&t.isVector3?t:new w.Vector3).copy(this._targetEnd)},e.prototype.getPosition=function(t){return(t&&t.isVector3?t:new w.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)},e.prototype.getFocalOffset=function(t){return(t&&t.isVector3?t:new w.Vector3).copy(this._focalOffsetEnd)},e.prototype.normalizeRotations=function(){this._sphericalEnd.theta=this._sphericalEnd.theta%h,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=h),this._spherical.theta+=h*Math.round((this._sphericalEnd.theta-this._spherical.theta)/h)},e.prototype.reset=function(t){void 0===t&&(t=!1),this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,t),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,t),this.zoomTo(this._zoom0,t)},e.prototype.saveState=function(){this._target0.copy(this._target),this._position0.copy(this._camera.position),this._zoom0=this._zoom},e.prototype.updateCameraUp=function(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,O),g(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace))},e.prototype.update=function(t){var e=this._state===i.NONE?this.dampingFactor:this.draggingDampingFactor,o=1-Math.exp(-e*t*62.5),r=this._sphericalEnd.theta-this._spherical.theta,n=this._sphericalEnd.phi-this._spherical.phi,a=this._sphericalEnd.radius-this._spherical.radius,s=b.subVectors(this._targetEnd,this._target),h=C.subVectors(this._focalOffsetEnd,this._focalOffset);if(p(r)&&p(n)&&p(a)&&p(s.x)&&p(s.y)&&p(s.z)&&p(h.x)&&p(h.y)&&p(h.z)?(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd),this._focalOffset.copy(this._focalOffsetEnd)):(this._spherical.set(this._spherical.radius+a*o,this._spherical.phi+n*o,this._spherical.theta+r*o),this._target.add(s.multiplyScalar(o)),this._focalOffset.add(h.multiplyScalar(o)),this._needsUpdate=!0),0!==this._dollyControlAmount){if(c(this._camera)){var d=this._camera,u=b.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),f=C.copy(u).cross(d.up).normalize();0===f.lengthSq()&&(f.x=1);var m=S.crossVectors(f,u),_=this._sphericalEnd.radius*Math.tan(d.getEffectiveFOV()*w.MathUtils.DEG2RAD*.5),y=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,v=b.copy(this._targetEnd).add(f.multiplyScalar(this._dollyControlCoord.x*_*d.aspect)).add(m.multiplyScalar(this._dollyControlCoord.y*_));this._targetEnd.lerp(v,y),this._target.copy(this._targetEnd)}else if(l(this._camera)){d=this._camera;var g=b.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(d.near+d.far)/(d.near-d.far)).unproject(d),E=C.set(0,0,-1).applyQuaternion(d.quaternion),O=E.dot(d.up),T=p(O)?-g.dot(d.up):-g.dot(d.up)/O;v=S.copy(g).add(E.multiplyScalar(T));this._targetEnd.lerp(v,1-d.zoom/this._dollyControlAmount),this._target.copy(this._targetEnd)}this._dollyControlAmount=0}var x=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,x),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!p(this._focalOffset.x)||!p(this._focalOffset.y)||!p(this._focalOffset.z))&&(this._camera.updateMatrix(),M.setFromMatrixColumn(this._camera.matrix,0),A.setFromMatrixColumn(this._camera.matrix,1),U.setFromMatrixColumn(this._camera.matrix,2),M.multiplyScalar(this._focalOffset.x),A.multiplyScalar(-this._focalOffset.y),U.multiplyScalar(this._focalOffset.z),b.copy(M).add(A).add(U),this._camera.position.add(b)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),b.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);var L=this._zoomEnd-this._zoom;this._zoom+=L*o,this._camera.zoom!==this._zoom&&(p(L)&&(this._zoom=this._zoomEnd),this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);var F=this._needsUpdate;return F&&!this._updatedLastTime?(this.dispatchEvent({type:\"wake\"}),this.dispatchEvent({type:\"update\"})):F?this.dispatchEvent({type:\"update\"}):!F&&this._updatedLastTime&&this.dispatchEvent({type:\"sleep\"}),this._updatedLastTime=F,this._needsUpdate=!1,F},e.prototype.toJSON=function(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:f(this.maxDistance),minZoom:this.minZoom,maxZoom:f(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:f(this.maxPolarAngle),minAzimuthAngle:f(this.minAzimuthAngle),maxAzimuthAngle:f(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:b.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})},e.prototype.fromJSON=function(t,e){void 0===e&&(e=!1);var o=JSON.parse(t),i=b.fromArray(o.position);this.enabled=o.enabled,this.minDistance=o.minDistance,this.maxDistance=m(o.maxDistance),this.minZoom=o.minZoom,this.maxZoom=m(o.maxZoom),this.minPolarAngle=o.minPolarAngle,this.maxPolarAngle=m(o.maxPolarAngle),this.minAzimuthAngle=m(o.minAzimuthAngle),this.maxAzimuthAngle=m(o.maxAzimuthAngle),this.dampingFactor=o.dampingFactor,this.draggingDampingFactor=o.draggingDampingFactor,this.dollySpeed=o.dollySpeed,this.truckSpeed=o.truckSpeed,this.dollyToCursor=o.dollyToCursor,this.verticalDragToForward=o.verticalDragToForward,this._target0.fromArray(o.target0),this._position0.fromArray(o.position0),this._zoom0=o.zoom0,this._focalOffset0.fromArray(o.focalOffset0),this.moveTo(o.target[0],o.target[1],o.target[2],e),L.setFromVector3(i.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(L.theta,L.phi,e),this.zoomTo(o.zoom,e),this.setFocalOffset(o.focalOffset[0],o.focalOffset[1],o.focalOffset[2],e),this._needsUpdate=!0},e.prototype.dispose=function(){this._removeAllEventListeners()},e.prototype._encloseToBoundary=function(t,e,o){var i=e.lengthSq();if(0===i)return t;var r=C.copy(e).add(t),n=this._boundary.clampPoint(r,S).sub(r),a=n.lengthSq();if(0===a)return t.add(e);if(a===i)return t;if(0===o)return t.add(e).add(n);var s=1+o*a/e.dot(n);return t.add(C.copy(e).multiplyScalar(s)).add(n.multiplyScalar(1-o))},e.prototype._updateNearPlaneCorners=function(){if(c(this._camera)){var t=(r=this._camera).near,e=r.getEffectiveFOV()*w.MathUtils.DEG2RAD,o=Math.tan(.5*e)*t,i=o*r.aspect;this._nearPlaneCorners[0].set(-i,-o,0),this._nearPlaneCorners[1].set(i,-o,0),this._nearPlaneCorners[2].set(i,o,0),this._nearPlaneCorners[3].set(-i,o,0)}else if(l(this._camera)){var r,n=1/(r=this._camera).zoom,a=r.left*n,s=r.right*n,h=r.top*n,d=r.bottom*n;this._nearPlaneCorners[0].set(a,h,0),this._nearPlaneCorners[1].set(s,h,0),this._nearPlaneCorners[2].set(s,d,0),this._nearPlaneCorners[3].set(a,d,0)}},e.prototype._collisionTest=function(){var t=1/0;if(!(this.colliderMeshes.length>=1))return t;if(v(this._camera,\"_collisionTest\"))return t;t=this._spherical.radius;var e=b.setFromSpherical(this._spherical).divideScalar(t);k.lookAt(E,e,this._camera.up);for(var o=0;o<4;o++){var i=C.copy(this._nearPlaneCorners[o]);i.applyMatrix4(k);var r=S.addVectors(this._target,i);j.set(r,e),j.far=t;var n=j.intersectObjects(this.colliderMeshes);0!==n.length&&n[0].distance<t&&(t=n[0].distance)}return t},e.prototype._getClientRect=function(t){var e=this._domElement.getBoundingClientRect();return t.x=e.left,t.y=e.top,this._viewport?(t.x+=this._viewport.x,t.y+=e.height-this._viewport.w-this._viewport.y,t.z=this._viewport.z,t.w=this._viewport.w):(t.z=e.width,t.w=e.height),t},e.prototype._removeAllEventListeners=function(){},e}(B);function Z(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function G(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Q(t,e,o){return e&&G(t.prototype,e),o&&G(t,o),t}var K=function(){function t(e,o,i,r){Z(this,t);var n=new a.Group,s=new a.SphereBufferGeometry(1.5*r,7*r,11);s.translate(-2*r,0,0);var c=new a.SphereBufferGeometry(1.5*r,7*r,11);c.translate(2*r,0,0);var l=new a.SphereBufferGeometry(2*r,7*r,11);l.translate(0,0,0);var h=new a.Mesh(s,new a.MeshPhongMaterial({color:\"white\",flatShading:!0})),d=new a.Mesh(l,new a.MeshPhongMaterial({color:\"white\",flatShading:!0})),p=new a.Mesh(c,new a.MeshPhongMaterial({color:\"white\",flatShading:!0}));n.add(h),n.add(d),n.add(p),o.add(n),n.castShadow=!0,n.receiveShadow=!0,n.position.x=e.x,n.position.y=e.y,n.position.z=e.z,this.grass=n,this.speed=i,this.pos=e}return Q(t,[{key:\"update\",value:function(){var t=this.grass;t.position.x+=this.speed,t.position.x>400&&(t.position.x=this.pos.x)}}]),t}();function X(t,e,o){var i=document.createElement(\"CANVAS\");i.width=e,i.height=o;var r=i.getContext(\"2d\");r.fillStyle=\"black\",r.fillRect(0,0,e,o);for(var n=0;n<t;++n){var s=2*Math.random(),c=Math.floor(Math.random()*e),l=Math.floor(Math.random()*o);r.beginPath(),r.arc(c,l,s,0,2*Math.PI,!1),r.fillStyle=\"white\",r.fill()}var h=new a.Texture(i);return h.needsUpdate=!0,h}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}function W(t){return function(t){if(Array.isArray(t))return q(t)}(t)||function(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"===typeof t)return q(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===o&&t.constructor&&(o=t.constructor.name),\"Map\"===o||\"Set\"===o?Array.from(t):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?q(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function J(t,e,o,i){var r,n=new a.DirectionalLight(e,o,100);return(r=n.position).set.apply(r,W(i)),n.castShadow=!1,t.add(n),n}function $(t,e,o,i,r){return(r=void 0!==r&&r)&&t.parent.localToWorld(t.position),t.position.sub(e),t.position.applyAxisAngle(o,i),t.position.add(e),r&&t.parent.worldToLocal(t.position),t.rotateOnAxis(o,i),i}var tt=function(){function t(e,o){Z(this,t),this.SceneToGet=e,this.Renders=o;var i=new a.SphereBufferGeometry(20,20,100,100),r=new a.MeshLambertMaterial({emissive:16373532}),n=new a.Mesh(i,r);n.position.set(1,300,300),e.add(n);var s=new a.SphereBufferGeometry(10,10,100,100),c=new a.MeshLambertMaterial({emissive:16777215}),l=new a.Mesh(s,c);l.position.set(-1,-200,-300),e.add(l);var h=new a.BoxGeometry(1,1,1),d=new a.Mesh(h);d.visible=!1,e.add(d),this.cube=d,this.moonMesh=l,this.sunmesh=n,this.t=0,this.dTIme=0,this.directionalLight=J(e,14548974,.5,[1,100,100]),this.directionalLight2=J(e,16777215,.2,[1,-100,-100]),this.light=function(t,e,o){var i=new a.AmbientLight(e,o);return t.add(i),i}(e,11184810,.5);var p=new a.BoxGeometry(1200,1200,1200),u=new a.MeshBasicMaterial({map:X(600,2048,2048),side:a.BackSide});this.sky=new a.Mesh(p,u)}return Q(t,[{key:\"update\",value:function(){var t=$(this.directionalLight,new a.Vector3(0,0,0),new a.Vector3(1,0,0),.001,!0),e=a.MathUtils.radToDeg(this.cube.rotation.x);$(this.sunmesh,new a.Vector3(100,0,0),new a.Vector3(1,0,0),.001,!0),$(this.moonMesh,new a.Vector3(100,0,0),new a.Vector3(1,0,0),.001,!0),$(this.directionalLight2,new a.Vector3(0,0,0),new a.Vector3(1,0,0),.001,!0),e<40&&this.dTIme<1?(this.t=0,this.directionalLight.color.setHex(14548974),this.dTIme+=.003,this.dTIme>=1&&(this.dTIme=1),this.Renders.setClearColor((new a.Color).lerpColors(new a.Color(16627731),new a.Color(8900331),this.dTIme),1),this.light.intensity=.5,this.directionalLight2.color.setHex(0),this.directionalLight.intensity=.5,this.directionalLight2.intensity=0,this.SceneToGet.remove(this.sky)):e<40||this.sky.parent===this.SceneToGet||(this.dTIme=0,this.t+=.01,this.t>=1&&(this.t=1,this.SceneToGet.add(this.sky)),this.directionalLight2.color.setHex(16777215),this.Renders.setClearColor((new a.Color).lerpColors(new a.Color(8900331),new a.Color(0),this.t),1),this.light.intensity=.2,this.directionalLight.intensity=0,this.directionalLight2.intensity=.2),this.sky.parent===this.SceneToGet&&(this.sky.rotation.x+=-4e-4),this.cube.rotateOnAxis(new a.Vector3(1,0,0),t)}}]),t}(),et=o(\"zvNv\");function ot(t,e){var o=function(t,e,o){var i=document.createElement(\"canvas\").getContext(\"2d\"),r=\"\".concat(e,\"px Verdana\");i.font=r;var n=i.measureText(o).width,a=t+4,s=e+4;i.canvas.width=a,i.canvas.height=s,i.font=r,i.textBaseline=\"middle\",i.textAlign=\"center\";var c=Math.min(1,t/n);return i.translate(a/2,s/2),i.scale(c,1),i.fillStyle=\"white\",i.fillText(o,0,0),i.canvas}(300,32,t),i=new a.CanvasTexture(o);i.minFilter=a.LinearFilter,i.wrapS=a.ClampToEdgeWrapping,i.wrapT=a.ClampToEdgeWrapping;var r=new a.SpriteMaterial({map:i,transparent:!0}),n=new a.Sprite(r);return e.add(n),n.position.y=1,n.scale.x=.01*o.width,n.scale.y=.01*o.height,e}o(\"VT+s\");var it=o(\"Fu16\"),rt=o(\"MZFn\");function nt(){var t,e=Object(n.useState)(void 0),o=e[0],i=e[1],s=Object(n.useState)(0),c=(s[0],s[1],Object(n.useState)(\"not day\")),l=(c[0],c[1],Object(n.useState)(void 0)),h=(l[0],l[1]),d=Object(n.useState)(void 0),p=(d[0],d[1],Object(n.useState)(void 0)),u=(p[0],p[1],Object(et.b)()),f=Object(n.useState)(void 0),m=f[0],_=f[1],y=Object(n.useState)(!1),v=y[0],g=y[1],w=Object(n.useState)([]),E=w[0],O=w[1],T=Object(n.useState)(void 0),x=T[0],b=T[1],C=Object(n.useState)([]),S=C[0],M=(C[1],Object(n.useState)([])),A=M[0],U=M[1];return u.once(\"welcome\",(function(t,e,o){_(t),console.log(e),O(e),b(o)})),Object(n.useEffect)((function(){if(void 0!==o&&void 0!==m&&!0!==v){g(!0);var t=new rt;t.showPanel(1),document.body.appendChild(t.dom);var e=new a.Scene,i=new a.WebGLRenderer({antialias:!0,alpha:!0});i.setClearColor(8900331,1),i.setSize(window.innerWidth,window.innerHeight),o.appendChild(i.domElement);var r=new it(m),n=(new a.Clock,new a.PlaneGeometry(20,20,32,32));n.rotateX(Math.PI/2);var s=new a.MeshStandardMaterial({color:5668166,side:a.DoubleSide}),c=new a.Mesh(n,s);c.position.y=-.5,e.add(c);for(var l=new tt(e,i),h=new a.PlaneBufferGeometry(500,500,100,100),d=[],p=0,f=h.attributes.position.count;p<f;p++){var _=h.attributes.position.array[3*p]/128,y=h.attributes.position.array[3*p+1]/128,w=30*r.noise2D(_,y);h.attributes.position.array[3*p+2]=w,w>23?d.push(1,1,1):w>5?d.push(.56,.54,.48):w<-20?d.push(.501,.772,.87):d.push(.56,.68,.166)}var O=new a.MeshPhongMaterial({vertexColors:a.VertexColors,reflectivity:0,roughness:2});O.flatShading=!0;var T=new a.Mesh(h,O);T.receiveShadow=!0,T.castShadow=!0,T.position.y=-3,h.addAttribute(\"color\",new a.BufferAttribute(new Float32Array(d),3)),h.computeVertexNormals();for(var x=[],b=0;b<40;b++)x.push(new K(new a.Vector3(300*Math.random()-300,80+20*Math.random(),600*Math.random()-400),e,.2*Math.random(),6*Math.random()+1));T.rotateX(Math.PI/2+Math.PI),e.add(T);var C=new a.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),S=!1,M=!1,L=!1,F=!1,z=!1,D=!1,P=!1,R=!1,V=1;document.addEventListener(\"keydown\",(function(t){H(t,!0)}),!1),document.addEventListener(\"keyup\",(function(t){H(t,!1)}),!1),i.domElement.requestPointerLock();var k=new a.GridHelper(50,50);k.position.y=-1,e.add(k);var j=[];console.log(E);var B=function(t,e){var o=[{name:t,event:e}];U([{name:t,event:e}]),console.log(\"array below\"),console.log(o),console.log(A)};E.forEach((function(t){console.log(\"Adding PLayer \"+t);var e=N(t.color,t.name);j[t]=e})),u.on(\"NewPlayer\",(function(t,e){console.log(e),console.log(\"New PLyer \"+t);var o=N(e.color,e.name);B(e.name,\"Joined the game!\"),j[t]=o})),u.on(\"LostPLayer\",(function(t,o,i){console.log(\"lost PLyer \"+t);var r=j[t];e.remove(r),delete j[t],console.log(i),B(i.name,!0===o?\"Was removed from the game for being ianctive\":\"Left the game!\")})),u.on(\"PlayerLocationUpdate\",(function(t,e,o,i){var r=j[t];if(r)r.rotation.set(o._x,o._y,o._z),r.position.set(e.x,e.y,e.z);else{var n=N(i.color,i.name);j[t]=n}})),setInterval((function(){u.emit(\"LocationUpdate\",C.position,C.rotation)}),30);!function t(e){for(var o,i=0;i<e.length;i++)(o=e[i]).children?t(o.children):console.log(\"Reached bottom with: \",o)}(e.children),function o(){if(t.begin(),requestAnimationFrame(o),l.update(),x.forEach((function(t,e){t.update()})),S){var r=new a.Vector3;C.getWorldDirection(r),C.position.add(r.multiplyScalar(1==V?1:.25))}if(L){r=new a.Vector3;C.getWorldDirection(r),C.position.add(r.multiplyScalar(-(1==V?1:.25)))}M&&C.rotateY(.04*V),F&&C.rotateY(-.04*V),z&&C.rotateX(.04*V),D&&C.rotateX(-.04*V),R&&C.rotateZ(.02*V),P&&C.rotateZ(-.02*V),i.render(e,C),t.end()}()}function H(t,e){var o=t.which;87==o&&(S=e),83==o&&(L=e),65==o&&(M=e),68==o&&(F=e),38==o&&(z=e),40==o&&(D=e),69==o&&(P=e),81==o&&(R=e),16==o&&(V=e?.5:1)}function N(t,o){var i=new a.Group,r=new a.BoxGeometry(1,1,1),n=new a.MeshLambertMaterial({color:new a.Color(t),emissive:new a.Color(t)}),s=new a.Mesh(r,n);i.add(s);var c=new a.CylinderGeometry(.3,.3,.6,30),l=new a.MeshLambertMaterial({color:0}),h=new a.Mesh(c,l);return h.rotateX(Math.PI/2+Math.PI),h.position.set(0,0,-.6),i.add(h),ot(o,i),e.add(i),i.name=o,i}}),[o,E]),Object(r.jsxs)(\"main\",{children:[Object(r.jsx)(\"h1\",{style:{position:\"fixed\",marginTop:\"40px\",color:\"white\"},children:void 0===x?\"LOADING...\":x.name}),Object(r.jsx)(\"div\",{style:{width:\"100vw\",height:\"100vh\",position:\"fixed\",marginTop:\"80px\"},children:void 0!==S&&S.length>0?S.map((function(t){void 0!==t&&(t.name,t.event)})):Object(r.jsx)(r.Fragment,{children:\"/\"})}),Object(r.jsx)(\"div\",{ref:function(t){return h(t)}}),null!==(t=void 0===m)&&void 0!==t?t:Object(r.jsx)(\"h1\",{children:\"LOADING SEED!\"}),Object(r.jsx)(\"div\",{ref:function(t){return i(t)}})]})}I.install({THREE:a})},Fu16:function(t,e,o){var i;!function(){\"use strict\";var r=.5*(Math.sqrt(3)-1),n=(3-Math.sqrt(3))/6,a=1/6,s=(Math.sqrt(5)-1)/4,c=(5-Math.sqrt(5))/20;function l(t){var e;e=\"function\"==typeof t?t:t?function(){var t=0,e=0,o=0,i=1,r=d();t=r(\" \"),e=r(\" \"),o=r(\" \");for(var n=0;n<arguments.length;n++)(t-=r(arguments[n]))<0&&(t+=1),(e-=r(arguments[n]))<0&&(e+=1),(o-=r(arguments[n]))<0&&(o+=1);return r=null,function(){var r=2091639*t+2.3283064365386963e-10*i;return t=e,e=o,o=r-(i=0|r)}}(t):Math.random,this.p=h(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var o=0;o<512;o++)this.perm[o]=this.p[255&o],this.permMod12[o]=this.perm[o]%12}function h(t){var e,o=new Uint8Array(256);for(e=0;e<256;e++)o[e]=e;for(e=0;e<255;e++){var i=e+~~(t()*(256-e)),r=o[e];o[e]=o[i],o[i]=r}return o}function d(){var t=4022871197;return function(e){e=e.toString();for(var o=0;o<e.length;o++){var i=.02519603282416938*(t+=e.charCodeAt(o));i-=t=i>>>0,t=(i*=t)>>>0,t+=4294967296*(i-=t)}return 2.3283064365386963e-10*(t>>>0)}}l.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var o,i,a=this.permMod12,s=this.perm,c=this.grad3,l=0,h=0,d=0,p=(t+e)*r,u=Math.floor(t+p),f=Math.floor(e+p),m=(u+f)*n,_=t-(u-m),y=e-(f-m);_>y?(o=1,i=0):(o=0,i=1);var v=_-o+n,g=y-i+n,w=_-1+2*n,E=y-1+2*n,O=255&u,T=255&f,x=.5-_*_-y*y;if(x>=0){var b=3*a[O+s[T]];l=(x*=x)*x*(c[b]*_+c[b+1]*y)}var C=.5-v*v-g*g;if(C>=0){var S=3*a[O+o+s[T+i]];h=(C*=C)*C*(c[S]*v+c[S+1]*g)}var M=.5-w*w-E*E;if(M>=0){var A=3*a[O+1+s[T+1]];d=(M*=M)*M*(c[A]*w+c[A+1]*E)}return 70*(l+h+d)},noise3D:function(t,e,o){var i,r,n,s,c,l,h,d,p,u,f=this.permMod12,m=this.perm,_=this.grad3,y=.3333333333333333*(t+e+o),v=Math.floor(t+y),g=Math.floor(e+y),w=Math.floor(o+y),E=(v+g+w)*a,O=t-(v-E),T=e-(g-E),x=o-(w-E);O>=T?T>=x?(c=1,l=0,h=0,d=1,p=1,u=0):O>=x?(c=1,l=0,h=0,d=1,p=0,u=1):(c=0,l=0,h=1,d=1,p=0,u=1):T<x?(c=0,l=0,h=1,d=0,p=1,u=1):O<x?(c=0,l=1,h=0,d=0,p=1,u=1):(c=0,l=1,h=0,d=1,p=1,u=0);var b=O-c+a,C=T-l+a,S=x-h+a,M=O-d+2*a,A=T-p+2*a,U=x-u+2*a,L=O-1+.5,F=T-1+.5,z=x-1+.5,D=255&v,P=255&g,R=255&w,V=.6-O*O-T*T-x*x;if(V<0)i=0;else{var k=3*f[D+m[P+m[R]]];i=(V*=V)*V*(_[k]*O+_[k+1]*T+_[k+2]*x)}var j=.6-b*b-C*C-S*S;if(j<0)r=0;else{var B=3*f[D+c+m[P+l+m[R+h]]];r=(j*=j)*j*(_[B]*b+_[B+1]*C+_[B+2]*S)}var H=.6-M*M-A*A-U*U;if(H<0)n=0;else{var N=3*f[D+d+m[P+p+m[R+u]]];n=(H*=H)*H*(_[N]*M+_[N+1]*A+_[N+2]*U)}var Y=.6-L*L-F*F-z*z;if(Y<0)s=0;else{var I=3*f[D+1+m[P+1+m[R+1]]];s=(Y*=Y)*Y*(_[I]*L+_[I+1]*F+_[I+2]*z)}return 32*(i+r+n+s)},noise4D:function(t,e,o,i){var r,n,a,l,h,d,p,u,f,m,_,y,v,g,w,E,O,T=this.perm,x=this.grad4,b=(t+e+o+i)*s,C=Math.floor(t+b),S=Math.floor(e+b),M=Math.floor(o+b),A=Math.floor(i+b),U=(C+S+M+A)*c,L=t-(C-U),F=e-(S-U),z=o-(M-U),D=i-(A-U),P=0,R=0,V=0,k=0;L>F?P++:R++,L>z?P++:V++,L>D?P++:k++,F>z?R++:V++,F>D?R++:k++,z>D?V++:k++;var j=L-(d=P>=3?1:0)+c,B=F-(p=R>=3?1:0)+c,H=z-(u=V>=3?1:0)+c,N=D-(f=k>=3?1:0)+c,Y=L-(m=P>=2?1:0)+2*c,I=F-(_=R>=2?1:0)+2*c,Z=z-(y=V>=2?1:0)+2*c,G=D-(v=k>=2?1:0)+2*c,Q=L-(g=P>=1?1:0)+3*c,K=F-(w=R>=1?1:0)+3*c,X=z-(E=V>=1?1:0)+3*c,q=D-(O=k>=1?1:0)+3*c,W=L-1+4*c,J=F-1+4*c,$=z-1+4*c,tt=D-1+4*c,et=255&C,ot=255&S,it=255&M,rt=255&A,nt=.6-L*L-F*F-z*z-D*D;if(nt<0)r=0;else{var at=T[et+T[ot+T[it+T[rt]]]]%32*4;r=(nt*=nt)*nt*(x[at]*L+x[at+1]*F+x[at+2]*z+x[at+3]*D)}var st=.6-j*j-B*B-H*H-N*N;if(st<0)n=0;else{var ct=T[et+d+T[ot+p+T[it+u+T[rt+f]]]]%32*4;n=(st*=st)*st*(x[ct]*j+x[ct+1]*B+x[ct+2]*H+x[ct+3]*N)}var lt=.6-Y*Y-I*I-Z*Z-G*G;if(lt<0)a=0;else{var ht=T[et+m+T[ot+_+T[it+y+T[rt+v]]]]%32*4;a=(lt*=lt)*lt*(x[ht]*Y+x[ht+1]*I+x[ht+2]*Z+x[ht+3]*G)}var dt=.6-Q*Q-K*K-X*X-q*q;if(dt<0)l=0;else{var pt=T[et+g+T[ot+w+T[it+E+T[rt+O]]]]%32*4;l=(dt*=dt)*dt*(x[pt]*Q+x[pt+1]*K+x[pt+2]*X+x[pt+3]*q)}var ut=.6-W*W-J*J-$*$-tt*tt;if(ut<0)h=0;else{var ft=T[et+1+T[ot+1+T[it+1+T[rt+1]]]]%32*4;h=(ut*=ut)*ut*(x[ft]*W+x[ft+1]*J+x[ft+2]*$+x[ft+3]*tt)}return 27*(r+n+a+l+h)}},l._buildPermutationTable=h,void 0===(i=function(){return l}.call(e,o,e,t))||(t.exports=i),e.SimplexNoise=l,t.exports=l}()},MZFn:function(t,e,o){t.exports=function(){var t=function(){function e(t){return r.appendChild(t.dom),t}function o(t){for(var e=0;e<r.children.length;e++)r.children[e].style.display=e===t?\"block\":\"none\";i=t}var i=0,r=document.createElement(\"div\");r.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",r.addEventListener(\"click\",(function(t){t.preventDefault(),o(++i%r.children.length)}),!1);var n=(performance||Date).now(),a=n,s=0,c=e(new t.Panel(\"FPS\",\"#0ff\",\"#002\")),l=e(new t.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var h=e(new t.Panel(\"MB\",\"#f08\",\"#201\"));return o(0),{REVISION:16,dom:r,addPanel:e,showPanel:o,begin:function(){n=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(l.update(t-n,200),t>a+1e3&&(c.update(1e3*s/(t-a),100),a=t,s=0,h)){var e=performance.memory;h.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){n=this.end()},domElement:r,setMode:o}};return t.Panel=function(t,e,o){var i=1/0,r=0,n=Math.round,a=n(window.devicePixelRatio||1),s=80*a,c=48*a,l=3*a,h=2*a,d=3*a,p=15*a,u=74*a,f=30*a,m=document.createElement(\"canvas\");m.width=s,m.height=c,m.style.cssText=\"width:80px;height:48px\";var _=m.getContext(\"2d\");return _.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\",_.textBaseline=\"top\",_.fillStyle=o,_.fillRect(0,0,s,c),_.fillStyle=e,_.fillText(t,l,h),_.fillRect(d,p,u,f),_.fillStyle=o,_.globalAlpha=.9,_.fillRect(d,p,u,f),{dom:m,update:function(c,y){i=Math.min(i,c),r=Math.max(r,c),_.fillStyle=o,_.globalAlpha=1,_.fillRect(0,0,s,p),_.fillStyle=e,_.fillText(n(c)+\" \"+t+\" (\"+n(i)+\"-\"+n(r)+\")\",l,h),_.drawImage(m,d+a,p,u-a,f,d,p,u-a,f),_.fillRect(d+u-a,p,a,f),_.fillStyle=o,_.globalAlpha=.9,_.fillRect(d+u-a,p,a,n((1-c/y)*f))}}},t}()},\"VT+s\":function(t,e){function o(t,e){for(var o=new Array(t*e),i=0;i<o.length;++i)o[i]=Math.random();return o}function i(t,e,o){return t*(1-o)+o*e}e.generatePerlinNoise=function(t,e,r){var n,a=(r=r||{}).octaveCount||4,s=r.amplitude||.1,c=r.persistence||.2,l=o(t,e),h=new Array(a);for(n=0;n<a;++n)h[n]=f(n);var d=new Array(t*e),p=0;for(n=a-1;n>=0;--n){p+=s*=c;for(var u=0;u<d.length;++u)d[u]=d[u]||0,d[u]+=h[n][u]*s}for(n=0;n<d.length;++n)d[n]/=p;return d;function f(o){for(var r=new Array(t*e),n=Math.pow(2,o),a=1/n,s=0,c=0;c<e;++c)for(var h=Math.floor(c/n)*n,d=(h+n)%e,p=(c-h)*a,u=0;u<t;++u){var f=Math.floor(u/n)*n,m=(f+n)%t,_=(u-f)*a,y=i(l[h*t+f],l[d*t+f],p),v=i(l[h*t+m],l[d*t+m],p);r[s]=i(y,v,_),s+=1}return r}},e.generateWhiteNoise=o},\"zl3/\":function(t,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/test\",function(){return o(\"FCuQ\")}])}},[[\"zl3/\",0,1,4,2]]]);","map":{"version":3,"sources":["static/chunks/pages/test-b7060bfa75c6f0bdd0f1.js"],"names":["_N_E","window","push","FCuQ","module","__webpack_exports__","__webpack_require__","r","d","render","ACTION","jsx_runtime","react","three_module","extendStatics","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","isPerspectiveCamera","camera","isOrthographicCamera","PI_2","Math","PI","PI_HALF","approxZero","number","abs","roundToStep","value","step","round","infinityToMaxNumber","isFinite","Number","MAX_VALUE","maxNumberToInfinity","Infinity","isTouchEvent","event","TouchEvent","extractClientCoordFromEvent","out","set","touchEvent","i","touches","length","x","clientX","y","clientY","mouseEvent","notSupportedInOrthographicCamera","message","console","warn","quatInvertCompat","target","invert","inverse","THREE","_ORIGIN","_AXIS_Y","_AXIS_Z","_v2","_v3A","_v3B","_v3C","_xColumn","_yColumn","_zColumn","_sphericalA","_sphericalB","_box3A","_box3B","_sphere","_quaternionA","_quaternionB","_rotationMatrix","_raycaster","EventDispatcher","this","_listeners","addEventListener","type","listener","listeners","undefined","indexOf","removeEventListener","listenerArray","index","splice","removeAllEventListeners","isArray","dispatchEvent","array","slice","l","isMac","test","navigator","platform","readonlyACTION","freeze","TOUCH_DOLLY_FACTOR","camera_controls_module","_super","CameraControls","domElement","_this","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","minDistance","maxDistance","infinityDolly","minZoom","maxZoom","dampingFactor","draggingDampingFactor","azimuthRotateSpeed","polarRotateSpeed","dollySpeed","truckSpeed","dollyToCursor","dragToOffset","verticalDragToForward","boundaryFriction","colliderMeshes","cancel","_enabled","_state","NONE","_viewport","_dollyControlAmount","_boundaryEnclosesCamera","_needsUpdate","_updatedLastTime","error","_camera","_yAxisUpSpace","Quaternion","setFromUnitVectors","up","_yAxisUpSpaceInverse","clone","_domElement","_target","Vector3","_targetEnd","_focalOffset","_focalOffsetEnd","_spherical","Spherical","setFromVector3","copy","position","applyQuaternion","_sphericalEnd","_zoom","zoom","_zoomEnd","_nearPlaneCorners","_updateNearPlaneCorners","_boundary","Box3","_target0","_position0","_zoom0","_focalOffset0","_dollyControlCoord","Vector2","mouseButtons","left","ROTATE","middle","DOLLY","right","TRUCK","wheel","ZOOM","one","TOUCH_ROTATE","two","TOUCH_DOLLY_TRUCK","TOUCH_ZOOM_TRUCK","three","TOUCH_TRUCK","dragStartPosition_1","lastDragPosition_1","dollyStart_1","elementRect_1","Vector4","truckInternal_1","deltaX","deltaY","camera_1","offset","sub","fov","getEffectiveFOV","MathUtils","DEG2RAD","targetDistance","tan","truckX","w","pedestalY","setFocalOffset","z","truck","forward","camera_2","top","bottom","rotateInternal_1","theta","phi","rotate","dollyInternal_1","delta","dollyScale","pow","distance","radius","prevRadius","dollyTo","getWorldDirection","add","normalize","multiplyScalar","zoomInternal_1","zoomScale","zoomTo","cancelDragging_1","document","dragging_1","passive","endDragging_1","onMouseDown_1","button","MOUSE","LEFT","MIDDLE","RIGHT","startDragging_1","onTouchStart_1","lastScrollTimeStamp_1","onMouseWheel_1","preventDefault","now","performance","_getClientRect","deltaYFactor","deltaMode","OFFSET","originalEvent","onContextMenu_1","dx","dy","sqrt","dollyX","dollyY","TOUCH_DOLLY","TOUCH_ZOOM","TOUCH_DOLLY_OFFSET","TOUCH_ZOOM_OFFSET","dollyDelta","TOUCH_OFFSET","_removeAllEventListeners","update","__","constructor","create","__extends","install","libs","Sphere","Matrix4","Raycaster","defineProperty","get","enumerable","configurable","enabled","azimuthAngle","polarAngle","speed","boundaryEnclosesCamera","enableTransition","rotateTo","clamp","makeSafe","dolly","zoomStep","pan","log","updateMatrix","setFromMatrixColumn","matrix","_encloseToBoundary","crossVectors","moveTo","fitToBox","box3OrObject","_a","_b","_c","paddingLeft","_d","paddingRight","_e","paddingBottom","_f","paddingTop","aabb","isBox3","setFromObject","isEmpty","normal","setFromSpherical","rotation","multiply","setFromAxisAngle","bb","makeEmpty","min","expandByPoint","setX","max","setY","setZ","bbSize","getSize","center","getCenter","getDistanceToFitBox","width","height","fitTo","fitToOptions","fitToSphere","sphereOrMesh","boundingSphere","object3d","traverse","object","isMesh","expandByObject","maxRadiusSq","mesh","geometry","applyMatrix4","matrixWorld","isBufferGeometry","attributes","count","fromBufferAttribute","distanceToSquared","vector","createBoundingSphere","distanceToFit","getDistanceToFitSphere","diameter","setLookAt","positionX","positionY","positionZ","targetX","targetY","targetZ","normalizeRotations","lerpLookAt","positionAX","positionAY","positionAZ","targetAX","targetAY","targetAZ","positionBX","positionBY","positionBZ","targetBX","targetBY","targetBZ","t","positionA","targetA","targetB","lerp","positionB","deltaTheta","deltaPhi","deltaRadius","setPosition","setTarget","pos","getPosition","setBoundary","box3","clampPoint","setViewport","viewportOrX","depth","boundingRectAspect","aspect","getDistanceToFit","vFOV","hFOV","atan","sin","getTarget","isVector3","getFocalOffset","reset","saveState","updateCameraUp","lerpRatio","exp","deltaTarget","subVectors","deltaOffset","direction","negate","planeX","cross","lengthSq","planeY","worldToScreen","lerpRatio_1","cursor","worldPosition","near","far","unproject","quaternion","divisor","dot","_collisionTest","lookAt","zoomDelta","updateProjectionMatrix","updated","toJSON","JSON","stringify","toArray","focalOffset","target0","position0","zoom0","focalOffset0","fromJSON","json","obj","parse","fromArray","dispose","friction","offsetLength2","newTarget","deltaClampedTarget","deltaClampedTargetLength2","offsetFactor","heightHalf","widthHalf","zoomInv","top_1","divideScalar","nearPlaneCorner","origin_1","addVectors","intersects","intersectObjects","rect","getBoundingClientRect","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","writable","key","_createClass","protoProps","staticProps","clouds_GenerateClouds","GenerateClouds","scene","scale","group","tuft1","translate","tuft3","tuft2","cloud","color","flatShading","cloud1","cloud2","castShadow","receiveShadow","grass","geos","getRandomStarField","numberOfStars","canvas","createElement","ctx","getContext","fillStyle","fillRect","random","floor","beginPath","arc","fill","texture","needsUpdate","_arrayLikeToArray","arr","len","arr2","_toConsumableArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","n","toString","name","_unsupportedIterableToArray","_nonIterableSpread","CreateDirectionalLight","Scene","brightness","_directionalLight$pos","directionalLight","apply","rotateAboutPoint","point","axis","pointIsWorld","parent","localToWorld","applyAxisAngle","worldToLocal","rotateOnAxis","DayNightCycle_CreateDayNightCycle","CreateDayNightCycle","SceneToGet","Renders","sun","sunMaterial","emissive","sunmesh","moon","moonMaterial","moonMesh","cube","visible","dTIme","directionalLight2","light","CreateAmbientLight","skyBox","skyBoxMaterial","map","side","sky","angle","radToDeg","setHex","setClearColor","lerpColors","intensity","remove","contextHandler","GenerateLabel","baseWidth","size","font","concat","textWidth","measureText","borderSize","textBaseline","textAlign","scaleFactor","fillText","CreateTag","minFilter","wrapS","wrapT","labelMaterial","transparent","label","SimplexNoise","Stats","_ref2","_useState","child","setChild","_useState2","_useState3","_useState4","setChild2","_useState5","_useState6","socket","_useState7","recievedSeed","setSeed","_useState8","rendered","setRendered","_useState9","clients","setClients","_useState10","personData","setPersonalData","_useState11","latestPerson","_useState12","gameEventData","setgameEventData","once","seed","client","data","stats","showPanel","body","appendChild","dom","antialias","alpha","setSize","innerWidth","innerHeight","simplex","planeGeometry","rotateX","planeMaterial","plane","daynight","colours","noise2D","material","vertexColors","reflectivity","roughness","plane2","addAttribute","Float32Array","computeVertexNormals","clouds","_i","Camera","a","s","down","e","q","shift","onDocumentKeyDown","requestPointerLock","gridHelper","players","addtoGameFeed","outArrayToSender","forEach","MakeCube","on","id","how","rot","_x","_y","_z","_cube","setInterval","emit","listChildren","children","_i2","animate","begin","requestAnimationFrame","rotateY","rotateZ","end","val","keyCode","which","cyclinder","material2","cylinderBuild","style","marginTop","ref","_ref","_ref3","Fu16","exports","__WEBPACK_AMD_DEFINE_RESULT__","F2","G2","G3","F4","G4","randomOrSeed","s0","s1","s2","c","mash","masher","arguments","alea","buildPermutationTable","perm","Uint8Array","permMod12","aux","h","charCodeAt","grad3","grad4","xin","yin","i1","j1","n0","n1","n2","j","x0","y0","x1","y1","x2","y2","ii","jj","t0","gi0","t1","gi1","t2","gi2","noise3D","zin","n3","k1","i2","j2","k2","k","z0","z1","z2","x3","y3","z3","kk","t3","gi3","noise4D","n4","l1","l2","i3","j3","k3","l3","w0","rankx","ranky","rankz","rankw","w1","w2","w3","x4","y4","z4","w4","ll","t4","gi4","_buildPermutationTable","MZFn","f","u","display","cssText","Date","g","Panel","self","memory","REVISION","addPanel","usedJSHeapSize","jsHeapSizeLimit","setMode","devicePixelRatio","v","m","globalAlpha","drawImage","VT+s","generateWhiteNoise","noise","interpolate","generatePerlinNoise","options","octaveCount","amplitude","persistence","whiteNoise","smoothNoiseList","generateSmoothNoise","perlinNoise","totalAmplitude","octave","samplePeriod","sampleFrequency","noiseIndex","sampleY0","sampleY1","vertBlend","sampleX0","sampleX1","horizBlend","zl3/","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/test-b7060bfa75c6f0bdd0f1.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[10],{\n\n/***/ \"FCuQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ render; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(\"Womt\");\n\n// CONCATENATED MODULE: ./node_modules/camera-controls/dist/camera-controls.module.js\n/*!\n * camera-controls\n * https://github.com/yomotsu/camera-controls\n * (c) 2017 @yomotsu\n * Released under the MIT License.\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\nvar ACTION;\r\n(function (ACTION) {\r\n    ACTION[ACTION[\"NONE\"] = 0] = \"NONE\";\r\n    ACTION[ACTION[\"ROTATE\"] = 1] = \"ROTATE\";\r\n    ACTION[ACTION[\"TRUCK\"] = 2] = \"TRUCK\";\r\n    ACTION[ACTION[\"OFFSET\"] = 3] = \"OFFSET\";\r\n    ACTION[ACTION[\"DOLLY\"] = 4] = \"DOLLY\";\r\n    ACTION[ACTION[\"ZOOM\"] = 5] = \"ZOOM\";\r\n    ACTION[ACTION[\"TOUCH_ROTATE\"] = 6] = \"TOUCH_ROTATE\";\r\n    ACTION[ACTION[\"TOUCH_TRUCK\"] = 7] = \"TOUCH_TRUCK\";\r\n    ACTION[ACTION[\"TOUCH_OFFSET\"] = 8] = \"TOUCH_OFFSET\";\r\n    ACTION[ACTION[\"TOUCH_DOLLY\"] = 9] = \"TOUCH_DOLLY\";\r\n    ACTION[ACTION[\"TOUCH_ZOOM\"] = 10] = \"TOUCH_ZOOM\";\r\n    ACTION[ACTION[\"TOUCH_DOLLY_TRUCK\"] = 11] = \"TOUCH_DOLLY_TRUCK\";\r\n    ACTION[ACTION[\"TOUCH_DOLLY_OFFSET\"] = 12] = \"TOUCH_DOLLY_OFFSET\";\r\n    ACTION[ACTION[\"TOUCH_ZOOM_TRUCK\"] = 13] = \"TOUCH_ZOOM_TRUCK\";\r\n    ACTION[ACTION[\"TOUCH_ZOOM_OFFSET\"] = 14] = \"TOUCH_ZOOM_OFFSET\";\r\n})(ACTION || (ACTION = {}));\r\nfunction isPerspectiveCamera(camera) {\r\n    return camera.isPerspectiveCamera;\r\n}\r\nfunction isOrthographicCamera(camera) {\r\n    return camera.isOrthographicCamera;\r\n}\n\nvar PI_2 = Math.PI * 2;\r\nvar PI_HALF = Math.PI / 2;\r\nvar FPS_60 = 1 / 0.016;\n\nvar EPSILON = 1e-5;\r\nfunction approxZero(number) {\r\n    return Math.abs(number) < EPSILON;\r\n}\r\nfunction approxEquals(a, b) {\r\n    return approxZero(a - b);\r\n}\r\nfunction roundToStep(value, step) {\r\n    return Math.round(value / step) * step;\r\n}\r\nfunction infinityToMaxNumber(value) {\r\n    if (isFinite(value))\r\n        return value;\r\n    if (value < 0)\r\n        return -Number.MAX_VALUE;\r\n    return Number.MAX_VALUE;\r\n}\r\nfunction maxNumberToInfinity(value) {\r\n    if (Math.abs(value) < Number.MAX_VALUE)\r\n        return value;\r\n    return value * Infinity;\r\n}\n\nfunction isTouchEvent(event) {\r\n    return 'TouchEvent' in window && event instanceof TouchEvent;\r\n}\n\nfunction extractClientCoordFromEvent(event, out) {\r\n    out.set(0, 0);\r\n    if (isTouchEvent(event)) {\r\n        var touchEvent = event;\r\n        for (var i = 0; i < touchEvent.touches.length; i++) {\r\n            out.x += touchEvent.touches[i].clientX;\r\n            out.y += touchEvent.touches[i].clientY;\r\n        }\r\n        out.x /= touchEvent.touches.length;\r\n        out.y /= touchEvent.touches.length;\r\n        return out;\r\n    }\r\n    else {\r\n        var mouseEvent = event;\r\n        out.set(mouseEvent.clientX, mouseEvent.clientY);\r\n        return out;\r\n    }\r\n}\n\nfunction notSupportedInOrthographicCamera(camera, message) {\r\n    if (isOrthographicCamera(camera)) {\r\n        console.warn(message + \" is not supported in OrthographicCamera\");\r\n        return true;\r\n    }\r\n    return false;\r\n}\n\nfunction quatInvertCompat(target) {\r\n    if (target.invert) {\r\n        target.invert();\r\n    }\r\n    else {\r\n        target.inverse();\r\n    }\r\n    return target;\r\n}\n\nvar EventDispatcher = (function () {\r\n    function EventDispatcher() {\r\n        this._listeners = {};\r\n    }\r\n    EventDispatcher.prototype.addEventListener = function (type, listener) {\r\n        var listeners = this._listeners;\r\n        if (listeners[type] === undefined)\r\n            listeners[type] = [];\r\n        if (listeners[type].indexOf(listener) === -1)\r\n            listeners[type].push(listener);\r\n    };\r\n    EventDispatcher.prototype.removeEventListener = function (type, listener) {\r\n        var listeners = this._listeners;\r\n        var listenerArray = listeners[type];\r\n        if (listenerArray !== undefined) {\r\n            var index = listenerArray.indexOf(listener);\r\n            if (index !== -1)\r\n                listenerArray.splice(index, 1);\r\n        }\r\n    };\r\n    EventDispatcher.prototype.removeAllEventListeners = function (type) {\r\n        if (!type) {\r\n            this._listeners = {};\r\n            return;\r\n        }\r\n        if (Array.isArray(this._listeners[type]))\r\n            this._listeners[type].length = 0;\r\n    };\r\n    EventDispatcher.prototype.dispatchEvent = function (event) {\r\n        var listeners = this._listeners;\r\n        var listenerArray = listeners[event.type];\r\n        if (listenerArray !== undefined) {\r\n            event.target = this;\r\n            var array = listenerArray.slice(0);\r\n            for (var i = 0, l = array.length; i < l; i++) {\r\n                array[i].call(this, event);\r\n            }\r\n        }\r\n    };\r\n    return EventDispatcher;\r\n}());\n\nvar isBrowser = typeof window !== 'undefined';\r\nvar isMac = isBrowser && /Mac/.test(navigator.platform);\r\nvar readonlyACTION = Object.freeze(ACTION);\r\nvar TOUCH_DOLLY_FACTOR = 1 / 8;\r\nvar THREE;\r\nvar _ORIGIN;\r\nvar _AXIS_Y;\r\nvar _AXIS_Z;\r\nvar _v2;\r\nvar _v3A;\r\nvar _v3B;\r\nvar _v3C;\r\nvar _xColumn;\r\nvar _yColumn;\r\nvar _zColumn;\r\nvar _sphericalA;\r\nvar _sphericalB;\r\nvar _box3A;\r\nvar _box3B;\r\nvar _sphere;\r\nvar _quaternionA;\r\nvar _quaternionB;\r\nvar _rotationMatrix;\r\nvar _raycaster;\r\nvar CameraControls = (function (_super) {\r\n    __extends(CameraControls, _super);\r\n    function CameraControls(camera, domElement) {\r\n        var _this = _super.call(this) || this;\r\n        _this.minPolarAngle = 0;\r\n        _this.maxPolarAngle = Math.PI;\r\n        _this.minAzimuthAngle = -Infinity;\r\n        _this.maxAzimuthAngle = Infinity;\r\n        _this.minDistance = 0;\r\n        _this.maxDistance = Infinity;\r\n        _this.infinityDolly = false;\r\n        _this.minZoom = 0.01;\r\n        _this.maxZoom = Infinity;\r\n        _this.dampingFactor = 0.05;\r\n        _this.draggingDampingFactor = 0.25;\r\n        _this.azimuthRotateSpeed = 1.0;\r\n        _this.polarRotateSpeed = 1.0;\r\n        _this.dollySpeed = 1.0;\r\n        _this.truckSpeed = 2.0;\r\n        _this.dollyToCursor = false;\r\n        _this.dragToOffset = false;\r\n        _this.verticalDragToForward = false;\r\n        _this.boundaryFriction = 0.0;\r\n        _this.colliderMeshes = [];\r\n        _this.cancel = function () { };\r\n        _this._enabled = true;\r\n        _this._state = ACTION.NONE;\r\n        _this._viewport = null;\r\n        _this._dollyControlAmount = 0;\r\n        _this._boundaryEnclosesCamera = false;\r\n        _this._needsUpdate = true;\r\n        _this._updatedLastTime = false;\r\n        if (typeof THREE === 'undefined') {\r\n            console.error('camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information.');\r\n        }\r\n        _this._camera = camera;\r\n        _this._yAxisUpSpace = new THREE.Quaternion().setFromUnitVectors(_this._camera.up, _AXIS_Y);\r\n        _this._yAxisUpSpaceInverse = quatInvertCompat(_this._yAxisUpSpace.clone());\r\n        _this._state = ACTION.NONE;\r\n        _this._domElement = domElement;\r\n        _this._target = new THREE.Vector3();\r\n        _this._targetEnd = _this._target.clone();\r\n        _this._focalOffset = new THREE.Vector3();\r\n        _this._focalOffsetEnd = _this._focalOffset.clone();\r\n        _this._spherical = new THREE.Spherical().setFromVector3(_v3A.copy(_this._camera.position).applyQuaternion(_this._yAxisUpSpace));\r\n        _this._sphericalEnd = _this._spherical.clone();\r\n        _this._zoom = _this._camera.zoom;\r\n        _this._zoomEnd = _this._zoom;\r\n        _this._nearPlaneCorners = [\r\n            new THREE.Vector3(),\r\n            new THREE.Vector3(),\r\n            new THREE.Vector3(),\r\n            new THREE.Vector3(),\r\n        ];\r\n        _this._updateNearPlaneCorners();\r\n        _this._boundary = new THREE.Box3(new THREE.Vector3(-Infinity, -Infinity, -Infinity), new THREE.Vector3(Infinity, Infinity, Infinity));\r\n        _this._target0 = _this._target.clone();\r\n        _this._position0 = _this._camera.position.clone();\r\n        _this._zoom0 = _this._zoom;\r\n        _this._focalOffset0 = _this._focalOffset.clone();\r\n        _this._dollyControlAmount = 0;\r\n        _this._dollyControlCoord = new THREE.Vector2();\r\n        _this.mouseButtons = {\r\n            left: ACTION.ROTATE,\r\n            middle: ACTION.DOLLY,\r\n            right: ACTION.TRUCK,\r\n            wheel: isPerspectiveCamera(_this._camera) ? ACTION.DOLLY :\r\n                isOrthographicCamera(_this._camera) ? ACTION.ZOOM :\r\n                    ACTION.NONE,\r\n        };\r\n        _this.touches = {\r\n            one: ACTION.TOUCH_ROTATE,\r\n            two: isPerspectiveCamera(_this._camera) ? ACTION.TOUCH_DOLLY_TRUCK :\r\n                isOrthographicCamera(_this._camera) ? ACTION.TOUCH_ZOOM_TRUCK :\r\n                    ACTION.NONE,\r\n            three: ACTION.TOUCH_TRUCK,\r\n        };\r\n        if (_this._domElement) {\r\n            var dragStartPosition_1 = new THREE.Vector2();\r\n            var lastDragPosition_1 = new THREE.Vector2();\r\n            var dollyStart_1 = new THREE.Vector2();\r\n            var elementRect_1 = new THREE.Vector4();\r\n            var truckInternal_1 = function (deltaX, deltaY, dragToOffset) {\r\n                if (isPerspectiveCamera(_this._camera)) {\r\n                    var camera_1 = _this._camera;\r\n                    var offset = _v3A.copy(camera_1.position).sub(_this._target);\r\n                    var fov = camera_1.getEffectiveFOV() * THREE.MathUtils.DEG2RAD;\r\n                    var targetDistance = offset.length() * Math.tan(fov * 0.5);\r\n                    var truckX = (_this.truckSpeed * deltaX * targetDistance / elementRect_1.w);\r\n                    var pedestalY = (_this.truckSpeed * deltaY * targetDistance / elementRect_1.w);\r\n                    if (_this.verticalDragToForward) {\r\n                        dragToOffset ?\r\n                            _this.setFocalOffset(_this._focalOffsetEnd.x + truckX, _this._focalOffsetEnd.y, _this._focalOffsetEnd.z, true) :\r\n                            _this.truck(truckX, 0, true);\r\n                        _this.forward(-pedestalY, true);\r\n                    }\r\n                    else {\r\n                        dragToOffset ?\r\n                            _this.setFocalOffset(_this._focalOffsetEnd.x + truckX, _this._focalOffsetEnd.y + pedestalY, _this._focalOffsetEnd.z, true) :\r\n                            _this.truck(truckX, pedestalY, true);\r\n                    }\r\n                }\r\n                else if (isOrthographicCamera(_this._camera)) {\r\n                    var camera_2 = _this._camera;\r\n                    var truckX = deltaX * (camera_2.right - camera_2.left) / camera_2.zoom / elementRect_1.z;\r\n                    var pedestalY = deltaY * (camera_2.top - camera_2.bottom) / camera_2.zoom / elementRect_1.w;\r\n                    dragToOffset ?\r\n                        _this.setFocalOffset(_this._focalOffsetEnd.x + truckX, _this._focalOffsetEnd.y + pedestalY, _this._focalOffsetEnd.z, true) :\r\n                        _this.truck(truckX, pedestalY, true);\r\n                }\r\n            };\r\n            var rotateInternal_1 = function (deltaX, deltaY) {\r\n                var theta = PI_2 * _this.azimuthRotateSpeed * deltaX / elementRect_1.w;\r\n                var phi = PI_2 * _this.polarRotateSpeed * deltaY / elementRect_1.w;\r\n                _this.rotate(theta, phi, true);\r\n            };\r\n            var dollyInternal_1 = function (delta, x, y) {\r\n                var dollyScale = Math.pow(0.95, -delta * _this.dollySpeed);\r\n                var distance = _this._sphericalEnd.radius * dollyScale;\r\n                var prevRadius = _this._sphericalEnd.radius;\r\n                _this.dollyTo(distance);\r\n                if (_this.infinityDolly && distance < _this.minDistance) {\r\n                    _this._camera.getWorldDirection(_v3A);\r\n                    _this._targetEnd.add(_v3A.normalize().multiplyScalar(prevRadius));\r\n                    _this._target.add(_v3A.normalize().multiplyScalar(prevRadius));\r\n                }\r\n                if (_this.dollyToCursor) {\r\n                    _this._dollyControlAmount += _this._sphericalEnd.radius - prevRadius;\r\n                    _this._dollyControlCoord.set(x, y);\r\n                }\r\n                return;\r\n            };\r\n            var zoomInternal_1 = function (delta, x, y) {\r\n                var zoomScale = Math.pow(0.95, delta * _this.dollySpeed);\r\n                _this.zoomTo(_this._zoom * zoomScale);\r\n                if (_this.dollyToCursor) {\r\n                    _this._dollyControlAmount = _this._zoomEnd;\r\n                    _this._dollyControlCoord.set(x, y);\r\n                }\r\n                return;\r\n            };\r\n            var cancelDragging_1 = function () {\r\n                _this._state = ACTION.NONE;\r\n                document.removeEventListener('mousemove', dragging_1);\r\n                document.removeEventListener('touchmove', dragging_1, { passive: false });\r\n                document.removeEventListener('mouseup', endDragging_1);\r\n                document.removeEventListener('touchend', endDragging_1);\r\n            };\r\n            var onMouseDown_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                cancelDragging_1();\r\n                switch (event.button) {\r\n                    case THREE.MOUSE.LEFT:\r\n                        _this._state = _this.mouseButtons.left;\r\n                        break;\r\n                    case THREE.MOUSE.MIDDLE:\r\n                        _this._state = _this.mouseButtons.middle;\r\n                        break;\r\n                    case THREE.MOUSE.RIGHT:\r\n                        _this._state = _this.mouseButtons.right;\r\n                        break;\r\n                }\r\n                startDragging_1(event);\r\n            };\r\n            var onTouchStart_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                cancelDragging_1();\r\n                switch (event.touches.length) {\r\n                    case 1:\r\n                        _this._state = _this.touches.one;\r\n                        break;\r\n                    case 2:\r\n                        _this._state = _this.touches.two;\r\n                        break;\r\n                    case 3:\r\n                        _this._state = _this.touches.three;\r\n                        break;\r\n                }\r\n                startDragging_1(event);\r\n            };\r\n            var lastScrollTimeStamp_1 = -1;\r\n            var onMouseWheel_1 = function (event) {\r\n                if (!_this._enabled || _this.mouseButtons.wheel === ACTION.NONE)\r\n                    return;\r\n                event.preventDefault();\r\n                if (_this.dollyToCursor ||\r\n                    _this.mouseButtons.wheel === ACTION.ROTATE ||\r\n                    _this.mouseButtons.wheel === ACTION.TRUCK) {\r\n                    var now = performance.now();\r\n                    if (lastScrollTimeStamp_1 - now < 1000)\r\n                        _this._getClientRect(elementRect_1);\r\n                    lastScrollTimeStamp_1 = now;\r\n                }\r\n                var deltaYFactor = isMac ? -1 : -3;\r\n                var delta = (event.deltaMode === 1) ? event.deltaY / deltaYFactor : event.deltaY / (deltaYFactor * 10);\r\n                var x = _this.dollyToCursor ? (event.clientX - elementRect_1.x) / elementRect_1.z * 2 - 1 : 0;\r\n                var y = _this.dollyToCursor ? (event.clientY - elementRect_1.y) / elementRect_1.w * -2 + 1 : 0;\r\n                switch (_this.mouseButtons.wheel) {\r\n                    case ACTION.ROTATE: {\r\n                        rotateInternal_1(event.deltaX, event.deltaY);\r\n                        break;\r\n                    }\r\n                    case ACTION.TRUCK: {\r\n                        truckInternal_1(event.deltaX, event.deltaY, false);\r\n                        break;\r\n                    }\r\n                    case ACTION.OFFSET: {\r\n                        truckInternal_1(event.deltaX, event.deltaY, true);\r\n                        break;\r\n                    }\r\n                    case ACTION.DOLLY: {\r\n                        dollyInternal_1(-delta, x, y);\r\n                        break;\r\n                    }\r\n                    case ACTION.ZOOM: {\r\n                        zoomInternal_1(-delta, x, y);\r\n                        break;\r\n                    }\r\n                }\r\n                _this.dispatchEvent({\r\n                    type: 'control',\r\n                    originalEvent: event,\r\n                });\r\n            };\r\n            var onContextMenu_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                event.preventDefault();\r\n            };\r\n            var startDragging_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                extractClientCoordFromEvent(event, _v2);\r\n                _this._getClientRect(elementRect_1);\r\n                dragStartPosition_1.copy(_v2);\r\n                lastDragPosition_1.copy(_v2);\r\n                var isMultiTouch = isTouchEvent(event) && event.touches.length >= 2;\r\n                if (isMultiTouch) {\r\n                    var touchEvent = event;\r\n                    var dx = _v2.x - touchEvent.touches[1].clientX;\r\n                    var dy = _v2.y - touchEvent.touches[1].clientY;\r\n                    var distance = Math.sqrt(dx * dx + dy * dy);\r\n                    dollyStart_1.set(0, distance);\r\n                    var x = (touchEvent.touches[0].clientX + touchEvent.touches[1].clientX) * 0.5;\r\n                    var y = (touchEvent.touches[0].clientY + touchEvent.touches[1].clientY) * 0.5;\r\n                    lastDragPosition_1.set(x, y);\r\n                }\r\n                document.addEventListener('mousemove', dragging_1);\r\n                document.addEventListener('touchmove', dragging_1, { passive: false });\r\n                document.addEventListener('mouseup', endDragging_1);\r\n                document.addEventListener('touchend', endDragging_1);\r\n                _this.dispatchEvent({\r\n                    type: 'controlstart',\r\n                    originalEvent: event,\r\n                });\r\n            };\r\n            var dragging_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                event.preventDefault();\r\n                extractClientCoordFromEvent(event, _v2);\r\n                var deltaX = lastDragPosition_1.x - _v2.x;\r\n                var deltaY = lastDragPosition_1.y - _v2.y;\r\n                lastDragPosition_1.copy(_v2);\r\n                switch (_this._state) {\r\n                    case ACTION.ROTATE:\r\n                    case ACTION.TOUCH_ROTATE: {\r\n                        rotateInternal_1(deltaX, deltaY);\r\n                        break;\r\n                    }\r\n                    case ACTION.DOLLY:\r\n                    case ACTION.ZOOM: {\r\n                        var dollyX = _this.dollyToCursor ? (dragStartPosition_1.x - elementRect_1.x) / elementRect_1.z * 2 - 1 : 0;\r\n                        var dollyY = _this.dollyToCursor ? (dragStartPosition_1.y - elementRect_1.y) / elementRect_1.w * -2 + 1 : 0;\r\n                        _this._state === ACTION.DOLLY ?\r\n                            dollyInternal_1(deltaY * TOUCH_DOLLY_FACTOR, dollyX, dollyY) :\r\n                            zoomInternal_1(deltaY * TOUCH_DOLLY_FACTOR, dollyX, dollyY);\r\n                        break;\r\n                    }\r\n                    case ACTION.TOUCH_DOLLY:\r\n                    case ACTION.TOUCH_ZOOM:\r\n                    case ACTION.TOUCH_DOLLY_TRUCK:\r\n                    case ACTION.TOUCH_ZOOM_TRUCK:\r\n                    case ACTION.TOUCH_DOLLY_OFFSET:\r\n                    case ACTION.TOUCH_ZOOM_OFFSET: {\r\n                        var touchEvent = event;\r\n                        var dx = _v2.x - touchEvent.touches[1].clientX;\r\n                        var dy = _v2.y - touchEvent.touches[1].clientY;\r\n                        var distance = Math.sqrt(dx * dx + dy * dy);\r\n                        var dollyDelta = dollyStart_1.y - distance;\r\n                        dollyStart_1.set(0, distance);\r\n                        var dollyX = _this.dollyToCursor ? (lastDragPosition_1.x - elementRect_1.x) / elementRect_1.z * 2 - 1 : 0;\r\n                        var dollyY = _this.dollyToCursor ? (lastDragPosition_1.y - elementRect_1.y) / elementRect_1.w * -2 + 1 : 0;\r\n                        _this._state === ACTION.TOUCH_DOLLY ||\r\n                            _this._state === ACTION.TOUCH_DOLLY_TRUCK ?\r\n                            dollyInternal_1(dollyDelta * TOUCH_DOLLY_FACTOR, dollyX, dollyY) :\r\n                            zoomInternal_1(dollyDelta * TOUCH_DOLLY_FACTOR, dollyX, dollyY);\r\n                        if (_this._state === ACTION.TOUCH_DOLLY_TRUCK ||\r\n                            _this._state === ACTION.TOUCH_ZOOM_TRUCK) {\r\n                            truckInternal_1(deltaX, deltaY, false);\r\n                        }\r\n                        else if (_this._state === ACTION.TOUCH_DOLLY_OFFSET ||\r\n                            _this._state === ACTION.TOUCH_ZOOM_OFFSET) {\r\n                            truckInternal_1(deltaX, deltaY, true);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case ACTION.TRUCK:\r\n                    case ACTION.TOUCH_TRUCK: {\r\n                        truckInternal_1(deltaX, deltaY, false);\r\n                        break;\r\n                    }\r\n                    case ACTION.OFFSET:\r\n                    case ACTION.TOUCH_OFFSET: {\r\n                        truckInternal_1(deltaX, deltaY, true);\r\n                        break;\r\n                    }\r\n                }\r\n                _this.dispatchEvent({\r\n                    type: 'control',\r\n                    originalEvent: event,\r\n                });\r\n            };\r\n            var endDragging_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                cancelDragging_1();\r\n                _this.dispatchEvent({\r\n                    type: 'controlend',\r\n                    originalEvent: event,\r\n                });\r\n            };\r\n            _this._domElement.addEventListener('mousedown', onMouseDown_1);\r\n            _this._domElement.addEventListener('touchstart', onTouchStart_1);\r\n            _this._domElement.addEventListener('wheel', onMouseWheel_1);\r\n            _this._domElement.addEventListener('contextmenu', onContextMenu_1);\r\n            _this._removeAllEventListeners = function () {\r\n                _this._domElement.removeEventListener('mousedown', onMouseDown_1);\r\n                _this._domElement.removeEventListener('touchstart', onTouchStart_1);\r\n                _this._domElement.removeEventListener('wheel', onMouseWheel_1);\r\n                _this._domElement.removeEventListener('contextmenu', onContextMenu_1);\r\n                document.removeEventListener('mousemove', dragging_1);\r\n                document.removeEventListener('touchmove', dragging_1, { passive: false });\r\n                document.removeEventListener('mouseup', endDragging_1);\r\n                document.removeEventListener('touchend', endDragging_1);\r\n            };\r\n            _this.cancel = function () {\r\n                cancelDragging_1();\r\n                _this.dispatchEvent({\r\n                    type: 'controlend',\r\n                    originalEvent: null,\r\n                });\r\n            };\r\n        }\r\n        _this.update(0);\r\n        return _this;\r\n    }\r\n    CameraControls.install = function (libs) {\r\n        THREE = libs.THREE;\r\n        _ORIGIN = Object.freeze(new THREE.Vector3(0, 0, 0));\r\n        _AXIS_Y = Object.freeze(new THREE.Vector3(0, 1, 0));\r\n        _AXIS_Z = Object.freeze(new THREE.Vector3(0, 0, 1));\r\n        _v2 = new THREE.Vector2();\r\n        _v3A = new THREE.Vector3();\r\n        _v3B = new THREE.Vector3();\r\n        _v3C = new THREE.Vector3();\r\n        _xColumn = new THREE.Vector3();\r\n        _yColumn = new THREE.Vector3();\r\n        _zColumn = new THREE.Vector3();\r\n        _sphericalA = new THREE.Spherical();\r\n        _sphericalB = new THREE.Spherical();\r\n        _box3A = new THREE.Box3();\r\n        _box3B = new THREE.Box3();\r\n        _sphere = new THREE.Sphere();\r\n        _quaternionA = new THREE.Quaternion();\r\n        _quaternionB = new THREE.Quaternion();\r\n        _rotationMatrix = new THREE.Matrix4();\r\n        _raycaster = new THREE.Raycaster();\r\n    };\r\n    Object.defineProperty(CameraControls, \"ACTION\", {\r\n        get: function () {\r\n            return readonlyACTION;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"enabled\", {\r\n        get: function () {\r\n            return this._enabled;\r\n        },\r\n        set: function (enabled) {\r\n            this._enabled = enabled;\r\n            if (!enabled)\r\n                this.cancel();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"currentAction\", {\r\n        get: function () {\r\n            return this._state;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"distance\", {\r\n        get: function () {\r\n            return this._spherical.radius;\r\n        },\r\n        set: function (distance) {\r\n            if (this._spherical.radius === distance &&\r\n                this._sphericalEnd.radius === distance)\r\n                return;\r\n            this._spherical.radius = distance;\r\n            this._sphericalEnd.radius = distance;\r\n            this._needsUpdate = true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"azimuthAngle\", {\r\n        get: function () {\r\n            return this._spherical.theta;\r\n        },\r\n        set: function (azimuthAngle) {\r\n            if (this._spherical.theta === azimuthAngle &&\r\n                this._sphericalEnd.theta === azimuthAngle)\r\n                return;\r\n            this._spherical.theta = azimuthAngle;\r\n            this._sphericalEnd.theta = azimuthAngle;\r\n            this._needsUpdate = true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"polarAngle\", {\r\n        get: function () {\r\n            return this._spherical.phi;\r\n        },\r\n        set: function (polarAngle) {\r\n            if (this._spherical.phi === polarAngle &&\r\n                this._sphericalEnd.phi === polarAngle)\r\n                return;\r\n            this._spherical.phi = polarAngle;\r\n            this._sphericalEnd.phi = polarAngle;\r\n            this._needsUpdate = true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"phiSpeed\", {\r\n        set: function (speed) {\r\n            console.warn('phiSpeed was renamed. use azimuthRotateSpeed instead');\r\n            this.azimuthRotateSpeed = speed;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"thetaSpeed\", {\r\n        set: function (speed) {\r\n            console.warn('thetaSpeed was renamed. use polarRotateSpeed instead');\r\n            this.polarRotateSpeed = speed;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"boundaryEnclosesCamera\", {\r\n        get: function () {\r\n            return this._boundaryEnclosesCamera;\r\n        },\r\n        set: function (boundaryEnclosesCamera) {\r\n            this._boundaryEnclosesCamera = boundaryEnclosesCamera;\r\n            this._needsUpdate = true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CameraControls.prototype.addEventListener = function (type, listener) {\r\n        _super.prototype.addEventListener.call(this, type, listener);\r\n    };\r\n    CameraControls.prototype.removeEventListener = function (type, listener) {\r\n        _super.prototype.removeEventListener.call(this, type, listener);\r\n    };\r\n    CameraControls.prototype.rotate = function (azimuthAngle, polarAngle, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.rotateTo(this._sphericalEnd.theta + azimuthAngle, this._sphericalEnd.phi + polarAngle, enableTransition);\r\n    };\r\n    CameraControls.prototype.rotateTo = function (azimuthAngle, polarAngle, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var theta = THREE.MathUtils.clamp(azimuthAngle, this.minAzimuthAngle, this.maxAzimuthAngle);\r\n        var phi = THREE.MathUtils.clamp(polarAngle, this.minPolarAngle, this.maxPolarAngle);\r\n        this._sphericalEnd.theta = theta;\r\n        this._sphericalEnd.phi = phi;\r\n        this._sphericalEnd.makeSafe();\r\n        if (!enableTransition) {\r\n            this._spherical.theta = this._sphericalEnd.theta;\r\n            this._spherical.phi = this._sphericalEnd.phi;\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.dolly = function (distance, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.dollyTo(this._sphericalEnd.radius - distance, enableTransition);\r\n    };\r\n    CameraControls.prototype.dollyTo = function (distance, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._sphericalEnd.radius = THREE.MathUtils.clamp(distance, this.minDistance, this.maxDistance);\r\n        if (!enableTransition) {\r\n            this._spherical.radius = this._sphericalEnd.radius;\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.zoom = function (zoomStep, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.zoomTo(this._zoomEnd + zoomStep, enableTransition);\r\n    };\r\n    CameraControls.prototype.zoomTo = function (zoom, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._zoomEnd = THREE.MathUtils.clamp(zoom, this.minZoom, this.maxZoom);\r\n        if (!enableTransition) {\r\n            this._zoom = this._zoomEnd;\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.pan = function (x, y, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        console.log('`pan` has been renamed to `truck`');\r\n        this.truck(x, y, enableTransition);\r\n    };\r\n    CameraControls.prototype.truck = function (x, y, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._camera.updateMatrix();\r\n        _xColumn.setFromMatrixColumn(this._camera.matrix, 0);\r\n        _yColumn.setFromMatrixColumn(this._camera.matrix, 1);\r\n        _xColumn.multiplyScalar(x);\r\n        _yColumn.multiplyScalar(-y);\r\n        var offset = _v3A.copy(_xColumn).add(_yColumn);\r\n        this._encloseToBoundary(this._targetEnd, offset, this.boundaryFriction);\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.forward = function (distance, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        _v3A.setFromMatrixColumn(this._camera.matrix, 0);\r\n        _v3A.crossVectors(this._camera.up, _v3A);\r\n        _v3A.multiplyScalar(distance);\r\n        this._encloseToBoundary(this._targetEnd, _v3A, this.boundaryFriction);\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.moveTo = function (x, y, z, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._targetEnd.set(x, y, z);\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.fitToBox = function (box3OrObject, enableTransition, _a) {\r\n        var _b = _a === void 0 ? {} : _a, _c = _b.paddingLeft, paddingLeft = _c === void 0 ? 0 : _c, _d = _b.paddingRight, paddingRight = _d === void 0 ? 0 : _d, _e = _b.paddingBottom, paddingBottom = _e === void 0 ? 0 : _e, _f = _b.paddingTop, paddingTop = _f === void 0 ? 0 : _f;\r\n        var aabb = box3OrObject.isBox3\r\n            ? _box3A.copy(box3OrObject)\r\n            : _box3A.setFromObject(box3OrObject);\r\n        if (aabb.isEmpty()) {\r\n            console.warn('camera-controls: fitTo() cannot be used with an empty box. Aborting');\r\n            return;\r\n        }\r\n        var theta = roundToStep(this._sphericalEnd.theta, PI_HALF);\r\n        var phi = roundToStep(this._sphericalEnd.phi, PI_HALF);\r\n        this.rotateTo(theta, phi, enableTransition);\r\n        var normal = _v3A.setFromSpherical(this._sphericalEnd).normalize();\r\n        var rotation = _quaternionA.setFromUnitVectors(normal, _AXIS_Z);\r\n        var viewFromPolar = approxEquals(Math.abs(normal.y), 1);\r\n        if (viewFromPolar) {\r\n            rotation.multiply(_quaternionB.setFromAxisAngle(_AXIS_Y, theta));\r\n        }\r\n        var bb = _box3B.makeEmpty();\r\n        _v3B.copy(aabb.min).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.min).setX(aabb.max.x).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.min).setY(aabb.max.y).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.max).setZ(aabb.min.z).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.min).setZ(aabb.max.z).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.max).setY(aabb.min.y).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.max).setX(aabb.min.x).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.max).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        rotation.setFromUnitVectors(_AXIS_Z, normal);\r\n        bb.min.x -= paddingLeft;\r\n        bb.min.y -= paddingBottom;\r\n        bb.max.x += paddingRight;\r\n        bb.max.y += paddingTop;\r\n        var bbSize = bb.getSize(_v3A);\r\n        var center = bb.getCenter(_v3B).applyQuaternion(rotation);\r\n        if (isPerspectiveCamera(this._camera)) {\r\n            var distance = this.getDistanceToFitBox(bbSize.x, bbSize.y, bbSize.z);\r\n            this.moveTo(center.x, center.y, center.z, enableTransition);\r\n            this.dollyTo(distance, enableTransition);\r\n            this.setFocalOffset(0, 0, 0, enableTransition);\r\n            return;\r\n        }\r\n        else if (isOrthographicCamera(this._camera)) {\r\n            var camera = this._camera;\r\n            var width = camera.right - camera.left;\r\n            var height = camera.top - camera.bottom;\r\n            var zoom = Math.min(width / bbSize.x, height / bbSize.y);\r\n            this.moveTo(center.x, center.y, center.z, enableTransition);\r\n            this.zoomTo(zoom, enableTransition);\r\n            this.setFocalOffset(0, 0, 0, enableTransition);\r\n            return;\r\n        }\r\n    };\r\n    CameraControls.prototype.fitTo = function (box3OrObject, enableTransition, fitToOptions) {\r\n        if (fitToOptions === void 0) { fitToOptions = {}; }\r\n        console.warn('camera-controls: fitTo() has been renamed to fitToBox()');\r\n        this.fitToBox(box3OrObject, enableTransition, fitToOptions);\r\n    };\r\n    CameraControls.prototype.fitToSphere = function (sphereOrMesh, enableTransition) {\r\n        var isSphere = sphereOrMesh instanceof THREE.Sphere;\r\n        var boundingSphere = isSphere ?\r\n            _sphere.copy(sphereOrMesh) :\r\n            createBoundingSphere(sphereOrMesh, _sphere);\r\n        this.moveTo(boundingSphere.center.x, boundingSphere.center.y, boundingSphere.center.z, enableTransition);\r\n        if (isPerspectiveCamera(this._camera)) {\r\n            var distanceToFit = this.getDistanceToFitSphere(boundingSphere.radius);\r\n            this.dollyTo(distanceToFit, enableTransition);\r\n        }\r\n        else if (isOrthographicCamera(this._camera)) {\r\n            var width = this._camera.right - this._camera.left;\r\n            var height = this._camera.top - this._camera.bottom;\r\n            var diameter = 2 * boundingSphere.radius;\r\n            var zoom = Math.min(width / diameter, height / diameter);\r\n            this.zoomTo(zoom, enableTransition);\r\n        }\r\n        this.setFocalOffset(0, 0, 0, enableTransition);\r\n    };\r\n    CameraControls.prototype.setLookAt = function (positionX, positionY, positionZ, targetX, targetY, targetZ, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var position = _v3A.set(positionX, positionY, positionZ);\r\n        var target = _v3B.set(targetX, targetY, targetZ);\r\n        this._targetEnd.copy(target);\r\n        this._sphericalEnd.setFromVector3(position.sub(target).applyQuaternion(this._yAxisUpSpace));\r\n        this.normalizeRotations();\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n            this._spherical.copy(this._sphericalEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.lerpLookAt = function (positionAX, positionAY, positionAZ, targetAX, targetAY, targetAZ, positionBX, positionBY, positionBZ, targetBX, targetBY, targetBZ, t, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var positionA = _v3A.set(positionAX, positionAY, positionAZ);\r\n        var targetA = _v3B.set(targetAX, targetAY, targetAZ);\r\n        _sphericalA.setFromVector3(positionA.sub(targetA).applyQuaternion(this._yAxisUpSpace));\r\n        var targetB = _v3A.set(targetBX, targetBY, targetBZ);\r\n        this._targetEnd.copy(targetA).lerp(targetB, t);\r\n        var positionB = _v3B.set(positionBX, positionBY, positionBZ);\r\n        _sphericalB.setFromVector3(positionB.sub(targetB).applyQuaternion(this._yAxisUpSpace));\r\n        var deltaTheta = _sphericalB.theta - _sphericalA.theta;\r\n        var deltaPhi = _sphericalB.phi - _sphericalA.phi;\r\n        var deltaRadius = _sphericalB.radius - _sphericalA.radius;\r\n        this._sphericalEnd.set(_sphericalA.radius + deltaRadius * t, _sphericalA.phi + deltaPhi * t, _sphericalA.theta + deltaTheta * t);\r\n        this.normalizeRotations();\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n            this._spherical.copy(this._sphericalEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.setPosition = function (positionX, positionY, positionZ, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.setLookAt(positionX, positionY, positionZ, this._targetEnd.x, this._targetEnd.y, this._targetEnd.z, enableTransition);\r\n    };\r\n    CameraControls.prototype.setTarget = function (targetX, targetY, targetZ, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var pos = this.getPosition(_v3A);\r\n        this.setLookAt(pos.x, pos.y, pos.z, targetX, targetY, targetZ, enableTransition);\r\n    };\r\n    CameraControls.prototype.setFocalOffset = function (x, y, z, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._focalOffsetEnd.set(x, y, z);\r\n        if (!enableTransition) {\r\n            this._focalOffset.copy(this._focalOffsetEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.setBoundary = function (box3) {\r\n        if (!box3) {\r\n            this._boundary.min.set(-Infinity, -Infinity, -Infinity);\r\n            this._boundary.max.set(Infinity, Infinity, Infinity);\r\n            this._needsUpdate = true;\r\n            return;\r\n        }\r\n        this._boundary.copy(box3);\r\n        this._boundary.clampPoint(this._targetEnd, this._targetEnd);\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.setViewport = function (viewportOrX, y, width, height) {\r\n        if (viewportOrX === null) {\r\n            this._viewport = null;\r\n            return;\r\n        }\r\n        this._viewport = this._viewport || new THREE.Vector4();\r\n        if (typeof viewportOrX === 'number') {\r\n            this._viewport.set(viewportOrX, y, width, height);\r\n        }\r\n        else {\r\n            this._viewport.copy(viewportOrX);\r\n        }\r\n    };\r\n    CameraControls.prototype.getDistanceToFitBox = function (width, height, depth) {\r\n        if (notSupportedInOrthographicCamera(this._camera, 'getDistanceToFit'))\r\n            return this._spherical.radius;\r\n        var camera = this._camera;\r\n        var boundingRectAspect = width / height;\r\n        var fov = camera.getEffectiveFOV() * THREE.MathUtils.DEG2RAD;\r\n        var aspect = camera.aspect;\r\n        var heightToFit = boundingRectAspect < aspect ? height : width / aspect;\r\n        return heightToFit * 0.5 / Math.tan(fov * 0.5) + depth * 0.5;\r\n    };\r\n    CameraControls.prototype.getDistanceToFit = function (width, height, depth) {\r\n        console.warn('camera-controls: getDistanceToFit() has been renamed to getDistanceToFitBox()');\r\n        return this.getDistanceToFitBox(width, height, depth);\r\n    };\r\n    CameraControls.prototype.getDistanceToFitSphere = function (radius) {\r\n        if (notSupportedInOrthographicCamera(this._camera, 'getDistanceToFitSphere'))\r\n            return this._spherical.radius;\r\n        var camera = this._camera;\r\n        var vFOV = camera.getEffectiveFOV() * THREE.MathUtils.DEG2RAD;\r\n        var hFOV = Math.atan(Math.tan(vFOV * 0.5) * camera.aspect) * 2;\r\n        var fov = 1 < camera.aspect ? vFOV : hFOV;\r\n        return radius / (Math.sin(fov * 0.5));\r\n    };\r\n    CameraControls.prototype.getTarget = function (out) {\r\n        var _out = !!out && out.isVector3 ? out : new THREE.Vector3();\r\n        return _out.copy(this._targetEnd);\r\n    };\r\n    CameraControls.prototype.getPosition = function (out) {\r\n        var _out = !!out && out.isVector3 ? out : new THREE.Vector3();\r\n        return _out.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd);\r\n    };\r\n    CameraControls.prototype.getFocalOffset = function (out) {\r\n        var _out = !!out && out.isVector3 ? out : new THREE.Vector3();\r\n        return _out.copy(this._focalOffsetEnd);\r\n    };\r\n    CameraControls.prototype.normalizeRotations = function () {\r\n        this._sphericalEnd.theta = this._sphericalEnd.theta % PI_2;\r\n        if (this._sphericalEnd.theta < 0)\r\n            this._sphericalEnd.theta += PI_2;\r\n        this._spherical.theta += PI_2 * Math.round((this._sphericalEnd.theta - this._spherical.theta) / PI_2);\r\n    };\r\n    CameraControls.prototype.reset = function (enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.setLookAt(this._position0.x, this._position0.y, this._position0.z, this._target0.x, this._target0.y, this._target0.z, enableTransition);\r\n        this.setFocalOffset(this._focalOffset0.x, this._focalOffset0.y, this._focalOffset0.z, enableTransition);\r\n        this.zoomTo(this._zoom0, enableTransition);\r\n    };\r\n    CameraControls.prototype.saveState = function () {\r\n        this._target0.copy(this._target);\r\n        this._position0.copy(this._camera.position);\r\n        this._zoom0 = this._zoom;\r\n    };\r\n    CameraControls.prototype.updateCameraUp = function () {\r\n        this._yAxisUpSpace.setFromUnitVectors(this._camera.up, _AXIS_Y);\r\n        quatInvertCompat(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace));\r\n    };\r\n    CameraControls.prototype.update = function (delta) {\r\n        var dampingFactor = this._state === ACTION.NONE ? this.dampingFactor : this.draggingDampingFactor;\r\n        var lerpRatio = 1.0 - Math.exp(-dampingFactor * delta * FPS_60);\r\n        var deltaTheta = this._sphericalEnd.theta - this._spherical.theta;\r\n        var deltaPhi = this._sphericalEnd.phi - this._spherical.phi;\r\n        var deltaRadius = this._sphericalEnd.radius - this._spherical.radius;\r\n        var deltaTarget = _v3A.subVectors(this._targetEnd, this._target);\r\n        var deltaOffset = _v3B.subVectors(this._focalOffsetEnd, this._focalOffset);\r\n        if (!approxZero(deltaTheta) ||\r\n            !approxZero(deltaPhi) ||\r\n            !approxZero(deltaRadius) ||\r\n            !approxZero(deltaTarget.x) ||\r\n            !approxZero(deltaTarget.y) ||\r\n            !approxZero(deltaTarget.z) ||\r\n            !approxZero(deltaOffset.x) ||\r\n            !approxZero(deltaOffset.y) ||\r\n            !approxZero(deltaOffset.z)) {\r\n            this._spherical.set(this._spherical.radius + deltaRadius * lerpRatio, this._spherical.phi + deltaPhi * lerpRatio, this._spherical.theta + deltaTheta * lerpRatio);\r\n            this._target.add(deltaTarget.multiplyScalar(lerpRatio));\r\n            this._focalOffset.add(deltaOffset.multiplyScalar(lerpRatio));\r\n            this._needsUpdate = true;\r\n        }\r\n        else {\r\n            this._spherical.copy(this._sphericalEnd);\r\n            this._target.copy(this._targetEnd);\r\n            this._focalOffset.copy(this._focalOffsetEnd);\r\n        }\r\n        if (this._dollyControlAmount !== 0) {\r\n            if (isPerspectiveCamera(this._camera)) {\r\n                var camera = this._camera;\r\n                var direction = _v3A.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate();\r\n                var planeX = _v3B.copy(direction).cross(camera.up).normalize();\r\n                if (planeX.lengthSq() === 0)\r\n                    planeX.x = 1.0;\r\n                var planeY = _v3C.crossVectors(planeX, direction);\r\n                var worldToScreen = this._sphericalEnd.radius * Math.tan(camera.getEffectiveFOV() * THREE.MathUtils.DEG2RAD * 0.5);\r\n                var prevRadius = this._sphericalEnd.radius - this._dollyControlAmount;\r\n                var lerpRatio_1 = (prevRadius - this._sphericalEnd.radius) / this._sphericalEnd.radius;\r\n                var cursor = _v3A.copy(this._targetEnd)\r\n                    .add(planeX.multiplyScalar(this._dollyControlCoord.x * worldToScreen * camera.aspect))\r\n                    .add(planeY.multiplyScalar(this._dollyControlCoord.y * worldToScreen));\r\n                this._targetEnd.lerp(cursor, lerpRatio_1);\r\n                this._target.copy(this._targetEnd);\r\n            }\r\n            else if (isOrthographicCamera(this._camera)) {\r\n                var camera = this._camera;\r\n                var worldPosition = _v3A.set(this._dollyControlCoord.x, this._dollyControlCoord.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera);\r\n                var quaternion = _v3B.set(0, 0, -1).applyQuaternion(camera.quaternion);\r\n                var divisor = quaternion.dot(camera.up);\r\n                var distance = approxZero(divisor) ? -worldPosition.dot(camera.up) : -worldPosition.dot(camera.up) / divisor;\r\n                var cursor = _v3C.copy(worldPosition).add(quaternion.multiplyScalar(distance));\r\n                this._targetEnd.lerp(cursor, 1 - camera.zoom / this._dollyControlAmount);\r\n                this._target.copy(this._targetEnd);\r\n            }\r\n            this._dollyControlAmount = 0;\r\n        }\r\n        var maxDistance = this._collisionTest();\r\n        this._spherical.radius = Math.min(this._spherical.radius, maxDistance);\r\n        this._spherical.makeSafe();\r\n        this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target);\r\n        this._camera.lookAt(this._target);\r\n        var affectOffset = !approxZero(this._focalOffset.x) ||\r\n            !approxZero(this._focalOffset.y) ||\r\n            !approxZero(this._focalOffset.z);\r\n        if (affectOffset) {\r\n            this._camera.updateMatrix();\r\n            _xColumn.setFromMatrixColumn(this._camera.matrix, 0);\r\n            _yColumn.setFromMatrixColumn(this._camera.matrix, 1);\r\n            _zColumn.setFromMatrixColumn(this._camera.matrix, 2);\r\n            _xColumn.multiplyScalar(this._focalOffset.x);\r\n            _yColumn.multiplyScalar(-this._focalOffset.y);\r\n            _zColumn.multiplyScalar(this._focalOffset.z);\r\n            _v3A.copy(_xColumn).add(_yColumn).add(_zColumn);\r\n            this._camera.position.add(_v3A);\r\n        }\r\n        if (this._boundaryEnclosesCamera) {\r\n            this._encloseToBoundary(this._camera.position.copy(this._target), _v3A.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse), 1.0);\r\n        }\r\n        var zoomDelta = this._zoomEnd - this._zoom;\r\n        this._zoom += zoomDelta * lerpRatio;\r\n        if (this._camera.zoom !== this._zoom) {\r\n            if (approxZero(zoomDelta))\r\n                this._zoom = this._zoomEnd;\r\n            this._camera.zoom = this._zoom;\r\n            this._camera.updateProjectionMatrix();\r\n            this._updateNearPlaneCorners();\r\n            this._needsUpdate = true;\r\n        }\r\n        var updated = this._needsUpdate;\r\n        if (updated && !this._updatedLastTime) {\r\n            this.dispatchEvent({ type: 'wake' });\r\n            this.dispatchEvent({ type: 'update' });\r\n        }\r\n        else if (updated) {\r\n            this.dispatchEvent({ type: 'update' });\r\n        }\r\n        else if (!updated && this._updatedLastTime) {\r\n            this.dispatchEvent({ type: 'sleep' });\r\n        }\r\n        this._updatedLastTime = updated;\r\n        this._needsUpdate = false;\r\n        return updated;\r\n    };\r\n    CameraControls.prototype.toJSON = function () {\r\n        return JSON.stringify({\r\n            enabled: this._enabled,\r\n            minDistance: this.minDistance,\r\n            maxDistance: infinityToMaxNumber(this.maxDistance),\r\n            minZoom: this.minZoom,\r\n            maxZoom: infinityToMaxNumber(this.maxZoom),\r\n            minPolarAngle: this.minPolarAngle,\r\n            maxPolarAngle: infinityToMaxNumber(this.maxPolarAngle),\r\n            minAzimuthAngle: infinityToMaxNumber(this.minAzimuthAngle),\r\n            maxAzimuthAngle: infinityToMaxNumber(this.maxAzimuthAngle),\r\n            dampingFactor: this.dampingFactor,\r\n            draggingDampingFactor: this.draggingDampingFactor,\r\n            dollySpeed: this.dollySpeed,\r\n            truckSpeed: this.truckSpeed,\r\n            dollyToCursor: this.dollyToCursor,\r\n            verticalDragToForward: this.verticalDragToForward,\r\n            target: this._targetEnd.toArray(),\r\n            position: _v3A.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),\r\n            zoom: this._zoomEnd,\r\n            focalOffset: this._focalOffsetEnd.toArray(),\r\n            target0: this._target0.toArray(),\r\n            position0: this._position0.toArray(),\r\n            zoom0: this._zoom0,\r\n            focalOffset0: this._focalOffset0.toArray(),\r\n        });\r\n    };\r\n    CameraControls.prototype.fromJSON = function (json, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var obj = JSON.parse(json);\r\n        var position = _v3A.fromArray(obj.position);\r\n        this.enabled = obj.enabled;\r\n        this.minDistance = obj.minDistance;\r\n        this.maxDistance = maxNumberToInfinity(obj.maxDistance);\r\n        this.minZoom = obj.minZoom;\r\n        this.maxZoom = maxNumberToInfinity(obj.maxZoom);\r\n        this.minPolarAngle = obj.minPolarAngle;\r\n        this.maxPolarAngle = maxNumberToInfinity(obj.maxPolarAngle);\r\n        this.minAzimuthAngle = maxNumberToInfinity(obj.minAzimuthAngle);\r\n        this.maxAzimuthAngle = maxNumberToInfinity(obj.maxAzimuthAngle);\r\n        this.dampingFactor = obj.dampingFactor;\r\n        this.draggingDampingFactor = obj.draggingDampingFactor;\r\n        this.dollySpeed = obj.dollySpeed;\r\n        this.truckSpeed = obj.truckSpeed;\r\n        this.dollyToCursor = obj.dollyToCursor;\r\n        this.verticalDragToForward = obj.verticalDragToForward;\r\n        this._target0.fromArray(obj.target0);\r\n        this._position0.fromArray(obj.position0);\r\n        this._zoom0 = obj.zoom0;\r\n        this._focalOffset0.fromArray(obj.focalOffset0);\r\n        this.moveTo(obj.target[0], obj.target[1], obj.target[2], enableTransition);\r\n        _sphericalA.setFromVector3(position.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace));\r\n        this.rotateTo(_sphericalA.theta, _sphericalA.phi, enableTransition);\r\n        this.zoomTo(obj.zoom, enableTransition);\r\n        this.setFocalOffset(obj.focalOffset[0], obj.focalOffset[1], obj.focalOffset[2], enableTransition);\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.dispose = function () {\r\n        this._removeAllEventListeners();\r\n    };\r\n    CameraControls.prototype._encloseToBoundary = function (position, offset, friction) {\r\n        var offsetLength2 = offset.lengthSq();\r\n        if (offsetLength2 === 0.0) {\r\n            return position;\r\n        }\r\n        var newTarget = _v3B.copy(offset).add(position);\r\n        var clampedTarget = this._boundary.clampPoint(newTarget, _v3C);\r\n        var deltaClampedTarget = clampedTarget.sub(newTarget);\r\n        var deltaClampedTargetLength2 = deltaClampedTarget.lengthSq();\r\n        if (deltaClampedTargetLength2 === 0.0) {\r\n            return position.add(offset);\r\n        }\r\n        else if (deltaClampedTargetLength2 === offsetLength2) {\r\n            return position;\r\n        }\r\n        else if (friction === 0.0) {\r\n            return position.add(offset).add(deltaClampedTarget);\r\n        }\r\n        else {\r\n            var offsetFactor = 1.0 + friction * deltaClampedTargetLength2 / offset.dot(deltaClampedTarget);\r\n            return position\r\n                .add(_v3B.copy(offset).multiplyScalar(offsetFactor))\r\n                .add(deltaClampedTarget.multiplyScalar(1.0 - friction));\r\n        }\r\n    };\r\n    CameraControls.prototype._updateNearPlaneCorners = function () {\r\n        if (isPerspectiveCamera(this._camera)) {\r\n            var camera = this._camera;\r\n            var near = camera.near;\r\n            var fov = camera.getEffectiveFOV() * THREE.MathUtils.DEG2RAD;\r\n            var heightHalf = Math.tan(fov * 0.5) * near;\r\n            var widthHalf = heightHalf * camera.aspect;\r\n            this._nearPlaneCorners[0].set(-widthHalf, -heightHalf, 0);\r\n            this._nearPlaneCorners[1].set(widthHalf, -heightHalf, 0);\r\n            this._nearPlaneCorners[2].set(widthHalf, heightHalf, 0);\r\n            this._nearPlaneCorners[3].set(-widthHalf, heightHalf, 0);\r\n        }\r\n        else if (isOrthographicCamera(this._camera)) {\r\n            var camera = this._camera;\r\n            var zoomInv = 1 / camera.zoom;\r\n            var left = camera.left * zoomInv;\r\n            var right = camera.right * zoomInv;\r\n            var top_1 = camera.top * zoomInv;\r\n            var bottom = camera.bottom * zoomInv;\r\n            this._nearPlaneCorners[0].set(left, top_1, 0);\r\n            this._nearPlaneCorners[1].set(right, top_1, 0);\r\n            this._nearPlaneCorners[2].set(right, bottom, 0);\r\n            this._nearPlaneCorners[3].set(left, bottom, 0);\r\n        }\r\n    };\r\n    CameraControls.prototype._collisionTest = function () {\r\n        var distance = Infinity;\r\n        var hasCollider = this.colliderMeshes.length >= 1;\r\n        if (!hasCollider)\r\n            return distance;\r\n        if (notSupportedInOrthographicCamera(this._camera, '_collisionTest'))\r\n            return distance;\r\n        distance = this._spherical.radius;\r\n        var direction = _v3A.setFromSpherical(this._spherical).divideScalar(distance);\r\n        _rotationMatrix.lookAt(_ORIGIN, direction, this._camera.up);\r\n        for (var i = 0; i < 4; i++) {\r\n            var nearPlaneCorner = _v3B.copy(this._nearPlaneCorners[i]);\r\n            nearPlaneCorner.applyMatrix4(_rotationMatrix);\r\n            var origin_1 = _v3C.addVectors(this._target, nearPlaneCorner);\r\n            _raycaster.set(origin_1, direction);\r\n            _raycaster.far = distance;\r\n            var intersects = _raycaster.intersectObjects(this.colliderMeshes);\r\n            if (intersects.length !== 0 && intersects[0].distance < distance) {\r\n                distance = intersects[0].distance;\r\n            }\r\n        }\r\n        return distance;\r\n    };\r\n    CameraControls.prototype._getClientRect = function (target) {\r\n        var rect = this._domElement.getBoundingClientRect();\r\n        target.x = rect.left;\r\n        target.y = rect.top;\r\n        if (this._viewport) {\r\n            target.x += this._viewport.x;\r\n            target.y += rect.height - this._viewport.w - this._viewport.y;\r\n            target.z = this._viewport.z;\r\n            target.w = this._viewport.w;\r\n        }\r\n        else {\r\n            target.z = rect.width;\r\n            target.w = rect.height;\r\n        }\r\n        return target;\r\n    };\r\n    CameraControls.prototype._removeAllEventListeners = function () { };\r\n    return CameraControls;\r\n}(EventDispatcher));\r\nfunction createBoundingSphere(object3d, out) {\r\n    var boundingSphere = out;\r\n    var center = boundingSphere.center;\r\n    object3d.traverse(function (object) {\r\n        if (!object.isMesh)\r\n            return;\r\n        _box3A.expandByObject(object);\r\n    });\r\n    _box3A.getCenter(center);\r\n    var maxRadiusSq = 0;\r\n    object3d.traverse(function (object) {\r\n        if (!object.isMesh)\r\n            return;\r\n        var mesh = object;\r\n        var geometry = mesh.geometry.clone();\r\n        geometry.applyMatrix4(mesh.matrixWorld);\r\n        if (mesh.geometry.isBufferGeometry) {\r\n            var bufferGeometry = geometry;\r\n            var position = bufferGeometry.attributes.position;\r\n            for (var i = 0, l = position.count; i < l; i++) {\r\n                _v3A.fromBufferAttribute(position, i);\r\n                maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_v3A));\r\n            }\r\n        }\r\n        else {\r\n            var position = geometry.attributes.position;\r\n            var vector = new THREE.Vector3();\r\n            for (var i = 0, l = position.count; i < l; i++) {\r\n                vector.fromBufferAttribute(position, i);\r\n                maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(vector));\r\n            }\r\n        }\r\n    });\r\n    boundingSphere.radius = Math.sqrt(maxRadiusSq);\r\n    return boundingSphere;\r\n}\n\n/* harmony default export */ var camera_controls_module = (CameraControls);\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n// CONCATENATED MODULE: ./components/clouds.js\n\n\n\nvar clouds_GenerateClouds = /*#__PURE__*/function () {\n  function GenerateClouds(pos, scene, speed, scale) {\n    _classCallCheck(this, GenerateClouds);\n\n    var group = new three_module[\"Group\"]();\n    var tuft1 = new three_module[\"SphereBufferGeometry\"](1.5 * scale, 7 * scale, 11);\n    tuft1.translate(-2 * scale, 0, 0);\n    var tuft3 = new three_module[\"SphereBufferGeometry\"](1.5 * scale, 7 * scale, 11);\n    tuft3.translate(2 * scale, 0, 0);\n    var tuft2 = new three_module[\"SphereBufferGeometry\"](2.0 * scale, 7 * scale, 11);\n    tuft2.translate(0, 0, 0);\n    var cloud = new three_module[\"Mesh\"](tuft1, new three_module[\"MeshPhongMaterial\"]({\n      color: 'white',\n      flatShading: true\n    }));\n    var cloud1 = new three_module[\"Mesh\"](tuft2, new three_module[\"MeshPhongMaterial\"]({\n      color: 'white',\n      flatShading: true\n    }));\n    var cloud2 = new three_module[\"Mesh\"](tuft3, new three_module[\"MeshPhongMaterial\"]({\n      color: 'white',\n      flatShading: true\n    }));\n    group.add(cloud);\n    group.add(cloud1);\n    group.add(cloud2);\n    scene.add(group);\n    group.castShadow = true;\n    group.receiveShadow = true;\n    group.position.x = pos.x;\n    group.position.y = pos.y;\n    group.position.z = pos.z;\n    this.grass = group;\n    this.speed = speed;\n    this.pos = pos;\n  }\n\n  _createClass(GenerateClouds, [{\n    key: \"update\",\n    value: function update() {\n      var geos = this.grass;\n      geos.position.x += this.speed;\n\n      if (geos.position.x > 400) {\n        geos.position.x = this.pos.x;\n      }\n    }\n  }]);\n\n  return GenerateClouds;\n}();\n// CONCATENATED MODULE: ./components/stars.js\n\nfunction getRandomStarField(numberOfStars, width, height) {\n  var canvas = document.createElement('CANVAS');\n  canvas.width = width;\n  canvas.height = height;\n  var ctx = canvas.getContext('2d');\n  ctx.fillStyle = \"black\"; //ctx.globalAlpha = 1\n\n  ctx.fillRect(0, 0, width, height);\n\n  for (var i = 0; i < numberOfStars; ++i) {\n    var radius = Math.random() * 2;\n    var x = Math.floor(Math.random() * width);\n    var y = Math.floor(Math.random() * height);\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = 'white';\n    ctx.fill();\n  }\n\n  var texture = new three_module[\"Texture\"](canvas);\n  texture.needsUpdate = true;\n  return texture;\n}\n;\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArray.js\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\n\n\n\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n// CONCATENATED MODULE: ./components/LightingManager.js\n\n// Written By Harvey Randall \\\\\n\nfunction CreateDirectionalLight(Scene, color, brightness, pos) {\n  var _directionalLight$pos;\n\n  // ---------- [Simple Directional Light Manager] ---------- \\\\\n  var directionalLight = new three_module[\"DirectionalLight\"](color, brightness, 100);\n\n  (_directionalLight$pos = directionalLight.position).set.apply(_directionalLight$pos, _toConsumableArray(pos)); // ES6 Only way to destructure POS array\n  //Shadown Managers\n\n\n  directionalLight.castShadow = false; //Add to Scene\n\n  Scene.add(directionalLight);\n  return directionalLight;\n}\nfunction CreateAmbientLight(Scene, color, brightness) {\n  var light = new three_module[\"AmbientLight\"](color, brightness); // soft white light\n\n  Scene.add(light);\n  return light;\n}\n// CONCATENATED MODULE: ./components/gameFundalmentals/rotateAroundPoint.js\nfunction rotateAboutPoint(obj, point, axis, theta, pointIsWorld) {\n  pointIsWorld = pointIsWorld === undefined ? false : pointIsWorld;\n\n  if (pointIsWorld) {\n    obj.parent.localToWorld(obj.position);\n  }\n\n  obj.position.sub(point);\n  obj.position.applyAxisAngle(axis, theta);\n  obj.position.add(point);\n\n  if (pointIsWorld) {\n    obj.parent.worldToLocal(obj.position);\n  }\n\n  obj.rotateOnAxis(axis, theta);\n  return theta;\n}\n// CONCATENATED MODULE: ./components/gameFundalmentals/DayNightCycle.js\n\n\n// Written By Harvey Randall \\\\\n\n\n\n\nvar DayNightCycle_CreateDayNightCycle = /*#__PURE__*/function () {\n  function CreateDayNightCycle(SceneToGet, Renders) {\n    _classCallCheck(this, CreateDayNightCycle);\n\n    // ---------- [Two to level global variables] ---------- \\\\\n    this.SceneToGet = SceneToGet;\n    this.Renders = Renders; // ---------- [Create Sun Mesh] ---------- \\\\\n\n    var sun = new three_module[\"SphereBufferGeometry\"](20, 20, 100, 100);\n    var sunMaterial = new three_module[\"MeshLambertMaterial\"]({\n      emissive: 0xf9d71c\n    });\n    var sunmesh = new three_module[\"Mesh\"](sun, sunMaterial);\n    sunmesh.position.set(1, 300, 300);\n    SceneToGet.add(sunmesh); // ---------- [Create Moon Mesh] ---------- \\\\\n\n    var moon = new three_module[\"SphereBufferGeometry\"](10, 10, 100, 100);\n    var moonMaterial = new three_module[\"MeshLambertMaterial\"]({\n      emissive: 0xffffff\n    });\n    var moonMesh = new three_module[\"Mesh\"](moon, moonMaterial);\n    moonMesh.position.set(-1, -200, -300);\n    SceneToGet.add(moonMesh); // ---------- [Create Box Gometry for handling rotation] ---------- \\\\\n\n    var geometry = new three_module[\"BoxGeometry\"](1, 1, 1);\n    var cube = new three_module[\"Mesh\"](geometry);\n    cube.visible = false;\n    SceneToGet.add(cube); // ^ This is a very bad work around fix later\n    // ---------- [All defintions for the moving part] ---------- \\\\\n\n    this.cube = cube;\n    this.moonMesh = moonMesh;\n    this.sunmesh = sunmesh;\n    this.t = 0;\n    this.dTIme = 0; // ---------- [All defintions for lights to create shadows] ---------- \\\\\n\n    this.directionalLight = CreateDirectionalLight(SceneToGet, 0xddffee, 0.5, [1, 100, 100]);\n    this.directionalLight2 = CreateDirectionalLight(SceneToGet, 0xffffff, 0.2, [1, -100, -100]);\n    this.light = CreateAmbientLight(SceneToGet, 0xaaaaaa, 0.5); // ---------- [Create Stary night] ---------- \\\\\n\n    var skyBox = new three_module[\"BoxGeometry\"](1200, 1200, 1200);\n    var skyBoxMaterial = new three_module[\"MeshBasicMaterial\"]({\n      map: getRandomStarField(600, 2048, 2048),\n      side: three_module[\"BackSide\"]\n    });\n    this.sky = new three_module[\"Mesh\"](skyBox, skyBoxMaterial);\n  }\n\n  _createClass(CreateDayNightCycle, [{\n    key: \"update\",\n    value: function update() {\n      // This two lines are  important as it is part of the hacky work around to get time of day on varying FPS\n      var theta = rotateAboutPoint(this.directionalLight, new three_module[\"Vector3\"](0, 0, 0), new three_module[\"Vector3\"](1, 0, 0), 0.001, true);\n      var angle = three_module[\"MathUtils\"].radToDeg(this.cube.rotation.x); // ---------- [Rotate all the lights and Meshes] ---------- \\\\\n\n      rotateAboutPoint(this.sunmesh, new three_module[\"Vector3\"](100, 0, 0), new three_module[\"Vector3\"](1, 0, 0), 0.001, true);\n      rotateAboutPoint(this.moonMesh, new three_module[\"Vector3\"](100, 0, 0), new three_module[\"Vector3\"](1, 0, 0), 0.001, true);\n      rotateAboutPoint(this.directionalLight2, new three_module[\"Vector3\"](0, 0, 0), new three_module[\"Vector3\"](1, 0, 0), 0.001, true); // ---------- [If it is day] ---------- \\\\\n\n      if (angle < 40 && this.dTIme < 1) {\n        this.t = 0;\n        this.directionalLight.color.setHex(0xddffee);\n        this.dTIme += 0.003;\n\n        if (this.dTIme >= 1) {\n          this.dTIme = 1;\n        }\n\n        this.Renders.setClearColor(new three_module[\"Color\"]().lerpColors(new three_module[\"Color\"](0xFDB813), new three_module[\"Color\"](0x87ceeb), this.dTIme), 1);\n        this.light.intensity = 0.5;\n        this.directionalLight2.color.setHex(0x000000);\n        this.directionalLight.intensity = 0.5;\n        this.directionalLight2.intensity = 0;\n        this.SceneToGet.remove(this.sky);\n      } else if (!(angle < 40) && this.sky.parent !== this.SceneToGet) {\n        // ---------- [If it is night] ---------- \\\\\n        this.dTIme = 0;\n        this.t += 0.01;\n\n        if (this.t >= 1) {\n          this.t = 1;\n          this.SceneToGet.add(this.sky);\n        }\n\n        this.directionalLight2.color.setHex(0xffffff);\n        this.Renders.setClearColor(new three_module[\"Color\"]().lerpColors(new three_module[\"Color\"](0x87ceeb), new three_module[\"Color\"](0x000000), this.t), 1);\n        this.light.intensity = 0.2;\n        this.directionalLight.intensity = 0;\n        this.directionalLight2.intensity = 0.2;\n      }\n\n      if (this.sky.parent === this.SceneToGet) {\n        this.sky.rotation.x += -0.0004;\n      }\n\n      this.cube.rotateOnAxis(new three_module[\"Vector3\"](1, 0, 0), theta);\n    }\n  }]);\n\n  return CreateDayNightCycle;\n}();\n// EXTERNAL MODULE: ./components/contextHandler.js\nvar contextHandler = __webpack_require__(\"zvNv\");\n\n// CONCATENATED MODULE: ./components/nametag.js\n\nfunction CreateTag(baseWidth, size, name) {\n  var borderSize = 2;\n  var ctx = document.createElement('canvas').getContext('2d');\n  var font = \"\".concat(size, \"px Verdana\");\n  ctx.font = font; // measure how long the name will be\n\n  var textWidth = ctx.measureText(name).width;\n  var doubleBorderSize = borderSize * 2;\n  var width = baseWidth + doubleBorderSize;\n  var height = size + doubleBorderSize;\n  ctx.canvas.width = width;\n  ctx.canvas.height = height; // need to set font again after resizing canvas\n\n  ctx.font = font;\n  ctx.textBaseline = 'middle';\n  ctx.textAlign = 'center'; //ctx.fillStyle = 'blue';\n  //ctx.fillRect(0, 0, width, height);\n  // scale to fit but don't stretch\n\n  var scaleFactor = Math.min(1, baseWidth / textWidth);\n  ctx.translate(width / 2, height / 2);\n  ctx.scale(scaleFactor, 1);\n  ctx.fillStyle = 'white';\n  ctx.fillText(name, 0, 0);\n  return ctx.canvas;\n}\nfunction GenerateLabel(name, group) {\n  var canvas = CreateTag(300, 32, name);\n  var texture = new three_module[\"CanvasTexture\"](canvas); // because our canvas is likely not a power of 2\n  // in both dimensions set the filtering appropriately.\n\n  texture.minFilter = three_module[\"LinearFilter\"];\n  texture.wrapS = three_module[\"ClampToEdgeWrapping\"];\n  texture.wrapT = three_module[\"ClampToEdgeWrapping\"];\n  var labelMaterial = new three_module[\"SpriteMaterial\"]({\n    map: texture,\n    transparent: true\n  }); // if units are meters then 0.01 here makes size\n  // of the label into centimeters.\n\n  var labelBaseScale = 0.01;\n  var label = new three_module[\"Sprite\"](labelMaterial);\n  group.add(label);\n  label.position.y = 1;\n  label.scale.x = canvas.width * labelBaseScale;\n  label.scale.y = canvas.height * labelBaseScale;\n  return group;\n}\n// CONCATENATED MODULE: ./pages/test.js\n\n\n\n// Written By Harvey Randall \\\\\n\n\n\n\n\nvar perlin = __webpack_require__(\"VT+s\");\n\nvar SimplexNoise = __webpack_require__(\"Fu16\");\n\n\n\n\n\nvar Stats = __webpack_require__(\"MZFn\");\n\n\n\ncamera_controls_module.install({\n  THREE: three_module\n});\nfunction render() {\n  var _ref2;\n\n  var _useState = Object(react[\"useState\"])(undefined),\n      child = _useState[0],\n      setChild = _useState[1];\n\n  var _useState2 = Object(react[\"useState\"])(0),\n      newTheta = _useState2[0],\n      setTheat = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])(\"not day\"),\n      day = _useState3[0],\n      setDay = _useState3[1];\n\n  var _useState4 = Object(react[\"useState\"])(undefined),\n      child2 = _useState4[0],\n      setChild2 = _useState4[1];\n\n  var _useState5 = Object(react[\"useState\"])(undefined),\n      pos = _useState5[0],\n      setPos = _useState5[1];\n\n  var _useState6 = Object(react[\"useState\"])(undefined),\n      rot = _useState6[0],\n      setRot = _useState6[1];\n\n  var socket = Object(contextHandler[\"b\" /* useAppContext */])();\n\n  var _useState7 = Object(react[\"useState\"])(undefined),\n      recievedSeed = _useState7[0],\n      setSeed = _useState7[1];\n\n  var _useState8 = Object(react[\"useState\"])(false),\n      rendered = _useState8[0],\n      setRendered = _useState8[1];\n\n  var _useState9 = Object(react[\"useState\"])([]),\n      clients = _useState9[0],\n      setClients = _useState9[1];\n\n  var _useState10 = Object(react[\"useState\"])(undefined),\n      personData = _useState10[0],\n      setPersonalData = _useState10[1];\n\n  var _useState11 = Object(react[\"useState\"])([]),\n      latestPerson = _useState11[0],\n      setLatestestPerson = _useState11[1];\n\n  var _useState12 = Object(react[\"useState\"])([]),\n      gameEventData = _useState12[0],\n      setgameEventData = _useState12[1];\n\n  socket.once(\"welcome\", function (seed, client, data) {\n    setSeed(seed);\n    console.log(client);\n    setClients(client);\n    setPersonalData(data);\n  });\n  Object(react[\"useEffect\"])(function () {\n    if (child === undefined || recievedSeed === undefined || rendered === true) return;\n    setRendered(true);\n    var stats = new Stats();\n    stats.showPanel(1); // 0: fps, 1: ms, 2: mb, 3+: custom\n\n    document.body.appendChild(stats.dom);\n    var SceneToGet = new three_module[\"Scene\"]();\n    var Renders = new three_module[\"WebGLRenderer\"]({\n      antialias: true,\n      alpha: true\n    });\n    Renders.setClearColor(0x87ceeb, 1);\n    Renders.setSize(window.innerWidth, window.innerHeight);\n    child.appendChild(Renders.domElement);\n    var simplex = new SimplexNoise(recievedSeed);\n    var clock = new three_module[\"Clock\"]();\n    var planeGeometry = new three_module[\"PlaneGeometry\"](20, 20, 32, 32);\n    planeGeometry.rotateX(Math.PI / 2);\n    var planeMaterial = new three_module[\"MeshStandardMaterial\"]({\n      color: 0x567d46,\n      side: three_module[\"DoubleSide\"]\n    });\n    var plane = new three_module[\"Mesh\"](planeGeometry, planeMaterial);\n    plane.position.y = -0.5;\n    SceneToGet.add(plane);\n    var daynight = new DayNightCycle_CreateDayNightCycle(SceneToGet, Renders);\n    var geometry = new three_module[\"PlaneBufferGeometry\"](500, 500, 100, 100);\n    var colours = [];\n\n    for (var i = 0, l = geometry.attributes.position.count; i < l; i++) {\n      //console.log(geometry.attributes.position.array[(i*3)+2])\n      var x = geometry.attributes.position.array[i * 3] / 128;\n      var y = geometry.attributes.position.array[i * 3 + 1] / 128;\n      var height = simplex.noise2D(x, y) * 30;\n      geometry.attributes.position.array[i * 3 + 2] = height;\n\n      if (height > 23) {\n        colours.push(1, 1, 1);\n      } else if (height > 5) {\n        colours.push(0.56, 0.54, 0.48);\n      } else if (height < -20) {\n        colours.push(0.501, 0.772, 0.87);\n      } else {\n        colours.push(0.56, 0.68, 0.166);\n      }\n    }\n\n    var material = new three_module[\"MeshPhongMaterial\"]({\n      vertexColors: three_module[\"VertexColors\"],\n      reflectivity: 0,\n      roughness: 2\n    });\n    material.flatShading = true;\n    var plane2 = new three_module[\"Mesh\"](geometry, material);\n    plane2.receiveShadow = true;\n    plane2.castShadow = true;\n    plane2.position.y = -3;\n    geometry.addAttribute('color', new three_module[\"BufferAttribute\"](new Float32Array(colours), 3));\n    geometry.computeVertexNormals();\n    var clouds = [];\n\n    for (var _i = 0; _i < 40; _i++) {\n      clouds.push(new clouds_GenerateClouds(new three_module[\"Vector3\"](Math.random() * 300 - 300, 80 + Math.random() * 20, Math.random() * 600 - 400), SceneToGet, Math.random() * 0.2, Math.random() * 6 + 1));\n    }\n\n    plane2.rotateX(Math.PI / 2 + Math.PI);\n    SceneToGet.add(plane2);\n    var Camera = new three_module[\"PerspectiveCamera\"](75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    /*const cameraControls = new CameraControls(Camera, Renders.domElement);\n    cameraControls.azimuthRotateSpeed = -0.3; // negative value to invert rotation direction\n    cameraControls.polarRotateSpeed = -0.3; // negative value to invert rotation direction\n    cameraControls.truckSpeed = 1 / 1e-5 * 3;\n    cameraControls.distance = 5\n    //cameraControls.touches.two = CameraControls.ACTION.TOUCH_ZOOM_TRUCK;\n    cameraControls.saveState();*/\n    //Camera.position.z = 5;\n\n    var w = false,\n        a = false,\n        s = false,\n        d = false,\n        up = false,\n        down = false,\n        e = false,\n        q = false,\n        shift = 1;\n    document.addEventListener(\"keydown\", function (e) {\n      onDocumentKeyDown(e, true);\n    }, false);\n    document.addEventListener(\"keyup\", function (e) {\n      onDocumentKeyDown(e, false);\n    }, false);\n\n    function onDocumentKeyDown(event, val) {\n      var keyCode = event.which;\n\n      if (keyCode == 87) {\n        w = val;\n      }\n\n      if (keyCode == 83) {\n        s = val;\n      }\n\n      if (keyCode == 65) {\n        a = val;\n      }\n\n      if (keyCode == 68) {\n        d = val;\n      }\n\n      if (keyCode == 38) {\n        up = val;\n      }\n\n      if (keyCode == 40) {\n        down = val;\n      }\n\n      if (keyCode == 69) {\n        e = val;\n      }\n\n      if (keyCode == 81) {\n        q = val;\n      }\n\n      if (keyCode == 16) {\n        shift = val ? 0.5 : 1;\n      }\n    }\n\n    ;\n    Renders.domElement.requestPointerLock();\n    var gridHelper = new three_module[\"GridHelper\"](50, 50);\n    gridHelper.position.y = -1;\n    SceneToGet.add(gridHelper);\n    var players = [];\n\n    function MakeCube(color, name) {\n      var group = new three_module[\"Group\"]();\n      var geometry = new three_module[\"BoxGeometry\"](1, 1, 1);\n      var material = new three_module[\"MeshLambertMaterial\"]({\n        color: new three_module[\"Color\"](color),\n        emissive: new three_module[\"Color\"](color)\n      });\n      var cube = new three_module[\"Mesh\"](geometry, material);\n      group.add(cube);\n      var cyclinder = new three_module[\"CylinderGeometry\"](0.3, 0.3, 0.6, 30);\n      var material2 = new three_module[\"MeshLambertMaterial\"]({\n        color: 0x000000\n      });\n      var cylinderBuild = new three_module[\"Mesh\"](cyclinder, material2);\n      cylinderBuild.rotateX(Math.PI / 2 + Math.PI);\n      cylinderBuild.position.set(0, 0, -0.6);\n      group.add(cylinderBuild);\n      GenerateLabel(name, group);\n      SceneToGet.add(group);\n      group.name = name;\n      return group;\n    }\n\n    console.log(clients);\n\n    var addtoGameFeed = function addtoGameFeed(name, event) {\n      var outArrayToSender = [{\n        name: name,\n        event: event\n      }]; //delete outArray[10] \n      //delete outArray[11] \n\n      setgameEventData([{\n        name: name,\n        event: event\n      }]);\n      console.log(\"array below\");\n      console.log(outArrayToSender);\n      console.log(gameEventData);\n    };\n\n    clients.forEach(function (e) {\n      console.log(\"Adding PLayer \" + e);\n      var cube = MakeCube(e.color, e.name);\n      players[e] = cube;\n    });\n    socket.on('NewPlayer', function (id, data) {\n      console.log(data);\n      console.log(\"New PLyer \" + id);\n      var cube = MakeCube(data.color, data.name);\n      addtoGameFeed(data.name, \"Joined the game!\");\n      players[id] = cube;\n    });\n    socket.on('LostPLayer', function (id, how, data) {\n      console.log(\"lost PLyer \" + id);\n      var cube = players[id];\n      SceneToGet.remove(cube);\n      delete players[id];\n      console.log(data);\n      addtoGameFeed(data.name, how === true ? \"Was removed from the game for being ianctive\" : \"Left the game!\");\n    });\n    socket.on('PlayerLocationUpdate', function (id, pos, rot, data) {\n      var cube = players[id];\n\n      if (cube) {\n        cube.rotation.set(rot._x, rot._y, rot._z);\n        cube.position.set(pos.x, pos.y, pos.z);\n      } else {\n        var _cube = MakeCube(data.color, data.name);\n\n        players[id] = _cube;\n      }\n    });\n    setInterval(function () {\n      socket.emit('LocationUpdate', Camera.position, Camera.rotation);\n    }, 30);\n\n    var animate = function animate() {\n      stats.begin();\n      requestAnimationFrame(animate);\n      daynight.update();\n      clouds.forEach(function (e, i) {\n        e.update();\n      });\n\n      if (w) {\n        var direction = new three_module[\"Vector3\"]();\n        Camera.getWorldDirection(direction);\n        Camera.position.add(direction.multiplyScalar(shift == 1 ? 1 : 0.25)); //Camera.position.z -= 0.1\n      }\n\n      if (s) {\n        var direction = new three_module[\"Vector3\"]();\n        Camera.getWorldDirection(direction);\n        Camera.position.add(direction.multiplyScalar(-(shift == 1 ? 1 : 0.25)));\n      }\n\n      if (a) {\n        Camera.rotateY(0.04 * shift);\n      }\n\n      if (d) {\n        Camera.rotateY(-0.04 * shift);\n      }\n\n      if (up) {\n        Camera.rotateX(0.04 * shift);\n      }\n\n      if (down) {\n        Camera.rotateX(-0.04 * shift);\n      }\n\n      if (q) {\n        Camera.rotateZ(0.02 * shift);\n      }\n\n      if (e) {\n        Camera.rotateZ(-0.02 * shift);\n      }\n\n      Renders.render(SceneToGet, Camera);\n      stats.end();\n    };\n\n    function listChildren(children) {\n      var child;\n\n      for (var _i2 = 0; _i2 < children.length; _i2++) {\n        child = children[_i2]; // Calls this function again if the child has children\n\n        if (child.children) {\n          listChildren(child.children);\n        } // Logs if this child last in recursion\n        else {\n            console.log('Reached bottom with: ', child);\n          }\n      }\n    }\n\n    listChildren(SceneToGet.children);\n    animate();\n  }, [child, clients]);\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\", {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\", {\n      style: {\n        position: \"fixed\",\n        marginTop: \"40px\",\n        color: \"white\"\n      },\n      children: personData === undefined ? \"LOADING...\" : personData.name\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      style: {\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"fixed\",\n        marginTop: \"80px\"\n      },\n      children: latestPerson !== undefined && latestPerson.length > 0 ? latestPerson.map(function (e) {\n        if (e === undefined) return;\n\n        /*#__PURE__*/\n        Object(jsx_runtime[\"jsxs\"])(\"h3\", {\n          style: {\n            color: \"white\"\n          },\n          children: [e.name, \" - \", e.event]\n        });\n      }) : /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"], {\n        children: \"/\"\n      })\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      ref: function ref(_ref) {\n        return setChild2(_ref);\n      }\n    }), (_ref2 = recievedSeed === undefined) !== null && _ref2 !== void 0 ? _ref2 : /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\", {\n      children: \"LOADING SEED!\"\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      ref: function ref(_ref3) {\n        return setChild(_ref3);\n      }\n    })]\n  });\n}\n\n/***/ }),\n\n/***/ \"Fu16\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;/*\n * A fast javascript implementation of simplex noise by Jonas Wagner\n\nBased on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.\nWhich is based on example code by Stefan Gustavson (stegu@itn.liu.se).\nWith Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\nBetter rank ordering method by Stefan Gustavson in 2012.\n\n\n Copyright (c) 2018 Jonas Wagner\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n(function() {\n  'use strict';\n\n  var F2 = 0.5 * (Math.sqrt(3.0) - 1.0);\n  var G2 = (3.0 - Math.sqrt(3.0)) / 6.0;\n  var F3 = 1.0 / 3.0;\n  var G3 = 1.0 / 6.0;\n  var F4 = (Math.sqrt(5.0) - 1.0) / 4.0;\n  var G4 = (5.0 - Math.sqrt(5.0)) / 20.0;\n\n  function SimplexNoise(randomOrSeed) {\n    var random;\n    if (typeof randomOrSeed == 'function') {\n      random = randomOrSeed;\n    }\n    else if (randomOrSeed) {\n      random = alea(randomOrSeed);\n    } else {\n      random = Math.random;\n    }\n    this.p = buildPermutationTable(random);\n    this.perm = new Uint8Array(512);\n    this.permMod12 = new Uint8Array(512);\n    for (var i = 0; i < 512; i++) {\n      this.perm[i] = this.p[i & 255];\n      this.permMod12[i] = this.perm[i] % 12;\n    }\n\n  }\n  SimplexNoise.prototype = {\n    grad3: new Float32Array([1, 1, 0,\n      -1, 1, 0,\n      1, -1, 0,\n\n      -1, -1, 0,\n      1, 0, 1,\n      -1, 0, 1,\n\n      1, 0, -1,\n      -1, 0, -1,\n      0, 1, 1,\n\n      0, -1, 1,\n      0, 1, -1,\n      0, -1, -1]),\n    grad4: new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,\n      0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,\n      1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,\n      -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,\n      1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,\n      -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,\n      1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,\n      -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]),\n    noise2D: function(xin, yin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0 = 0; // Noise contributions from the three corners\n      var n1 = 0;\n      var n2 = 0;\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin) * F2; // Hairy factor for 2D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var t = (i + j) * G2;\n      var X0 = i - t; // Unskew the cell origin back to (x,y) space\n      var Y0 = j - t;\n      var x0 = xin - X0; // The x,y distances from the cell origin\n      var y0 = yin - Y0;\n      // For the 2D case, the simplex shape is an equilateral triangle.\n      // Determine which simplex we are in.\n      var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n      if (x0 > y0) {\n        i1 = 1;\n        j1 = 0;\n      } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n      else {\n        i1 = 0;\n        j1 = 1;\n      } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n      // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n      // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n      // c = (3-sqrt(3))/6\n      var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n      var y1 = y0 - j1 + G2;\n      var x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n      var y2 = y0 - 1.0 + 2.0 * G2;\n      // Work out the hashed gradient indices of the three simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      // Calculate the contribution from the three corners\n      var t0 = 0.5 - x0 * x0 - y0 * y0;\n      if (t0 >= 0) {\n        var gi0 = permMod12[ii + perm[jj]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient\n      }\n      var t1 = 0.5 - x1 * x1 - y1 * y1;\n      if (t1 >= 0) {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);\n      }\n      var t2 = 0.5 - x2 * x2 - y2 * y2;\n      if (t2 >= 0) {\n        var gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to return values in the interval [-1,1].\n      return 70.0 * (n0 + n1 + n2);\n    },\n    // 3D simplex noise\n    noise3D: function(xin, yin, zin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0, n1, n2, n3; // Noise contributions from the four corners\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin + zin) * F3; // Very nice and simple skew factor for 3D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var k = Math.floor(zin + s);\n      var t = (i + j + k) * G3;\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var x0 = xin - X0; // The x,y,z distances from the cell origin\n      var y0 = yin - Y0;\n      var z0 = zin - Z0;\n      // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n      // Determine which simplex we are in.\n      var i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n      var i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n      if (x0 >= y0) {\n        if (y0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // X Y Z order\n        else if (x0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // X Z Y order\n        else {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // Z X Y order\n      }\n      else { // x0<y0\n        if (y0 < z0) {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Z Y X order\n        else if (x0 < z0) {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Y Z X order\n        else {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // Y X Z order\n      }\n      // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n      // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n      // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n      // c = 1/6.\n      var x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords\n      var y1 = y0 - j1 + G3;\n      var z1 = z0 - k1 + G3;\n      var x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords\n      var y2 = y0 - j2 + 2.0 * G3;\n      var z2 = z0 - k2 + 2.0 * G3;\n      var x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords\n      var y3 = y0 - 1.0 + 3.0 * G3;\n      var z3 = z0 - 1.0 + 3.0 * G3;\n      // Work out the hashed gradient indices of the four simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      // Calculate the contribution from the four corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to stay just inside [-1,1]\n      return 32.0 * (n0 + n1 + n2 + n3);\n    },\n    // 4D simplex noise, better simplex rank ordering method 2012-03-09\n    noise4D: function(x, y, z, w) {\n      var perm = this.perm;\n      var grad4 = this.grad4;\n\n      var n0, n1, n2, n3, n4; // Noise contributions from the five corners\n      // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in\n      var s = (x + y + z + w) * F4; // Factor for 4D skewing\n      var i = Math.floor(x + s);\n      var j = Math.floor(y + s);\n      var k = Math.floor(z + s);\n      var l = Math.floor(w + s);\n      var t = (i + j + k + l) * G4; // Factor for 4D unskewing\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var W0 = l - t;\n      var x0 = x - X0; // The x,y,z,w distances from the cell origin\n      var y0 = y - Y0;\n      var z0 = z - Z0;\n      var w0 = w - W0;\n      // For the 4D case, the simplex is a 4D shape I won't even try to describe.\n      // To find out which of the 24 possible simplices we're in, we need to\n      // determine the magnitude ordering of x0, y0, z0 and w0.\n      // Six pair-wise comparisons are performed between each possible pair\n      // of the four coordinates, and the results are used to rank the numbers.\n      var rankx = 0;\n      var ranky = 0;\n      var rankz = 0;\n      var rankw = 0;\n      if (x0 > y0) rankx++;\n      else ranky++;\n      if (x0 > z0) rankx++;\n      else rankz++;\n      if (x0 > w0) rankx++;\n      else rankw++;\n      if (y0 > z0) ranky++;\n      else rankz++;\n      if (y0 > w0) ranky++;\n      else rankw++;\n      if (z0 > w0) rankz++;\n      else rankw++;\n      var i1, j1, k1, l1; // The integer offsets for the second simplex corner\n      var i2, j2, k2, l2; // The integer offsets for the third simplex corner\n      var i3, j3, k3, l3; // The integer offsets for the fourth simplex corner\n      // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.\n      // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w\n      // impossible. Only the 24 indices which have non-zero entries make any sense.\n      // We use a thresholding to set the coordinates in turn from the largest magnitude.\n      // Rank 3 denotes the largest coordinate.\n      i1 = rankx >= 3 ? 1 : 0;\n      j1 = ranky >= 3 ? 1 : 0;\n      k1 = rankz >= 3 ? 1 : 0;\n      l1 = rankw >= 3 ? 1 : 0;\n      // Rank 2 denotes the second largest coordinate.\n      i2 = rankx >= 2 ? 1 : 0;\n      j2 = ranky >= 2 ? 1 : 0;\n      k2 = rankz >= 2 ? 1 : 0;\n      l2 = rankw >= 2 ? 1 : 0;\n      // Rank 1 denotes the second smallest coordinate.\n      i3 = rankx >= 1 ? 1 : 0;\n      j3 = ranky >= 1 ? 1 : 0;\n      k3 = rankz >= 1 ? 1 : 0;\n      l3 = rankw >= 1 ? 1 : 0;\n      // The fifth corner has all coordinate offsets = 1, so no need to compute that.\n      var x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords\n      var y1 = y0 - j1 + G4;\n      var z1 = z0 - k1 + G4;\n      var w1 = w0 - l1 + G4;\n      var x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords\n      var y2 = y0 - j2 + 2.0 * G4;\n      var z2 = z0 - k2 + 2.0 * G4;\n      var w2 = w0 - l2 + 2.0 * G4;\n      var x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords\n      var y3 = y0 - j3 + 3.0 * G4;\n      var z3 = z0 - k3 + 3.0 * G4;\n      var w3 = w0 - l3 + 3.0 * G4;\n      var x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords\n      var y4 = y0 - 1.0 + 4.0 * G4;\n      var z4 = z0 - 1.0 + 4.0 * G4;\n      var w4 = w0 - 1.0 + 4.0 * G4;\n      // Work out the hashed gradient indices of the five simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      var ll = l & 255;\n      // Calculate the contribution from the five corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);\n      }\n      var t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;\n      if (t4 < 0) n4 = 0.0;\n      else {\n        var gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;\n        t4 *= t4;\n        n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);\n      }\n      // Sum up and scale the result to cover the range [-1,1]\n      return 27.0 * (n0 + n1 + n2 + n3 + n4);\n    }\n  };\n\n  function buildPermutationTable(random) {\n    var i;\n    var p = new Uint8Array(256);\n    for (i = 0; i < 256; i++) {\n      p[i] = i;\n    }\n    for (i = 0; i < 255; i++) {\n      var r = i + ~~(random() * (256 - i));\n      var aux = p[i];\n      p[i] = p[r];\n      p[r] = aux;\n    }\n    return p;\n  }\n  SimplexNoise._buildPermutationTable = buildPermutationTable;\n\n  function alea() {\n    // Johannes Baage <baagoe@baagoe.com>, 2010\n    var s0 = 0;\n    var s1 = 0;\n    var s2 = 0;\n    var c = 1;\n\n    var mash = masher();\n    s0 = mash(' ');\n    s1 = mash(' ');\n    s2 = mash(' ');\n\n    for (var i = 0; i < arguments.length; i++) {\n      s0 -= mash(arguments[i]);\n      if (s0 < 0) {\n        s0 += 1;\n      }\n      s1 -= mash(arguments[i]);\n      if (s1 < 0) {\n        s1 += 1;\n      }\n      s2 -= mash(arguments[i]);\n      if (s2 < 0) {\n        s2 += 1;\n      }\n    }\n    mash = null;\n    return function() {\n      var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n      s0 = s1;\n      s1 = s2;\n      return s2 = t - (c = t | 0);\n    };\n  }\n  function masher() {\n    var n = 0xefc8249d;\n    return function(data) {\n      data = data.toString();\n      for (var i = 0; i < data.length; i++) {\n        n += data.charCodeAt(i);\n        var h = 0.02519603282416938 * n;\n        n = h >>> 0;\n        h -= n;\n        h *= n;\n        n = h >>> 0;\n        h -= n;\n        n += h * 0x100000000; // 2^32\n      }\n      return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n    };\n  }\n\n  // amd\n  if (true) !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {return SimplexNoise;}).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  // common js\n  if (true) exports.SimplexNoise = SimplexNoise;\n  // browser\n  else {}\n  // nodejs\n  if (true) {\n    module.exports = SimplexNoise;\n  }\n\n})();\n\n\n/***/ }),\n\n/***/ \"MZFn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){ true?module.exports=e():undefined})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n\n\n/***/ }),\n\n/***/ \"VT+s\":\n/***/ (function(module, exports) {\n\nexports.generatePerlinNoise = generatePerlinNoise;\nexports.generateWhiteNoise = generateWhiteNoise;\n\nfunction generatePerlinNoise(width, height, options) {\n  options = options || {};\n  var octaveCount = options.octaveCount || 4;\n  var amplitude = options.amplitude || 0.1;\n  var persistence = options.persistence || 0.2;\n  var whiteNoise = generateWhiteNoise(width, height);\n\n  var smoothNoiseList = new Array(octaveCount);\n  var i;\n  for (i = 0; i < octaveCount; ++i) {\n    smoothNoiseList[i] = generateSmoothNoise(i);\n  }\n  var perlinNoise = new Array(width * height);\n  var totalAmplitude = 0;\n  // blend noise together\n  for (i = octaveCount - 1; i >= 0; --i) {\n    amplitude *= persistence;\n    totalAmplitude += amplitude;\n\n    for (var j = 0; j < perlinNoise.length; ++j) {\n      perlinNoise[j] = perlinNoise[j] || 0;\n      perlinNoise[j] += smoothNoiseList[i][j] * amplitude;\n    }\n  }\n  // normalization\n  for (i = 0; i < perlinNoise.length; ++i) {\n      perlinNoise[i] /= totalAmplitude;\n  }\n\n  return perlinNoise;\n\n  function generateSmoothNoise(octave) {\n    var noise = new Array(width * height);\n    var samplePeriod = Math.pow(2, octave);\n    var sampleFrequency = 1 / samplePeriod;\n    var noiseIndex = 0;\n    for (var y = 0; y < height; ++y) {\n      var sampleY0 = Math.floor(y / samplePeriod) * samplePeriod;\n      var sampleY1 = (sampleY0 + samplePeriod) % height;\n      var vertBlend = (y - sampleY0) * sampleFrequency;\n      for (var x = 0; x < width; ++x) {\n        var sampleX0 = Math.floor(x / samplePeriod) * samplePeriod;\n        var sampleX1 = (sampleX0 + samplePeriod) % width;\n        var horizBlend = (x - sampleX0) * sampleFrequency;\n\n        // blend top two corners\n        var top = interpolate(whiteNoise[sampleY0 * width + sampleX0], whiteNoise[sampleY1 * width + sampleX0], vertBlend);\n        // blend bottom two corners\n        var bottom = interpolate(whiteNoise[sampleY0 * width + sampleX1], whiteNoise[sampleY1 * width + sampleX1], vertBlend);\n        // final blend\n        noise[noiseIndex] = interpolate(top, bottom, horizBlend);\n        noiseIndex += 1;\n      }\n    }\n    return noise;\n  }\n}\nfunction generateWhiteNoise(width, height) {\n  var noise = new Array(width * height);\n  for (var i = 0; i < noise.length; ++i) {\n    noise[i] = Math.random();\n  }\n  return noise;\n}\nfunction interpolate(x0, x1, alpha) {\n  return x0 * (1 - alpha) + alpha * x1;\n}\n\n\n/***/ }),\n\n/***/ \"zl3/\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/test\",\n      function () {\n        return __webpack_require__(\"FCuQ\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"zl3/\",0,1,4,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/camera-controls/dist/camera-controls.module.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/createClass.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/year12/Desktop/Harvey/alevel_2020-2021/components/clouds.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/year12/Desktop/Harvey/alevel_2020-2021/components/stars.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/year12/Desktop/Harvey/alevel_2020-2021/components/LightingManager.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/rotateAroundPoint.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/year12/Desktop/Harvey/alevel_2020-2021/components/gameFundalmentals/DayNightCycle.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/year12/Desktop/Harvey/alevel_2020-2021/components/nametag.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/year12/Desktop/Harvey/alevel_2020-2021/pages/test.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/simplex-noise/simplex-noise.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/stats.js/build/stats.min.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/perlin-noise/index.js","/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Ftest&absolutePagePath=private-next-pages%2Ftest.js!"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,8EAA8E;AACvG;AACA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wBAAwB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+GAA+G,eAAe;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,iBAAiB;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,iBAAiB;AACrF;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,iBAAiB;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,mBAAmB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C,gCAAgC,iBAAiB;AACjD;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA,gCAAgC,gBAAgB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,OAAO;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,OAAO;AACtD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEe,yEAAc,EAAC;;;AChvCf;AACf;AACA;AACA;AACA,C;;ACJA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA,C;;ACdmI;AACN;AAC9F;AACxB,IAAI,qBAAc;AACzB;AACA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A;;AAEA,uBAAuB,iCAAuB;AAC9C,oBAAoB,4BAAkB;AACtC;AACA;AACA,KAAK;AACL;AACA,qBAAqB,oBAAU;AAC/B;AACA;AACA;AACA,uCAAuC,+BAAqB;AAC5D;AACA;;AAEA,oBAAoB,SAAS;AAC7B,sBAAsB,qBAAc,KAAK,uBAAO;AAChD;;AAEA;AACA;AACA,qBAAqB,iCAAiB;AACtC;AACA,6CAA6C;AAC7C,2CAA2C;AAC3C;AACA;AACA;AACA,+BAA+B;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,0BAAgB;AACzC;AACA;AACA;;AAEA;AACA,sBAAsB,qBAAW;AACjC,yBAAyB,2BAAiB;AAC1C,yBAAyB,mCAAyB;AAClD,mBAAmB,qBAAW;AAC9B,sBAAsB,qBAAW;AACjC,OAAO;AACP,qBAAqB,oBAAU;AAC/B;AACA,0BAA0B,gCAAsB;AAChD,0BAA0B,mCAAyB;AACnD;AACA,OAAO;AACP,8BAA8B,oBAAU;AACxC;AACA;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO,EAAE;AACT;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,4BAA4B,uBAAa;AACzC;AACA,6EAA6E;AAC7E;;AAEA;AACA,4BAA4B,uBAAa;AACzC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,uBAAuB;AAC9C,8BAA8B;;AAE9B;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,sBAAsB,2BAAK;AAC3B,4BAA4B,0BAAI;AAChC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK,gBAAgB,0BAAI;AACzB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,QAAQ,2BAAK;AACb;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT,OAAO,iBAAiB,0BAAI,CAAC,uBAAS;AACtC;AACA,OAAO;AACP,KAAK,gBAAgB,0BAAI;AACzB;AACA;AACA;AACA,KAAK,4FAA4F,0BAAI;AACrG;AACA,KAAK,gBAAgB,0BAAI;AACzB;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,C;;;;;;;ACvZA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,qBAAqB;AACrB;AACA,wBAAwB;AACxB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,kCAAkC;AAClC;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,6BAA6B;AAC7B;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA,mCAAmC;AACnC,qBAAqB;AACrB;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,yBAAyB;AACzB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,gDAAgD;AAChD;AACA;;AAEA;AACA,MAAM,IAA2C,EAAE,mCAAO,YAAY,qBAAqB;AAAA,oGAAC;AAC5F;AACA,MAAM,IAA8B;AACpC;AACA,OAAO,EAAsE;AAC7E;AACA,MAAM,IAA6B;AACnC;AACA;;AAEA,CAAC;;;;;;;;ACxdD;AACA,eAAe,KAAsD,oBAAoB,SAA4D,CAAC,kBAAkB,iBAAiB,cAAc,qBAAqB,SAAS,cAAc,YAAY,oBAAoB,qDAAqD,IAAI,wCAAwC,gCAAgC,MAAM,OAAO,eAAe,YAAY,eAAe,uCAAuC;AAClf,yBAAyB,KAAK,mHAAmH,sFAAsF,KAAK,OAAO,0DAA0D,4BAA4B,gBAAgB,IAAI,gCAAgC,kBAAkB,mDAAmD,yBAAyB;AAC3d,mCAAmC,SAAS,mBAAmB,aAAa,0BAA0B,wBAAwB,wJAAwJ,UAAU,WAAW,4BAA4B,aAAa,yBAAyB,mDAAmD,qBAAqB,cAAc,oBAAoB,cAAc;AACre,oBAAoB,cAAc,iBAAiB,oBAAoB,OAAO,2BAA2B,gBAAgB,gBAAgB,cAAc,gBAAgB,oBAAoB,cAAc,kDAAkD,qCAAqC,wBAAwB,cAAc,iBAAiB,sCAAsC,SAAS;;;;;;;;ACJtY;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ;AACnC;AACA;;AAEA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA,aAAa,wBAAwB;AACrC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpEA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA4B;AACnD;AACA","file":"x","sourcesContent":["/*!\n * camera-controls\n * https://github.com/yomotsu/camera-controls\n * (c) 2017 @yomotsu\n * Released under the MIT License.\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\nvar ACTION;\r\n(function (ACTION) {\r\n    ACTION[ACTION[\"NONE\"] = 0] = \"NONE\";\r\n    ACTION[ACTION[\"ROTATE\"] = 1] = \"ROTATE\";\r\n    ACTION[ACTION[\"TRUCK\"] = 2] = \"TRUCK\";\r\n    ACTION[ACTION[\"OFFSET\"] = 3] = \"OFFSET\";\r\n    ACTION[ACTION[\"DOLLY\"] = 4] = \"DOLLY\";\r\n    ACTION[ACTION[\"ZOOM\"] = 5] = \"ZOOM\";\r\n    ACTION[ACTION[\"TOUCH_ROTATE\"] = 6] = \"TOUCH_ROTATE\";\r\n    ACTION[ACTION[\"TOUCH_TRUCK\"] = 7] = \"TOUCH_TRUCK\";\r\n    ACTION[ACTION[\"TOUCH_OFFSET\"] = 8] = \"TOUCH_OFFSET\";\r\n    ACTION[ACTION[\"TOUCH_DOLLY\"] = 9] = \"TOUCH_DOLLY\";\r\n    ACTION[ACTION[\"TOUCH_ZOOM\"] = 10] = \"TOUCH_ZOOM\";\r\n    ACTION[ACTION[\"TOUCH_DOLLY_TRUCK\"] = 11] = \"TOUCH_DOLLY_TRUCK\";\r\n    ACTION[ACTION[\"TOUCH_DOLLY_OFFSET\"] = 12] = \"TOUCH_DOLLY_OFFSET\";\r\n    ACTION[ACTION[\"TOUCH_ZOOM_TRUCK\"] = 13] = \"TOUCH_ZOOM_TRUCK\";\r\n    ACTION[ACTION[\"TOUCH_ZOOM_OFFSET\"] = 14] = \"TOUCH_ZOOM_OFFSET\";\r\n})(ACTION || (ACTION = {}));\r\nfunction isPerspectiveCamera(camera) {\r\n    return camera.isPerspectiveCamera;\r\n}\r\nfunction isOrthographicCamera(camera) {\r\n    return camera.isOrthographicCamera;\r\n}\n\nvar PI_2 = Math.PI * 2;\r\nvar PI_HALF = Math.PI / 2;\r\nvar FPS_60 = 1 / 0.016;\n\nvar EPSILON = 1e-5;\r\nfunction approxZero(number) {\r\n    return Math.abs(number) < EPSILON;\r\n}\r\nfunction approxEquals(a, b) {\r\n    return approxZero(a - b);\r\n}\r\nfunction roundToStep(value, step) {\r\n    return Math.round(value / step) * step;\r\n}\r\nfunction infinityToMaxNumber(value) {\r\n    if (isFinite(value))\r\n        return value;\r\n    if (value < 0)\r\n        return -Number.MAX_VALUE;\r\n    return Number.MAX_VALUE;\r\n}\r\nfunction maxNumberToInfinity(value) {\r\n    if (Math.abs(value) < Number.MAX_VALUE)\r\n        return value;\r\n    return value * Infinity;\r\n}\n\nfunction isTouchEvent(event) {\r\n    return 'TouchEvent' in window && event instanceof TouchEvent;\r\n}\n\nfunction extractClientCoordFromEvent(event, out) {\r\n    out.set(0, 0);\r\n    if (isTouchEvent(event)) {\r\n        var touchEvent = event;\r\n        for (var i = 0; i < touchEvent.touches.length; i++) {\r\n            out.x += touchEvent.touches[i].clientX;\r\n            out.y += touchEvent.touches[i].clientY;\r\n        }\r\n        out.x /= touchEvent.touches.length;\r\n        out.y /= touchEvent.touches.length;\r\n        return out;\r\n    }\r\n    else {\r\n        var mouseEvent = event;\r\n        out.set(mouseEvent.clientX, mouseEvent.clientY);\r\n        return out;\r\n    }\r\n}\n\nfunction notSupportedInOrthographicCamera(camera, message) {\r\n    if (isOrthographicCamera(camera)) {\r\n        console.warn(message + \" is not supported in OrthographicCamera\");\r\n        return true;\r\n    }\r\n    return false;\r\n}\n\nfunction quatInvertCompat(target) {\r\n    if (target.invert) {\r\n        target.invert();\r\n    }\r\n    else {\r\n        target.inverse();\r\n    }\r\n    return target;\r\n}\n\nvar EventDispatcher = (function () {\r\n    function EventDispatcher() {\r\n        this._listeners = {};\r\n    }\r\n    EventDispatcher.prototype.addEventListener = function (type, listener) {\r\n        var listeners = this._listeners;\r\n        if (listeners[type] === undefined)\r\n            listeners[type] = [];\r\n        if (listeners[type].indexOf(listener) === -1)\r\n            listeners[type].push(listener);\r\n    };\r\n    EventDispatcher.prototype.removeEventListener = function (type, listener) {\r\n        var listeners = this._listeners;\r\n        var listenerArray = listeners[type];\r\n        if (listenerArray !== undefined) {\r\n            var index = listenerArray.indexOf(listener);\r\n            if (index !== -1)\r\n                listenerArray.splice(index, 1);\r\n        }\r\n    };\r\n    EventDispatcher.prototype.removeAllEventListeners = function (type) {\r\n        if (!type) {\r\n            this._listeners = {};\r\n            return;\r\n        }\r\n        if (Array.isArray(this._listeners[type]))\r\n            this._listeners[type].length = 0;\r\n    };\r\n    EventDispatcher.prototype.dispatchEvent = function (event) {\r\n        var listeners = this._listeners;\r\n        var listenerArray = listeners[event.type];\r\n        if (listenerArray !== undefined) {\r\n            event.target = this;\r\n            var array = listenerArray.slice(0);\r\n            for (var i = 0, l = array.length; i < l; i++) {\r\n                array[i].call(this, event);\r\n            }\r\n        }\r\n    };\r\n    return EventDispatcher;\r\n}());\n\nvar isBrowser = typeof window !== 'undefined';\r\nvar isMac = isBrowser && /Mac/.test(navigator.platform);\r\nvar readonlyACTION = Object.freeze(ACTION);\r\nvar TOUCH_DOLLY_FACTOR = 1 / 8;\r\nvar THREE;\r\nvar _ORIGIN;\r\nvar _AXIS_Y;\r\nvar _AXIS_Z;\r\nvar _v2;\r\nvar _v3A;\r\nvar _v3B;\r\nvar _v3C;\r\nvar _xColumn;\r\nvar _yColumn;\r\nvar _zColumn;\r\nvar _sphericalA;\r\nvar _sphericalB;\r\nvar _box3A;\r\nvar _box3B;\r\nvar _sphere;\r\nvar _quaternionA;\r\nvar _quaternionB;\r\nvar _rotationMatrix;\r\nvar _raycaster;\r\nvar CameraControls = (function (_super) {\r\n    __extends(CameraControls, _super);\r\n    function CameraControls(camera, domElement) {\r\n        var _this = _super.call(this) || this;\r\n        _this.minPolarAngle = 0;\r\n        _this.maxPolarAngle = Math.PI;\r\n        _this.minAzimuthAngle = -Infinity;\r\n        _this.maxAzimuthAngle = Infinity;\r\n        _this.minDistance = 0;\r\n        _this.maxDistance = Infinity;\r\n        _this.infinityDolly = false;\r\n        _this.minZoom = 0.01;\r\n        _this.maxZoom = Infinity;\r\n        _this.dampingFactor = 0.05;\r\n        _this.draggingDampingFactor = 0.25;\r\n        _this.azimuthRotateSpeed = 1.0;\r\n        _this.polarRotateSpeed = 1.0;\r\n        _this.dollySpeed = 1.0;\r\n        _this.truckSpeed = 2.0;\r\n        _this.dollyToCursor = false;\r\n        _this.dragToOffset = false;\r\n        _this.verticalDragToForward = false;\r\n        _this.boundaryFriction = 0.0;\r\n        _this.colliderMeshes = [];\r\n        _this.cancel = function () { };\r\n        _this._enabled = true;\r\n        _this._state = ACTION.NONE;\r\n        _this._viewport = null;\r\n        _this._dollyControlAmount = 0;\r\n        _this._boundaryEnclosesCamera = false;\r\n        _this._needsUpdate = true;\r\n        _this._updatedLastTime = false;\r\n        if (typeof THREE === 'undefined') {\r\n            console.error('camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information.');\r\n        }\r\n        _this._camera = camera;\r\n        _this._yAxisUpSpace = new THREE.Quaternion().setFromUnitVectors(_this._camera.up, _AXIS_Y);\r\n        _this._yAxisUpSpaceInverse = quatInvertCompat(_this._yAxisUpSpace.clone());\r\n        _this._state = ACTION.NONE;\r\n        _this._domElement = domElement;\r\n        _this._target = new THREE.Vector3();\r\n        _this._targetEnd = _this._target.clone();\r\n        _this._focalOffset = new THREE.Vector3();\r\n        _this._focalOffsetEnd = _this._focalOffset.clone();\r\n        _this._spherical = new THREE.Spherical().setFromVector3(_v3A.copy(_this._camera.position).applyQuaternion(_this._yAxisUpSpace));\r\n        _this._sphericalEnd = _this._spherical.clone();\r\n        _this._zoom = _this._camera.zoom;\r\n        _this._zoomEnd = _this._zoom;\r\n        _this._nearPlaneCorners = [\r\n            new THREE.Vector3(),\r\n            new THREE.Vector3(),\r\n            new THREE.Vector3(),\r\n            new THREE.Vector3(),\r\n        ];\r\n        _this._updateNearPlaneCorners();\r\n        _this._boundary = new THREE.Box3(new THREE.Vector3(-Infinity, -Infinity, -Infinity), new THREE.Vector3(Infinity, Infinity, Infinity));\r\n        _this._target0 = _this._target.clone();\r\n        _this._position0 = _this._camera.position.clone();\r\n        _this._zoom0 = _this._zoom;\r\n        _this._focalOffset0 = _this._focalOffset.clone();\r\n        _this._dollyControlAmount = 0;\r\n        _this._dollyControlCoord = new THREE.Vector2();\r\n        _this.mouseButtons = {\r\n            left: ACTION.ROTATE,\r\n            middle: ACTION.DOLLY,\r\n            right: ACTION.TRUCK,\r\n            wheel: isPerspectiveCamera(_this._camera) ? ACTION.DOLLY :\r\n                isOrthographicCamera(_this._camera) ? ACTION.ZOOM :\r\n                    ACTION.NONE,\r\n        };\r\n        _this.touches = {\r\n            one: ACTION.TOUCH_ROTATE,\r\n            two: isPerspectiveCamera(_this._camera) ? ACTION.TOUCH_DOLLY_TRUCK :\r\n                isOrthographicCamera(_this._camera) ? ACTION.TOUCH_ZOOM_TRUCK :\r\n                    ACTION.NONE,\r\n            three: ACTION.TOUCH_TRUCK,\r\n        };\r\n        if (_this._domElement) {\r\n            var dragStartPosition_1 = new THREE.Vector2();\r\n            var lastDragPosition_1 = new THREE.Vector2();\r\n            var dollyStart_1 = new THREE.Vector2();\r\n            var elementRect_1 = new THREE.Vector4();\r\n            var truckInternal_1 = function (deltaX, deltaY, dragToOffset) {\r\n                if (isPerspectiveCamera(_this._camera)) {\r\n                    var camera_1 = _this._camera;\r\n                    var offset = _v3A.copy(camera_1.position).sub(_this._target);\r\n                    var fov = camera_1.getEffectiveFOV() * THREE.MathUtils.DEG2RAD;\r\n                    var targetDistance = offset.length() * Math.tan(fov * 0.5);\r\n                    var truckX = (_this.truckSpeed * deltaX * targetDistance / elementRect_1.w);\r\n                    var pedestalY = (_this.truckSpeed * deltaY * targetDistance / elementRect_1.w);\r\n                    if (_this.verticalDragToForward) {\r\n                        dragToOffset ?\r\n                            _this.setFocalOffset(_this._focalOffsetEnd.x + truckX, _this._focalOffsetEnd.y, _this._focalOffsetEnd.z, true) :\r\n                            _this.truck(truckX, 0, true);\r\n                        _this.forward(-pedestalY, true);\r\n                    }\r\n                    else {\r\n                        dragToOffset ?\r\n                            _this.setFocalOffset(_this._focalOffsetEnd.x + truckX, _this._focalOffsetEnd.y + pedestalY, _this._focalOffsetEnd.z, true) :\r\n                            _this.truck(truckX, pedestalY, true);\r\n                    }\r\n                }\r\n                else if (isOrthographicCamera(_this._camera)) {\r\n                    var camera_2 = _this._camera;\r\n                    var truckX = deltaX * (camera_2.right - camera_2.left) / camera_2.zoom / elementRect_1.z;\r\n                    var pedestalY = deltaY * (camera_2.top - camera_2.bottom) / camera_2.zoom / elementRect_1.w;\r\n                    dragToOffset ?\r\n                        _this.setFocalOffset(_this._focalOffsetEnd.x + truckX, _this._focalOffsetEnd.y + pedestalY, _this._focalOffsetEnd.z, true) :\r\n                        _this.truck(truckX, pedestalY, true);\r\n                }\r\n            };\r\n            var rotateInternal_1 = function (deltaX, deltaY) {\r\n                var theta = PI_2 * _this.azimuthRotateSpeed * deltaX / elementRect_1.w;\r\n                var phi = PI_2 * _this.polarRotateSpeed * deltaY / elementRect_1.w;\r\n                _this.rotate(theta, phi, true);\r\n            };\r\n            var dollyInternal_1 = function (delta, x, y) {\r\n                var dollyScale = Math.pow(0.95, -delta * _this.dollySpeed);\r\n                var distance = _this._sphericalEnd.radius * dollyScale;\r\n                var prevRadius = _this._sphericalEnd.radius;\r\n                _this.dollyTo(distance);\r\n                if (_this.infinityDolly && distance < _this.minDistance) {\r\n                    _this._camera.getWorldDirection(_v3A);\r\n                    _this._targetEnd.add(_v3A.normalize().multiplyScalar(prevRadius));\r\n                    _this._target.add(_v3A.normalize().multiplyScalar(prevRadius));\r\n                }\r\n                if (_this.dollyToCursor) {\r\n                    _this._dollyControlAmount += _this._sphericalEnd.radius - prevRadius;\r\n                    _this._dollyControlCoord.set(x, y);\r\n                }\r\n                return;\r\n            };\r\n            var zoomInternal_1 = function (delta, x, y) {\r\n                var zoomScale = Math.pow(0.95, delta * _this.dollySpeed);\r\n                _this.zoomTo(_this._zoom * zoomScale);\r\n                if (_this.dollyToCursor) {\r\n                    _this._dollyControlAmount = _this._zoomEnd;\r\n                    _this._dollyControlCoord.set(x, y);\r\n                }\r\n                return;\r\n            };\r\n            var cancelDragging_1 = function () {\r\n                _this._state = ACTION.NONE;\r\n                document.removeEventListener('mousemove', dragging_1);\r\n                document.removeEventListener('touchmove', dragging_1, { passive: false });\r\n                document.removeEventListener('mouseup', endDragging_1);\r\n                document.removeEventListener('touchend', endDragging_1);\r\n            };\r\n            var onMouseDown_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                cancelDragging_1();\r\n                switch (event.button) {\r\n                    case THREE.MOUSE.LEFT:\r\n                        _this._state = _this.mouseButtons.left;\r\n                        break;\r\n                    case THREE.MOUSE.MIDDLE:\r\n                        _this._state = _this.mouseButtons.middle;\r\n                        break;\r\n                    case THREE.MOUSE.RIGHT:\r\n                        _this._state = _this.mouseButtons.right;\r\n                        break;\r\n                }\r\n                startDragging_1(event);\r\n            };\r\n            var onTouchStart_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                cancelDragging_1();\r\n                switch (event.touches.length) {\r\n                    case 1:\r\n                        _this._state = _this.touches.one;\r\n                        break;\r\n                    case 2:\r\n                        _this._state = _this.touches.two;\r\n                        break;\r\n                    case 3:\r\n                        _this._state = _this.touches.three;\r\n                        break;\r\n                }\r\n                startDragging_1(event);\r\n            };\r\n            var lastScrollTimeStamp_1 = -1;\r\n            var onMouseWheel_1 = function (event) {\r\n                if (!_this._enabled || _this.mouseButtons.wheel === ACTION.NONE)\r\n                    return;\r\n                event.preventDefault();\r\n                if (_this.dollyToCursor ||\r\n                    _this.mouseButtons.wheel === ACTION.ROTATE ||\r\n                    _this.mouseButtons.wheel === ACTION.TRUCK) {\r\n                    var now = performance.now();\r\n                    if (lastScrollTimeStamp_1 - now < 1000)\r\n                        _this._getClientRect(elementRect_1);\r\n                    lastScrollTimeStamp_1 = now;\r\n                }\r\n                var deltaYFactor = isMac ? -1 : -3;\r\n                var delta = (event.deltaMode === 1) ? event.deltaY / deltaYFactor : event.deltaY / (deltaYFactor * 10);\r\n                var x = _this.dollyToCursor ? (event.clientX - elementRect_1.x) / elementRect_1.z * 2 - 1 : 0;\r\n                var y = _this.dollyToCursor ? (event.clientY - elementRect_1.y) / elementRect_1.w * -2 + 1 : 0;\r\n                switch (_this.mouseButtons.wheel) {\r\n                    case ACTION.ROTATE: {\r\n                        rotateInternal_1(event.deltaX, event.deltaY);\r\n                        break;\r\n                    }\r\n                    case ACTION.TRUCK: {\r\n                        truckInternal_1(event.deltaX, event.deltaY, false);\r\n                        break;\r\n                    }\r\n                    case ACTION.OFFSET: {\r\n                        truckInternal_1(event.deltaX, event.deltaY, true);\r\n                        break;\r\n                    }\r\n                    case ACTION.DOLLY: {\r\n                        dollyInternal_1(-delta, x, y);\r\n                        break;\r\n                    }\r\n                    case ACTION.ZOOM: {\r\n                        zoomInternal_1(-delta, x, y);\r\n                        break;\r\n                    }\r\n                }\r\n                _this.dispatchEvent({\r\n                    type: 'control',\r\n                    originalEvent: event,\r\n                });\r\n            };\r\n            var onContextMenu_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                event.preventDefault();\r\n            };\r\n            var startDragging_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                extractClientCoordFromEvent(event, _v2);\r\n                _this._getClientRect(elementRect_1);\r\n                dragStartPosition_1.copy(_v2);\r\n                lastDragPosition_1.copy(_v2);\r\n                var isMultiTouch = isTouchEvent(event) && event.touches.length >= 2;\r\n                if (isMultiTouch) {\r\n                    var touchEvent = event;\r\n                    var dx = _v2.x - touchEvent.touches[1].clientX;\r\n                    var dy = _v2.y - touchEvent.touches[1].clientY;\r\n                    var distance = Math.sqrt(dx * dx + dy * dy);\r\n                    dollyStart_1.set(0, distance);\r\n                    var x = (touchEvent.touches[0].clientX + touchEvent.touches[1].clientX) * 0.5;\r\n                    var y = (touchEvent.touches[0].clientY + touchEvent.touches[1].clientY) * 0.5;\r\n                    lastDragPosition_1.set(x, y);\r\n                }\r\n                document.addEventListener('mousemove', dragging_1);\r\n                document.addEventListener('touchmove', dragging_1, { passive: false });\r\n                document.addEventListener('mouseup', endDragging_1);\r\n                document.addEventListener('touchend', endDragging_1);\r\n                _this.dispatchEvent({\r\n                    type: 'controlstart',\r\n                    originalEvent: event,\r\n                });\r\n            };\r\n            var dragging_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                event.preventDefault();\r\n                extractClientCoordFromEvent(event, _v2);\r\n                var deltaX = lastDragPosition_1.x - _v2.x;\r\n                var deltaY = lastDragPosition_1.y - _v2.y;\r\n                lastDragPosition_1.copy(_v2);\r\n                switch (_this._state) {\r\n                    case ACTION.ROTATE:\r\n                    case ACTION.TOUCH_ROTATE: {\r\n                        rotateInternal_1(deltaX, deltaY);\r\n                        break;\r\n                    }\r\n                    case ACTION.DOLLY:\r\n                    case ACTION.ZOOM: {\r\n                        var dollyX = _this.dollyToCursor ? (dragStartPosition_1.x - elementRect_1.x) / elementRect_1.z * 2 - 1 : 0;\r\n                        var dollyY = _this.dollyToCursor ? (dragStartPosition_1.y - elementRect_1.y) / elementRect_1.w * -2 + 1 : 0;\r\n                        _this._state === ACTION.DOLLY ?\r\n                            dollyInternal_1(deltaY * TOUCH_DOLLY_FACTOR, dollyX, dollyY) :\r\n                            zoomInternal_1(deltaY * TOUCH_DOLLY_FACTOR, dollyX, dollyY);\r\n                        break;\r\n                    }\r\n                    case ACTION.TOUCH_DOLLY:\r\n                    case ACTION.TOUCH_ZOOM:\r\n                    case ACTION.TOUCH_DOLLY_TRUCK:\r\n                    case ACTION.TOUCH_ZOOM_TRUCK:\r\n                    case ACTION.TOUCH_DOLLY_OFFSET:\r\n                    case ACTION.TOUCH_ZOOM_OFFSET: {\r\n                        var touchEvent = event;\r\n                        var dx = _v2.x - touchEvent.touches[1].clientX;\r\n                        var dy = _v2.y - touchEvent.touches[1].clientY;\r\n                        var distance = Math.sqrt(dx * dx + dy * dy);\r\n                        var dollyDelta = dollyStart_1.y - distance;\r\n                        dollyStart_1.set(0, distance);\r\n                        var dollyX = _this.dollyToCursor ? (lastDragPosition_1.x - elementRect_1.x) / elementRect_1.z * 2 - 1 : 0;\r\n                        var dollyY = _this.dollyToCursor ? (lastDragPosition_1.y - elementRect_1.y) / elementRect_1.w * -2 + 1 : 0;\r\n                        _this._state === ACTION.TOUCH_DOLLY ||\r\n                            _this._state === ACTION.TOUCH_DOLLY_TRUCK ?\r\n                            dollyInternal_1(dollyDelta * TOUCH_DOLLY_FACTOR, dollyX, dollyY) :\r\n                            zoomInternal_1(dollyDelta * TOUCH_DOLLY_FACTOR, dollyX, dollyY);\r\n                        if (_this._state === ACTION.TOUCH_DOLLY_TRUCK ||\r\n                            _this._state === ACTION.TOUCH_ZOOM_TRUCK) {\r\n                            truckInternal_1(deltaX, deltaY, false);\r\n                        }\r\n                        else if (_this._state === ACTION.TOUCH_DOLLY_OFFSET ||\r\n                            _this._state === ACTION.TOUCH_ZOOM_OFFSET) {\r\n                            truckInternal_1(deltaX, deltaY, true);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case ACTION.TRUCK:\r\n                    case ACTION.TOUCH_TRUCK: {\r\n                        truckInternal_1(deltaX, deltaY, false);\r\n                        break;\r\n                    }\r\n                    case ACTION.OFFSET:\r\n                    case ACTION.TOUCH_OFFSET: {\r\n                        truckInternal_1(deltaX, deltaY, true);\r\n                        break;\r\n                    }\r\n                }\r\n                _this.dispatchEvent({\r\n                    type: 'control',\r\n                    originalEvent: event,\r\n                });\r\n            };\r\n            var endDragging_1 = function (event) {\r\n                if (!_this._enabled)\r\n                    return;\r\n                cancelDragging_1();\r\n                _this.dispatchEvent({\r\n                    type: 'controlend',\r\n                    originalEvent: event,\r\n                });\r\n            };\r\n            _this._domElement.addEventListener('mousedown', onMouseDown_1);\r\n            _this._domElement.addEventListener('touchstart', onTouchStart_1);\r\n            _this._domElement.addEventListener('wheel', onMouseWheel_1);\r\n            _this._domElement.addEventListener('contextmenu', onContextMenu_1);\r\n            _this._removeAllEventListeners = function () {\r\n                _this._domElement.removeEventListener('mousedown', onMouseDown_1);\r\n                _this._domElement.removeEventListener('touchstart', onTouchStart_1);\r\n                _this._domElement.removeEventListener('wheel', onMouseWheel_1);\r\n                _this._domElement.removeEventListener('contextmenu', onContextMenu_1);\r\n                document.removeEventListener('mousemove', dragging_1);\r\n                document.removeEventListener('touchmove', dragging_1, { passive: false });\r\n                document.removeEventListener('mouseup', endDragging_1);\r\n                document.removeEventListener('touchend', endDragging_1);\r\n            };\r\n            _this.cancel = function () {\r\n                cancelDragging_1();\r\n                _this.dispatchEvent({\r\n                    type: 'controlend',\r\n                    originalEvent: null,\r\n                });\r\n            };\r\n        }\r\n        _this.update(0);\r\n        return _this;\r\n    }\r\n    CameraControls.install = function (libs) {\r\n        THREE = libs.THREE;\r\n        _ORIGIN = Object.freeze(new THREE.Vector3(0, 0, 0));\r\n        _AXIS_Y = Object.freeze(new THREE.Vector3(0, 1, 0));\r\n        _AXIS_Z = Object.freeze(new THREE.Vector3(0, 0, 1));\r\n        _v2 = new THREE.Vector2();\r\n        _v3A = new THREE.Vector3();\r\n        _v3B = new THREE.Vector3();\r\n        _v3C = new THREE.Vector3();\r\n        _xColumn = new THREE.Vector3();\r\n        _yColumn = new THREE.Vector3();\r\n        _zColumn = new THREE.Vector3();\r\n        _sphericalA = new THREE.Spherical();\r\n        _sphericalB = new THREE.Spherical();\r\n        _box3A = new THREE.Box3();\r\n        _box3B = new THREE.Box3();\r\n        _sphere = new THREE.Sphere();\r\n        _quaternionA = new THREE.Quaternion();\r\n        _quaternionB = new THREE.Quaternion();\r\n        _rotationMatrix = new THREE.Matrix4();\r\n        _raycaster = new THREE.Raycaster();\r\n    };\r\n    Object.defineProperty(CameraControls, \"ACTION\", {\r\n        get: function () {\r\n            return readonlyACTION;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"enabled\", {\r\n        get: function () {\r\n            return this._enabled;\r\n        },\r\n        set: function (enabled) {\r\n            this._enabled = enabled;\r\n            if (!enabled)\r\n                this.cancel();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"currentAction\", {\r\n        get: function () {\r\n            return this._state;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"distance\", {\r\n        get: function () {\r\n            return this._spherical.radius;\r\n        },\r\n        set: function (distance) {\r\n            if (this._spherical.radius === distance &&\r\n                this._sphericalEnd.radius === distance)\r\n                return;\r\n            this._spherical.radius = distance;\r\n            this._sphericalEnd.radius = distance;\r\n            this._needsUpdate = true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"azimuthAngle\", {\r\n        get: function () {\r\n            return this._spherical.theta;\r\n        },\r\n        set: function (azimuthAngle) {\r\n            if (this._spherical.theta === azimuthAngle &&\r\n                this._sphericalEnd.theta === azimuthAngle)\r\n                return;\r\n            this._spherical.theta = azimuthAngle;\r\n            this._sphericalEnd.theta = azimuthAngle;\r\n            this._needsUpdate = true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"polarAngle\", {\r\n        get: function () {\r\n            return this._spherical.phi;\r\n        },\r\n        set: function (polarAngle) {\r\n            if (this._spherical.phi === polarAngle &&\r\n                this._sphericalEnd.phi === polarAngle)\r\n                return;\r\n            this._spherical.phi = polarAngle;\r\n            this._sphericalEnd.phi = polarAngle;\r\n            this._needsUpdate = true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"phiSpeed\", {\r\n        set: function (speed) {\r\n            console.warn('phiSpeed was renamed. use azimuthRotateSpeed instead');\r\n            this.azimuthRotateSpeed = speed;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"thetaSpeed\", {\r\n        set: function (speed) {\r\n            console.warn('thetaSpeed was renamed. use polarRotateSpeed instead');\r\n            this.polarRotateSpeed = speed;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CameraControls.prototype, \"boundaryEnclosesCamera\", {\r\n        get: function () {\r\n            return this._boundaryEnclosesCamera;\r\n        },\r\n        set: function (boundaryEnclosesCamera) {\r\n            this._boundaryEnclosesCamera = boundaryEnclosesCamera;\r\n            this._needsUpdate = true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CameraControls.prototype.addEventListener = function (type, listener) {\r\n        _super.prototype.addEventListener.call(this, type, listener);\r\n    };\r\n    CameraControls.prototype.removeEventListener = function (type, listener) {\r\n        _super.prototype.removeEventListener.call(this, type, listener);\r\n    };\r\n    CameraControls.prototype.rotate = function (azimuthAngle, polarAngle, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.rotateTo(this._sphericalEnd.theta + azimuthAngle, this._sphericalEnd.phi + polarAngle, enableTransition);\r\n    };\r\n    CameraControls.prototype.rotateTo = function (azimuthAngle, polarAngle, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var theta = THREE.MathUtils.clamp(azimuthAngle, this.minAzimuthAngle, this.maxAzimuthAngle);\r\n        var phi = THREE.MathUtils.clamp(polarAngle, this.minPolarAngle, this.maxPolarAngle);\r\n        this._sphericalEnd.theta = theta;\r\n        this._sphericalEnd.phi = phi;\r\n        this._sphericalEnd.makeSafe();\r\n        if (!enableTransition) {\r\n            this._spherical.theta = this._sphericalEnd.theta;\r\n            this._spherical.phi = this._sphericalEnd.phi;\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.dolly = function (distance, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.dollyTo(this._sphericalEnd.radius - distance, enableTransition);\r\n    };\r\n    CameraControls.prototype.dollyTo = function (distance, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._sphericalEnd.radius = THREE.MathUtils.clamp(distance, this.minDistance, this.maxDistance);\r\n        if (!enableTransition) {\r\n            this._spherical.radius = this._sphericalEnd.radius;\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.zoom = function (zoomStep, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.zoomTo(this._zoomEnd + zoomStep, enableTransition);\r\n    };\r\n    CameraControls.prototype.zoomTo = function (zoom, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._zoomEnd = THREE.MathUtils.clamp(zoom, this.minZoom, this.maxZoom);\r\n        if (!enableTransition) {\r\n            this._zoom = this._zoomEnd;\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.pan = function (x, y, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        console.log('`pan` has been renamed to `truck`');\r\n        this.truck(x, y, enableTransition);\r\n    };\r\n    CameraControls.prototype.truck = function (x, y, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._camera.updateMatrix();\r\n        _xColumn.setFromMatrixColumn(this._camera.matrix, 0);\r\n        _yColumn.setFromMatrixColumn(this._camera.matrix, 1);\r\n        _xColumn.multiplyScalar(x);\r\n        _yColumn.multiplyScalar(-y);\r\n        var offset = _v3A.copy(_xColumn).add(_yColumn);\r\n        this._encloseToBoundary(this._targetEnd, offset, this.boundaryFriction);\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.forward = function (distance, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        _v3A.setFromMatrixColumn(this._camera.matrix, 0);\r\n        _v3A.crossVectors(this._camera.up, _v3A);\r\n        _v3A.multiplyScalar(distance);\r\n        this._encloseToBoundary(this._targetEnd, _v3A, this.boundaryFriction);\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.moveTo = function (x, y, z, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._targetEnd.set(x, y, z);\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.fitToBox = function (box3OrObject, enableTransition, _a) {\r\n        var _b = _a === void 0 ? {} : _a, _c = _b.paddingLeft, paddingLeft = _c === void 0 ? 0 : _c, _d = _b.paddingRight, paddingRight = _d === void 0 ? 0 : _d, _e = _b.paddingBottom, paddingBottom = _e === void 0 ? 0 : _e, _f = _b.paddingTop, paddingTop = _f === void 0 ? 0 : _f;\r\n        var aabb = box3OrObject.isBox3\r\n            ? _box3A.copy(box3OrObject)\r\n            : _box3A.setFromObject(box3OrObject);\r\n        if (aabb.isEmpty()) {\r\n            console.warn('camera-controls: fitTo() cannot be used with an empty box. Aborting');\r\n            return;\r\n        }\r\n        var theta = roundToStep(this._sphericalEnd.theta, PI_HALF);\r\n        var phi = roundToStep(this._sphericalEnd.phi, PI_HALF);\r\n        this.rotateTo(theta, phi, enableTransition);\r\n        var normal = _v3A.setFromSpherical(this._sphericalEnd).normalize();\r\n        var rotation = _quaternionA.setFromUnitVectors(normal, _AXIS_Z);\r\n        var viewFromPolar = approxEquals(Math.abs(normal.y), 1);\r\n        if (viewFromPolar) {\r\n            rotation.multiply(_quaternionB.setFromAxisAngle(_AXIS_Y, theta));\r\n        }\r\n        var bb = _box3B.makeEmpty();\r\n        _v3B.copy(aabb.min).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.min).setX(aabb.max.x).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.min).setY(aabb.max.y).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.max).setZ(aabb.min.z).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.min).setZ(aabb.max.z).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.max).setY(aabb.min.y).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.max).setX(aabb.min.x).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        _v3B.copy(aabb.max).applyQuaternion(rotation);\r\n        bb.expandByPoint(_v3B);\r\n        rotation.setFromUnitVectors(_AXIS_Z, normal);\r\n        bb.min.x -= paddingLeft;\r\n        bb.min.y -= paddingBottom;\r\n        bb.max.x += paddingRight;\r\n        bb.max.y += paddingTop;\r\n        var bbSize = bb.getSize(_v3A);\r\n        var center = bb.getCenter(_v3B).applyQuaternion(rotation);\r\n        if (isPerspectiveCamera(this._camera)) {\r\n            var distance = this.getDistanceToFitBox(bbSize.x, bbSize.y, bbSize.z);\r\n            this.moveTo(center.x, center.y, center.z, enableTransition);\r\n            this.dollyTo(distance, enableTransition);\r\n            this.setFocalOffset(0, 0, 0, enableTransition);\r\n            return;\r\n        }\r\n        else if (isOrthographicCamera(this._camera)) {\r\n            var camera = this._camera;\r\n            var width = camera.right - camera.left;\r\n            var height = camera.top - camera.bottom;\r\n            var zoom = Math.min(width / bbSize.x, height / bbSize.y);\r\n            this.moveTo(center.x, center.y, center.z, enableTransition);\r\n            this.zoomTo(zoom, enableTransition);\r\n            this.setFocalOffset(0, 0, 0, enableTransition);\r\n            return;\r\n        }\r\n    };\r\n    CameraControls.prototype.fitTo = function (box3OrObject, enableTransition, fitToOptions) {\r\n        if (fitToOptions === void 0) { fitToOptions = {}; }\r\n        console.warn('camera-controls: fitTo() has been renamed to fitToBox()');\r\n        this.fitToBox(box3OrObject, enableTransition, fitToOptions);\r\n    };\r\n    CameraControls.prototype.fitToSphere = function (sphereOrMesh, enableTransition) {\r\n        var isSphere = sphereOrMesh instanceof THREE.Sphere;\r\n        var boundingSphere = isSphere ?\r\n            _sphere.copy(sphereOrMesh) :\r\n            createBoundingSphere(sphereOrMesh, _sphere);\r\n        this.moveTo(boundingSphere.center.x, boundingSphere.center.y, boundingSphere.center.z, enableTransition);\r\n        if (isPerspectiveCamera(this._camera)) {\r\n            var distanceToFit = this.getDistanceToFitSphere(boundingSphere.radius);\r\n            this.dollyTo(distanceToFit, enableTransition);\r\n        }\r\n        else if (isOrthographicCamera(this._camera)) {\r\n            var width = this._camera.right - this._camera.left;\r\n            var height = this._camera.top - this._camera.bottom;\r\n            var diameter = 2 * boundingSphere.radius;\r\n            var zoom = Math.min(width / diameter, height / diameter);\r\n            this.zoomTo(zoom, enableTransition);\r\n        }\r\n        this.setFocalOffset(0, 0, 0, enableTransition);\r\n    };\r\n    CameraControls.prototype.setLookAt = function (positionX, positionY, positionZ, targetX, targetY, targetZ, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var position = _v3A.set(positionX, positionY, positionZ);\r\n        var target = _v3B.set(targetX, targetY, targetZ);\r\n        this._targetEnd.copy(target);\r\n        this._sphericalEnd.setFromVector3(position.sub(target).applyQuaternion(this._yAxisUpSpace));\r\n        this.normalizeRotations();\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n            this._spherical.copy(this._sphericalEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.lerpLookAt = function (positionAX, positionAY, positionAZ, targetAX, targetAY, targetAZ, positionBX, positionBY, positionBZ, targetBX, targetBY, targetBZ, t, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var positionA = _v3A.set(positionAX, positionAY, positionAZ);\r\n        var targetA = _v3B.set(targetAX, targetAY, targetAZ);\r\n        _sphericalA.setFromVector3(positionA.sub(targetA).applyQuaternion(this._yAxisUpSpace));\r\n        var targetB = _v3A.set(targetBX, targetBY, targetBZ);\r\n        this._targetEnd.copy(targetA).lerp(targetB, t);\r\n        var positionB = _v3B.set(positionBX, positionBY, positionBZ);\r\n        _sphericalB.setFromVector3(positionB.sub(targetB).applyQuaternion(this._yAxisUpSpace));\r\n        var deltaTheta = _sphericalB.theta - _sphericalA.theta;\r\n        var deltaPhi = _sphericalB.phi - _sphericalA.phi;\r\n        var deltaRadius = _sphericalB.radius - _sphericalA.radius;\r\n        this._sphericalEnd.set(_sphericalA.radius + deltaRadius * t, _sphericalA.phi + deltaPhi * t, _sphericalA.theta + deltaTheta * t);\r\n        this.normalizeRotations();\r\n        if (!enableTransition) {\r\n            this._target.copy(this._targetEnd);\r\n            this._spherical.copy(this._sphericalEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.setPosition = function (positionX, positionY, positionZ, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.setLookAt(positionX, positionY, positionZ, this._targetEnd.x, this._targetEnd.y, this._targetEnd.z, enableTransition);\r\n    };\r\n    CameraControls.prototype.setTarget = function (targetX, targetY, targetZ, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var pos = this.getPosition(_v3A);\r\n        this.setLookAt(pos.x, pos.y, pos.z, targetX, targetY, targetZ, enableTransition);\r\n    };\r\n    CameraControls.prototype.setFocalOffset = function (x, y, z, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this._focalOffsetEnd.set(x, y, z);\r\n        if (!enableTransition) {\r\n            this._focalOffset.copy(this._focalOffsetEnd);\r\n        }\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.setBoundary = function (box3) {\r\n        if (!box3) {\r\n            this._boundary.min.set(-Infinity, -Infinity, -Infinity);\r\n            this._boundary.max.set(Infinity, Infinity, Infinity);\r\n            this._needsUpdate = true;\r\n            return;\r\n        }\r\n        this._boundary.copy(box3);\r\n        this._boundary.clampPoint(this._targetEnd, this._targetEnd);\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.setViewport = function (viewportOrX, y, width, height) {\r\n        if (viewportOrX === null) {\r\n            this._viewport = null;\r\n            return;\r\n        }\r\n        this._viewport = this._viewport || new THREE.Vector4();\r\n        if (typeof viewportOrX === 'number') {\r\n            this._viewport.set(viewportOrX, y, width, height);\r\n        }\r\n        else {\r\n            this._viewport.copy(viewportOrX);\r\n        }\r\n    };\r\n    CameraControls.prototype.getDistanceToFitBox = function (width, height, depth) {\r\n        if (notSupportedInOrthographicCamera(this._camera, 'getDistanceToFit'))\r\n            return this._spherical.radius;\r\n        var camera = this._camera;\r\n        var boundingRectAspect = width / height;\r\n        var fov = camera.getEffectiveFOV() * THREE.MathUtils.DEG2RAD;\r\n        var aspect = camera.aspect;\r\n        var heightToFit = boundingRectAspect < aspect ? height : width / aspect;\r\n        return heightToFit * 0.5 / Math.tan(fov * 0.5) + depth * 0.5;\r\n    };\r\n    CameraControls.prototype.getDistanceToFit = function (width, height, depth) {\r\n        console.warn('camera-controls: getDistanceToFit() has been renamed to getDistanceToFitBox()');\r\n        return this.getDistanceToFitBox(width, height, depth);\r\n    };\r\n    CameraControls.prototype.getDistanceToFitSphere = function (radius) {\r\n        if (notSupportedInOrthographicCamera(this._camera, 'getDistanceToFitSphere'))\r\n            return this._spherical.radius;\r\n        var camera = this._camera;\r\n        var vFOV = camera.getEffectiveFOV() * THREE.MathUtils.DEG2RAD;\r\n        var hFOV = Math.atan(Math.tan(vFOV * 0.5) * camera.aspect) * 2;\r\n        var fov = 1 < camera.aspect ? vFOV : hFOV;\r\n        return radius / (Math.sin(fov * 0.5));\r\n    };\r\n    CameraControls.prototype.getTarget = function (out) {\r\n        var _out = !!out && out.isVector3 ? out : new THREE.Vector3();\r\n        return _out.copy(this._targetEnd);\r\n    };\r\n    CameraControls.prototype.getPosition = function (out) {\r\n        var _out = !!out && out.isVector3 ? out : new THREE.Vector3();\r\n        return _out.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd);\r\n    };\r\n    CameraControls.prototype.getFocalOffset = function (out) {\r\n        var _out = !!out && out.isVector3 ? out : new THREE.Vector3();\r\n        return _out.copy(this._focalOffsetEnd);\r\n    };\r\n    CameraControls.prototype.normalizeRotations = function () {\r\n        this._sphericalEnd.theta = this._sphericalEnd.theta % PI_2;\r\n        if (this._sphericalEnd.theta < 0)\r\n            this._sphericalEnd.theta += PI_2;\r\n        this._spherical.theta += PI_2 * Math.round((this._sphericalEnd.theta - this._spherical.theta) / PI_2);\r\n    };\r\n    CameraControls.prototype.reset = function (enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        this.setLookAt(this._position0.x, this._position0.y, this._position0.z, this._target0.x, this._target0.y, this._target0.z, enableTransition);\r\n        this.setFocalOffset(this._focalOffset0.x, this._focalOffset0.y, this._focalOffset0.z, enableTransition);\r\n        this.zoomTo(this._zoom0, enableTransition);\r\n    };\r\n    CameraControls.prototype.saveState = function () {\r\n        this._target0.copy(this._target);\r\n        this._position0.copy(this._camera.position);\r\n        this._zoom0 = this._zoom;\r\n    };\r\n    CameraControls.prototype.updateCameraUp = function () {\r\n        this._yAxisUpSpace.setFromUnitVectors(this._camera.up, _AXIS_Y);\r\n        quatInvertCompat(this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace));\r\n    };\r\n    CameraControls.prototype.update = function (delta) {\r\n        var dampingFactor = this._state === ACTION.NONE ? this.dampingFactor : this.draggingDampingFactor;\r\n        var lerpRatio = 1.0 - Math.exp(-dampingFactor * delta * FPS_60);\r\n        var deltaTheta = this._sphericalEnd.theta - this._spherical.theta;\r\n        var deltaPhi = this._sphericalEnd.phi - this._spherical.phi;\r\n        var deltaRadius = this._sphericalEnd.radius - this._spherical.radius;\r\n        var deltaTarget = _v3A.subVectors(this._targetEnd, this._target);\r\n        var deltaOffset = _v3B.subVectors(this._focalOffsetEnd, this._focalOffset);\r\n        if (!approxZero(deltaTheta) ||\r\n            !approxZero(deltaPhi) ||\r\n            !approxZero(deltaRadius) ||\r\n            !approxZero(deltaTarget.x) ||\r\n            !approxZero(deltaTarget.y) ||\r\n            !approxZero(deltaTarget.z) ||\r\n            !approxZero(deltaOffset.x) ||\r\n            !approxZero(deltaOffset.y) ||\r\n            !approxZero(deltaOffset.z)) {\r\n            this._spherical.set(this._spherical.radius + deltaRadius * lerpRatio, this._spherical.phi + deltaPhi * lerpRatio, this._spherical.theta + deltaTheta * lerpRatio);\r\n            this._target.add(deltaTarget.multiplyScalar(lerpRatio));\r\n            this._focalOffset.add(deltaOffset.multiplyScalar(lerpRatio));\r\n            this._needsUpdate = true;\r\n        }\r\n        else {\r\n            this._spherical.copy(this._sphericalEnd);\r\n            this._target.copy(this._targetEnd);\r\n            this._focalOffset.copy(this._focalOffsetEnd);\r\n        }\r\n        if (this._dollyControlAmount !== 0) {\r\n            if (isPerspectiveCamera(this._camera)) {\r\n                var camera = this._camera;\r\n                var direction = _v3A.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate();\r\n                var planeX = _v3B.copy(direction).cross(camera.up).normalize();\r\n                if (planeX.lengthSq() === 0)\r\n                    planeX.x = 1.0;\r\n                var planeY = _v3C.crossVectors(planeX, direction);\r\n                var worldToScreen = this._sphericalEnd.radius * Math.tan(camera.getEffectiveFOV() * THREE.MathUtils.DEG2RAD * 0.5);\r\n                var prevRadius = this._sphericalEnd.radius - this._dollyControlAmount;\r\n                var lerpRatio_1 = (prevRadius - this._sphericalEnd.radius) / this._sphericalEnd.radius;\r\n                var cursor = _v3A.copy(this._targetEnd)\r\n                    .add(planeX.multiplyScalar(this._dollyControlCoord.x * worldToScreen * camera.aspect))\r\n                    .add(planeY.multiplyScalar(this._dollyControlCoord.y * worldToScreen));\r\n                this._targetEnd.lerp(cursor, lerpRatio_1);\r\n                this._target.copy(this._targetEnd);\r\n            }\r\n            else if (isOrthographicCamera(this._camera)) {\r\n                var camera = this._camera;\r\n                var worldPosition = _v3A.set(this._dollyControlCoord.x, this._dollyControlCoord.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera);\r\n                var quaternion = _v3B.set(0, 0, -1).applyQuaternion(camera.quaternion);\r\n                var divisor = quaternion.dot(camera.up);\r\n                var distance = approxZero(divisor) ? -worldPosition.dot(camera.up) : -worldPosition.dot(camera.up) / divisor;\r\n                var cursor = _v3C.copy(worldPosition).add(quaternion.multiplyScalar(distance));\r\n                this._targetEnd.lerp(cursor, 1 - camera.zoom / this._dollyControlAmount);\r\n                this._target.copy(this._targetEnd);\r\n            }\r\n            this._dollyControlAmount = 0;\r\n        }\r\n        var maxDistance = this._collisionTest();\r\n        this._spherical.radius = Math.min(this._spherical.radius, maxDistance);\r\n        this._spherical.makeSafe();\r\n        this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target);\r\n        this._camera.lookAt(this._target);\r\n        var affectOffset = !approxZero(this._focalOffset.x) ||\r\n            !approxZero(this._focalOffset.y) ||\r\n            !approxZero(this._focalOffset.z);\r\n        if (affectOffset) {\r\n            this._camera.updateMatrix();\r\n            _xColumn.setFromMatrixColumn(this._camera.matrix, 0);\r\n            _yColumn.setFromMatrixColumn(this._camera.matrix, 1);\r\n            _zColumn.setFromMatrixColumn(this._camera.matrix, 2);\r\n            _xColumn.multiplyScalar(this._focalOffset.x);\r\n            _yColumn.multiplyScalar(-this._focalOffset.y);\r\n            _zColumn.multiplyScalar(this._focalOffset.z);\r\n            _v3A.copy(_xColumn).add(_yColumn).add(_zColumn);\r\n            this._camera.position.add(_v3A);\r\n        }\r\n        if (this._boundaryEnclosesCamera) {\r\n            this._encloseToBoundary(this._camera.position.copy(this._target), _v3A.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse), 1.0);\r\n        }\r\n        var zoomDelta = this._zoomEnd - this._zoom;\r\n        this._zoom += zoomDelta * lerpRatio;\r\n        if (this._camera.zoom !== this._zoom) {\r\n            if (approxZero(zoomDelta))\r\n                this._zoom = this._zoomEnd;\r\n            this._camera.zoom = this._zoom;\r\n            this._camera.updateProjectionMatrix();\r\n            this._updateNearPlaneCorners();\r\n            this._needsUpdate = true;\r\n        }\r\n        var updated = this._needsUpdate;\r\n        if (updated && !this._updatedLastTime) {\r\n            this.dispatchEvent({ type: 'wake' });\r\n            this.dispatchEvent({ type: 'update' });\r\n        }\r\n        else if (updated) {\r\n            this.dispatchEvent({ type: 'update' });\r\n        }\r\n        else if (!updated && this._updatedLastTime) {\r\n            this.dispatchEvent({ type: 'sleep' });\r\n        }\r\n        this._updatedLastTime = updated;\r\n        this._needsUpdate = false;\r\n        return updated;\r\n    };\r\n    CameraControls.prototype.toJSON = function () {\r\n        return JSON.stringify({\r\n            enabled: this._enabled,\r\n            minDistance: this.minDistance,\r\n            maxDistance: infinityToMaxNumber(this.maxDistance),\r\n            minZoom: this.minZoom,\r\n            maxZoom: infinityToMaxNumber(this.maxZoom),\r\n            minPolarAngle: this.minPolarAngle,\r\n            maxPolarAngle: infinityToMaxNumber(this.maxPolarAngle),\r\n            minAzimuthAngle: infinityToMaxNumber(this.minAzimuthAngle),\r\n            maxAzimuthAngle: infinityToMaxNumber(this.maxAzimuthAngle),\r\n            dampingFactor: this.dampingFactor,\r\n            draggingDampingFactor: this.draggingDampingFactor,\r\n            dollySpeed: this.dollySpeed,\r\n            truckSpeed: this.truckSpeed,\r\n            dollyToCursor: this.dollyToCursor,\r\n            verticalDragToForward: this.verticalDragToForward,\r\n            target: this._targetEnd.toArray(),\r\n            position: _v3A.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),\r\n            zoom: this._zoomEnd,\r\n            focalOffset: this._focalOffsetEnd.toArray(),\r\n            target0: this._target0.toArray(),\r\n            position0: this._position0.toArray(),\r\n            zoom0: this._zoom0,\r\n            focalOffset0: this._focalOffset0.toArray(),\r\n        });\r\n    };\r\n    CameraControls.prototype.fromJSON = function (json, enableTransition) {\r\n        if (enableTransition === void 0) { enableTransition = false; }\r\n        var obj = JSON.parse(json);\r\n        var position = _v3A.fromArray(obj.position);\r\n        this.enabled = obj.enabled;\r\n        this.minDistance = obj.minDistance;\r\n        this.maxDistance = maxNumberToInfinity(obj.maxDistance);\r\n        this.minZoom = obj.minZoom;\r\n        this.maxZoom = maxNumberToInfinity(obj.maxZoom);\r\n        this.minPolarAngle = obj.minPolarAngle;\r\n        this.maxPolarAngle = maxNumberToInfinity(obj.maxPolarAngle);\r\n        this.minAzimuthAngle = maxNumberToInfinity(obj.minAzimuthAngle);\r\n        this.maxAzimuthAngle = maxNumberToInfinity(obj.maxAzimuthAngle);\r\n        this.dampingFactor = obj.dampingFactor;\r\n        this.draggingDampingFactor = obj.draggingDampingFactor;\r\n        this.dollySpeed = obj.dollySpeed;\r\n        this.truckSpeed = obj.truckSpeed;\r\n        this.dollyToCursor = obj.dollyToCursor;\r\n        this.verticalDragToForward = obj.verticalDragToForward;\r\n        this._target0.fromArray(obj.target0);\r\n        this._position0.fromArray(obj.position0);\r\n        this._zoom0 = obj.zoom0;\r\n        this._focalOffset0.fromArray(obj.focalOffset0);\r\n        this.moveTo(obj.target[0], obj.target[1], obj.target[2], enableTransition);\r\n        _sphericalA.setFromVector3(position.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace));\r\n        this.rotateTo(_sphericalA.theta, _sphericalA.phi, enableTransition);\r\n        this.zoomTo(obj.zoom, enableTransition);\r\n        this.setFocalOffset(obj.focalOffset[0], obj.focalOffset[1], obj.focalOffset[2], enableTransition);\r\n        this._needsUpdate = true;\r\n    };\r\n    CameraControls.prototype.dispose = function () {\r\n        this._removeAllEventListeners();\r\n    };\r\n    CameraControls.prototype._encloseToBoundary = function (position, offset, friction) {\r\n        var offsetLength2 = offset.lengthSq();\r\n        if (offsetLength2 === 0.0) {\r\n            return position;\r\n        }\r\n        var newTarget = _v3B.copy(offset).add(position);\r\n        var clampedTarget = this._boundary.clampPoint(newTarget, _v3C);\r\n        var deltaClampedTarget = clampedTarget.sub(newTarget);\r\n        var deltaClampedTargetLength2 = deltaClampedTarget.lengthSq();\r\n        if (deltaClampedTargetLength2 === 0.0) {\r\n            return position.add(offset);\r\n        }\r\n        else if (deltaClampedTargetLength2 === offsetLength2) {\r\n            return position;\r\n        }\r\n        else if (friction === 0.0) {\r\n            return position.add(offset).add(deltaClampedTarget);\r\n        }\r\n        else {\r\n            var offsetFactor = 1.0 + friction * deltaClampedTargetLength2 / offset.dot(deltaClampedTarget);\r\n            return position\r\n                .add(_v3B.copy(offset).multiplyScalar(offsetFactor))\r\n                .add(deltaClampedTarget.multiplyScalar(1.0 - friction));\r\n        }\r\n    };\r\n    CameraControls.prototype._updateNearPlaneCorners = function () {\r\n        if (isPerspectiveCamera(this._camera)) {\r\n            var camera = this._camera;\r\n            var near = camera.near;\r\n            var fov = camera.getEffectiveFOV() * THREE.MathUtils.DEG2RAD;\r\n            var heightHalf = Math.tan(fov * 0.5) * near;\r\n            var widthHalf = heightHalf * camera.aspect;\r\n            this._nearPlaneCorners[0].set(-widthHalf, -heightHalf, 0);\r\n            this._nearPlaneCorners[1].set(widthHalf, -heightHalf, 0);\r\n            this._nearPlaneCorners[2].set(widthHalf, heightHalf, 0);\r\n            this._nearPlaneCorners[3].set(-widthHalf, heightHalf, 0);\r\n        }\r\n        else if (isOrthographicCamera(this._camera)) {\r\n            var camera = this._camera;\r\n            var zoomInv = 1 / camera.zoom;\r\n            var left = camera.left * zoomInv;\r\n            var right = camera.right * zoomInv;\r\n            var top_1 = camera.top * zoomInv;\r\n            var bottom = camera.bottom * zoomInv;\r\n            this._nearPlaneCorners[0].set(left, top_1, 0);\r\n            this._nearPlaneCorners[1].set(right, top_1, 0);\r\n            this._nearPlaneCorners[2].set(right, bottom, 0);\r\n            this._nearPlaneCorners[3].set(left, bottom, 0);\r\n        }\r\n    };\r\n    CameraControls.prototype._collisionTest = function () {\r\n        var distance = Infinity;\r\n        var hasCollider = this.colliderMeshes.length >= 1;\r\n        if (!hasCollider)\r\n            return distance;\r\n        if (notSupportedInOrthographicCamera(this._camera, '_collisionTest'))\r\n            return distance;\r\n        distance = this._spherical.radius;\r\n        var direction = _v3A.setFromSpherical(this._spherical).divideScalar(distance);\r\n        _rotationMatrix.lookAt(_ORIGIN, direction, this._camera.up);\r\n        for (var i = 0; i < 4; i++) {\r\n            var nearPlaneCorner = _v3B.copy(this._nearPlaneCorners[i]);\r\n            nearPlaneCorner.applyMatrix4(_rotationMatrix);\r\n            var origin_1 = _v3C.addVectors(this._target, nearPlaneCorner);\r\n            _raycaster.set(origin_1, direction);\r\n            _raycaster.far = distance;\r\n            var intersects = _raycaster.intersectObjects(this.colliderMeshes);\r\n            if (intersects.length !== 0 && intersects[0].distance < distance) {\r\n                distance = intersects[0].distance;\r\n            }\r\n        }\r\n        return distance;\r\n    };\r\n    CameraControls.prototype._getClientRect = function (target) {\r\n        var rect = this._domElement.getBoundingClientRect();\r\n        target.x = rect.left;\r\n        target.y = rect.top;\r\n        if (this._viewport) {\r\n            target.x += this._viewport.x;\r\n            target.y += rect.height - this._viewport.w - this._viewport.y;\r\n            target.z = this._viewport.z;\r\n            target.w = this._viewport.w;\r\n        }\r\n        else {\r\n            target.z = rect.width;\r\n            target.w = rect.height;\r\n        }\r\n        return target;\r\n    };\r\n    CameraControls.prototype._removeAllEventListeners = function () { };\r\n    return CameraControls;\r\n}(EventDispatcher));\r\nfunction createBoundingSphere(object3d, out) {\r\n    var boundingSphere = out;\r\n    var center = boundingSphere.center;\r\n    object3d.traverse(function (object) {\r\n        if (!object.isMesh)\r\n            return;\r\n        _box3A.expandByObject(object);\r\n    });\r\n    _box3A.getCenter(center);\r\n    var maxRadiusSq = 0;\r\n    object3d.traverse(function (object) {\r\n        if (!object.isMesh)\r\n            return;\r\n        var mesh = object;\r\n        var geometry = mesh.geometry.clone();\r\n        geometry.applyMatrix4(mesh.matrixWorld);\r\n        if (mesh.geometry.isBufferGeometry) {\r\n            var bufferGeometry = geometry;\r\n            var position = bufferGeometry.attributes.position;\r\n            for (var i = 0, l = position.count; i < l; i++) {\r\n                _v3A.fromBufferAttribute(position, i);\r\n                maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_v3A));\r\n            }\r\n        }\r\n        else {\r\n            var position = geometry.attributes.position;\r\n            var vector = new THREE.Vector3();\r\n            for (var i = 0, l = position.count; i < l; i++) {\r\n                vector.fromBufferAttribute(position, i);\r\n                maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(vector));\r\n            }\r\n        }\r\n    });\r\n    boundingSphere.radius = Math.sqrt(maxRadiusSq);\r\n    return boundingSphere;\r\n}\n\nexport default CameraControls;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _classCallCheck from \"/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport * as THREE from 'three';\nexport var GenerateClouds = /*#__PURE__*/function () {\n  function GenerateClouds(pos, scene, speed, scale) {\n    _classCallCheck(this, GenerateClouds);\n\n    var group = new THREE.Group();\n    var tuft1 = new THREE.SphereBufferGeometry(1.5 * scale, 7 * scale, 11);\n    tuft1.translate(-2 * scale, 0, 0);\n    var tuft3 = new THREE.SphereBufferGeometry(1.5 * scale, 7 * scale, 11);\n    tuft3.translate(2 * scale, 0, 0);\n    var tuft2 = new THREE.SphereBufferGeometry(2.0 * scale, 7 * scale, 11);\n    tuft2.translate(0, 0, 0);\n    var cloud = new THREE.Mesh(tuft1, new THREE.MeshPhongMaterial({\n      color: 'white',\n      flatShading: true\n    }));\n    var cloud1 = new THREE.Mesh(tuft2, new THREE.MeshPhongMaterial({\n      color: 'white',\n      flatShading: true\n    }));\n    var cloud2 = new THREE.Mesh(tuft3, new THREE.MeshPhongMaterial({\n      color: 'white',\n      flatShading: true\n    }));\n    group.add(cloud);\n    group.add(cloud1);\n    group.add(cloud2);\n    scene.add(group);\n    group.castShadow = true;\n    group.receiveShadow = true;\n    group.position.x = pos.x;\n    group.position.y = pos.y;\n    group.position.z = pos.z;\n    this.grass = group;\n    this.speed = speed;\n    this.pos = pos;\n  }\n\n  _createClass(GenerateClouds, [{\n    key: \"update\",\n    value: function update() {\n      var geos = this.grass;\n      geos.position.x += this.speed;\n\n      if (geos.position.x > 400) {\n        geos.position.x = this.pos.x;\n      }\n    }\n  }]);\n\n  return GenerateClouds;\n}();","import * as THREE from 'three';\nexport function getRandomStarField(numberOfStars, width, height) {\n  var canvas = document.createElement('CANVAS');\n  canvas.width = width;\n  canvas.height = height;\n  var ctx = canvas.getContext('2d');\n  ctx.fillStyle = \"black\"; //ctx.globalAlpha = 1\n\n  ctx.fillRect(0, 0, width, height);\n\n  for (var i = 0; i < numberOfStars; ++i) {\n    var radius = Math.random() * 2;\n    var x = Math.floor(Math.random() * width);\n    var y = Math.floor(Math.random() * height);\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, 2 * Math.PI, false);\n    ctx.fillStyle = 'white';\n    ctx.fill();\n  }\n\n  var texture = new THREE.Texture(canvas);\n  texture.needsUpdate = true;\n  return texture;\n}\n;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import _toConsumableArray from \"/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n// Written By Harvey Randall \\\\\nimport { AmbientLight, DirectionalLight } from \"three\";\nexport function CreateDirectionalLight(Scene, color, brightness, pos) {\n  var _directionalLight$pos;\n\n  // ---------- [Simple Directional Light Manager] ---------- \\\\\n  var directionalLight = new DirectionalLight(color, brightness, 100);\n\n  (_directionalLight$pos = directionalLight.position).set.apply(_directionalLight$pos, _toConsumableArray(pos)); // ES6 Only way to destructure POS array\n  //Shadown Managers\n\n\n  directionalLight.castShadow = false; //Add to Scene\n\n  Scene.add(directionalLight);\n  return directionalLight;\n}\nexport function CreateAmbientLight(Scene, color, brightness) {\n  var light = new AmbientLight(color, brightness); // soft white light\n\n  Scene.add(light);\n  return light;\n}","export function rotateAboutPoint(obj, point, axis, theta, pointIsWorld) {\n  pointIsWorld = pointIsWorld === undefined ? false : pointIsWorld;\n\n  if (pointIsWorld) {\n    obj.parent.localToWorld(obj.position);\n  }\n\n  obj.position.sub(point);\n  obj.position.applyAxisAngle(axis, theta);\n  obj.position.add(point);\n\n  if (pointIsWorld) {\n    obj.parent.worldToLocal(obj.position);\n  }\n\n  obj.rotateOnAxis(axis, theta);\n  return theta;\n}","import _classCallCheck from \"/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/year12/Desktop/Harvey/alevel_2020-2021/node_modules/@babel/runtime/helpers/esm/createClass\";\n// Written By Harvey Randall \\\\\nimport { BackSide, BoxGeometry, Color, MathUtils, Mesh, MeshBasicMaterial, MeshLambertMaterial, Scene, SphereBufferGeometry, Vector3 } from \"three\";\nimport { CreateAmbientLight, CreateDirectionalLight } from \"../LightingManager\";\nimport { getRandomStarField } from \"../stars\";\nimport { rotateAboutPoint } from \"./rotateAroundPoint\";\nexport var CreateDayNightCycle = /*#__PURE__*/function () {\n  function CreateDayNightCycle(SceneToGet, Renders) {\n    _classCallCheck(this, CreateDayNightCycle);\n\n    // ---------- [Two to level global variables] ---------- \\\\\n    this.SceneToGet = SceneToGet;\n    this.Renders = Renders; // ---------- [Create Sun Mesh] ---------- \\\\\n\n    var sun = new SphereBufferGeometry(20, 20, 100, 100);\n    var sunMaterial = new MeshLambertMaterial({\n      emissive: 0xf9d71c\n    });\n    var sunmesh = new Mesh(sun, sunMaterial);\n    sunmesh.position.set(1, 300, 300);\n    SceneToGet.add(sunmesh); // ---------- [Create Moon Mesh] ---------- \\\\\n\n    var moon = new SphereBufferGeometry(10, 10, 100, 100);\n    var moonMaterial = new MeshLambertMaterial({\n      emissive: 0xffffff\n    });\n    var moonMesh = new Mesh(moon, moonMaterial);\n    moonMesh.position.set(-1, -200, -300);\n    SceneToGet.add(moonMesh); // ---------- [Create Box Gometry for handling rotation] ---------- \\\\\n\n    var geometry = new BoxGeometry(1, 1, 1);\n    var cube = new Mesh(geometry);\n    cube.visible = false;\n    SceneToGet.add(cube); // ^ This is a very bad work around fix later\n    // ---------- [All defintions for the moving part] ---------- \\\\\n\n    this.cube = cube;\n    this.moonMesh = moonMesh;\n    this.sunmesh = sunmesh;\n    this.t = 0;\n    this.dTIme = 0; // ---------- [All defintions for lights to create shadows] ---------- \\\\\n\n    this.directionalLight = CreateDirectionalLight(SceneToGet, 0xddffee, 0.5, [1, 100, 100]);\n    this.directionalLight2 = CreateDirectionalLight(SceneToGet, 0xffffff, 0.2, [1, -100, -100]);\n    this.light = CreateAmbientLight(SceneToGet, 0xaaaaaa, 0.5); // ---------- [Create Stary night] ---------- \\\\\n\n    var skyBox = new BoxGeometry(1200, 1200, 1200);\n    var skyBoxMaterial = new MeshBasicMaterial({\n      map: getRandomStarField(600, 2048, 2048),\n      side: BackSide\n    });\n    this.sky = new Mesh(skyBox, skyBoxMaterial);\n  }\n\n  _createClass(CreateDayNightCycle, [{\n    key: \"update\",\n    value: function update() {\n      // This two lines are  important as it is part of the hacky work around to get time of day on varying FPS\n      var theta = rotateAboutPoint(this.directionalLight, new Vector3(0, 0, 0), new Vector3(1, 0, 0), 0.001, true);\n      var angle = MathUtils.radToDeg(this.cube.rotation.x); // ---------- [Rotate all the lights and Meshes] ---------- \\\\\n\n      rotateAboutPoint(this.sunmesh, new Vector3(100, 0, 0), new Vector3(1, 0, 0), 0.001, true);\n      rotateAboutPoint(this.moonMesh, new Vector3(100, 0, 0), new Vector3(1, 0, 0), 0.001, true);\n      rotateAboutPoint(this.directionalLight2, new Vector3(0, 0, 0), new Vector3(1, 0, 0), 0.001, true); // ---------- [If it is day] ---------- \\\\\n\n      if (angle < 40 && this.dTIme < 1) {\n        this.t = 0;\n        this.directionalLight.color.setHex(0xddffee);\n        this.dTIme += 0.003;\n\n        if (this.dTIme >= 1) {\n          this.dTIme = 1;\n        }\n\n        this.Renders.setClearColor(new Color().lerpColors(new Color(0xFDB813), new Color(0x87ceeb), this.dTIme), 1);\n        this.light.intensity = 0.5;\n        this.directionalLight2.color.setHex(0x000000);\n        this.directionalLight.intensity = 0.5;\n        this.directionalLight2.intensity = 0;\n        this.SceneToGet.remove(this.sky);\n      } else if (!(angle < 40) && this.sky.parent !== this.SceneToGet) {\n        // ---------- [If it is night] ---------- \\\\\n        this.dTIme = 0;\n        this.t += 0.01;\n\n        if (this.t >= 1) {\n          this.t = 1;\n          this.SceneToGet.add(this.sky);\n        }\n\n        this.directionalLight2.color.setHex(0xffffff);\n        this.Renders.setClearColor(new Color().lerpColors(new Color(0x87ceeb), new Color(0x000000), this.t), 1);\n        this.light.intensity = 0.2;\n        this.directionalLight.intensity = 0;\n        this.directionalLight2.intensity = 0.2;\n      }\n\n      if (this.sky.parent === this.SceneToGet) {\n        this.sky.rotation.x += -0.0004;\n      }\n\n      this.cube.rotateOnAxis(new Vector3(1, 0, 0), theta);\n    }\n  }]);\n\n  return CreateDayNightCycle;\n}();","import * as THREE from 'three';\nexport function CreateTag(baseWidth, size, name) {\n  var borderSize = 2;\n  var ctx = document.createElement('canvas').getContext('2d');\n  var font = \"\".concat(size, \"px Verdana\");\n  ctx.font = font; // measure how long the name will be\n\n  var textWidth = ctx.measureText(name).width;\n  var doubleBorderSize = borderSize * 2;\n  var width = baseWidth + doubleBorderSize;\n  var height = size + doubleBorderSize;\n  ctx.canvas.width = width;\n  ctx.canvas.height = height; // need to set font again after resizing canvas\n\n  ctx.font = font;\n  ctx.textBaseline = 'middle';\n  ctx.textAlign = 'center'; //ctx.fillStyle = 'blue';\n  //ctx.fillRect(0, 0, width, height);\n  // scale to fit but don't stretch\n\n  var scaleFactor = Math.min(1, baseWidth / textWidth);\n  ctx.translate(width / 2, height / 2);\n  ctx.scale(scaleFactor, 1);\n  ctx.fillStyle = 'white';\n  ctx.fillText(name, 0, 0);\n  return ctx.canvas;\n}\nexport function GenerateLabel(name, group) {\n  var canvas = CreateTag(300, 32, name);\n  var texture = new THREE.CanvasTexture(canvas); // because our canvas is likely not a power of 2\n  // in both dimensions set the filtering appropriately.\n\n  texture.minFilter = THREE.LinearFilter;\n  texture.wrapS = THREE.ClampToEdgeWrapping;\n  texture.wrapT = THREE.ClampToEdgeWrapping;\n  var labelMaterial = new THREE.SpriteMaterial({\n    map: texture,\n    transparent: true\n  }); // if units are meters then 0.01 here makes size\n  // of the label into centimeters.\n\n  var labelBaseScale = 0.01;\n  var label = new THREE.Sprite(labelMaterial);\n  group.add(label);\n  label.position.y = 1;\n  label.scale.x = canvas.width * labelBaseScale;\n  label.scale.y = canvas.height * labelBaseScale;\n  return group;\n}","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// Written By Harvey Randall \\\\\nimport { useEffect, useState, useContext } from \"react\";\nimport * as THREE from 'three';\nimport CameraControls from 'camera-controls';\nimport { BoxGeometry, Clock, DoubleSide, Material, Mesh, MeshBasicMaterial, MeshStandardMaterial, PerspectiveCamera, PointLight, Scene, Vector3, WebGLRenderer, MeshLambertMaterial } from \"three\";\n\nvar perlin = require('perlin-noise');\n\nvar SimplexNoise = require('simplex-noise');\n\nimport { GenerateClouds } from '../components/clouds';\nimport { getRandomStarField } from '../components/stars';\nimport { CreateDayNightCycle } from \"../components/gameFundalmentals/DayNightCycle\";\n\nvar Stats = require('stats.js');\n\nimport { useAppContext } from '../components/contextHandler';\nimport { GenerateLabel } from '../components/nametag';\nCameraControls.install({\n  THREE: THREE\n});\nexport default function render() {\n  var _ref2;\n\n  var _useState = useState(undefined),\n      child = _useState[0],\n      setChild = _useState[1];\n\n  var _useState2 = useState(0),\n      newTheta = _useState2[0],\n      setTheat = _useState2[1];\n\n  var _useState3 = useState(\"not day\"),\n      day = _useState3[0],\n      setDay = _useState3[1];\n\n  var _useState4 = useState(undefined),\n      child2 = _useState4[0],\n      setChild2 = _useState4[1];\n\n  var _useState5 = useState(undefined),\n      pos = _useState5[0],\n      setPos = _useState5[1];\n\n  var _useState6 = useState(undefined),\n      rot = _useState6[0],\n      setRot = _useState6[1];\n\n  var socket = useAppContext();\n\n  var _useState7 = useState(undefined),\n      recievedSeed = _useState7[0],\n      setSeed = _useState7[1];\n\n  var _useState8 = useState(false),\n      rendered = _useState8[0],\n      setRendered = _useState8[1];\n\n  var _useState9 = useState([]),\n      clients = _useState9[0],\n      setClients = _useState9[1];\n\n  var _useState10 = useState(undefined),\n      personData = _useState10[0],\n      setPersonalData = _useState10[1];\n\n  var _useState11 = useState([]),\n      latestPerson = _useState11[0],\n      setLatestestPerson = _useState11[1];\n\n  var _useState12 = useState([]),\n      gameEventData = _useState12[0],\n      setgameEventData = _useState12[1];\n\n  socket.once(\"welcome\", function (seed, client, data) {\n    setSeed(seed);\n    console.log(client);\n    setClients(client);\n    setPersonalData(data);\n  });\n  useEffect(function () {\n    if (child === undefined || recievedSeed === undefined || rendered === true) return;\n    setRendered(true);\n    var stats = new Stats();\n    stats.showPanel(1); // 0: fps, 1: ms, 2: mb, 3+: custom\n\n    document.body.appendChild(stats.dom);\n    var SceneToGet = new Scene();\n    var Renders = new WebGLRenderer({\n      antialias: true,\n      alpha: true\n    });\n    Renders.setClearColor(0x87ceeb, 1);\n    Renders.setSize(window.innerWidth, window.innerHeight);\n    child.appendChild(Renders.domElement);\n    var simplex = new SimplexNoise(recievedSeed);\n    var clock = new Clock();\n    var planeGeometry = new THREE.PlaneGeometry(20, 20, 32, 32);\n    planeGeometry.rotateX(Math.PI / 2);\n    var planeMaterial = new THREE.MeshStandardMaterial({\n      color: 0x567d46,\n      side: DoubleSide\n    });\n    var plane = new THREE.Mesh(planeGeometry, planeMaterial);\n    plane.position.y = -0.5;\n    SceneToGet.add(plane);\n    var daynight = new CreateDayNightCycle(SceneToGet, Renders);\n    var geometry = new THREE.PlaneBufferGeometry(500, 500, 100, 100);\n    var colours = [];\n\n    for (var i = 0, l = geometry.attributes.position.count; i < l; i++) {\n      //console.log(geometry.attributes.position.array[(i*3)+2])\n      var x = geometry.attributes.position.array[i * 3] / 128;\n      var y = geometry.attributes.position.array[i * 3 + 1] / 128;\n      var height = simplex.noise2D(x, y) * 30;\n      geometry.attributes.position.array[i * 3 + 2] = height;\n\n      if (height > 23) {\n        colours.push(1, 1, 1);\n      } else if (height > 5) {\n        colours.push(0.56, 0.54, 0.48);\n      } else if (height < -20) {\n        colours.push(0.501, 0.772, 0.87);\n      } else {\n        colours.push(0.56, 0.68, 0.166);\n      }\n    }\n\n    var material = new THREE.MeshPhongMaterial({\n      vertexColors: THREE.VertexColors,\n      reflectivity: 0,\n      roughness: 2\n    });\n    material.flatShading = true;\n    var plane2 = new THREE.Mesh(geometry, material);\n    plane2.receiveShadow = true;\n    plane2.castShadow = true;\n    plane2.position.y = -3;\n    geometry.addAttribute('color', new THREE.BufferAttribute(new Float32Array(colours), 3));\n    geometry.computeVertexNormals();\n    var clouds = [];\n\n    for (var _i = 0; _i < 40; _i++) {\n      clouds.push(new GenerateClouds(new Vector3(Math.random() * 300 - 300, 80 + Math.random() * 20, Math.random() * 600 - 400), SceneToGet, Math.random() * 0.2, Math.random() * 6 + 1));\n    }\n\n    plane2.rotateX(Math.PI / 2 + Math.PI);\n    SceneToGet.add(plane2);\n    var Camera = new PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    /*const cameraControls = new CameraControls(Camera, Renders.domElement);\n    cameraControls.azimuthRotateSpeed = -0.3; // negative value to invert rotation direction\n    cameraControls.polarRotateSpeed = -0.3; // negative value to invert rotation direction\n    cameraControls.truckSpeed = 1 / 1e-5 * 3;\n    cameraControls.distance = 5\n    //cameraControls.touches.two = CameraControls.ACTION.TOUCH_ZOOM_TRUCK;\n    cameraControls.saveState();*/\n    //Camera.position.z = 5;\n\n    var w = false,\n        a = false,\n        s = false,\n        d = false,\n        up = false,\n        down = false,\n        e = false,\n        q = false,\n        shift = 1;\n    document.addEventListener(\"keydown\", function (e) {\n      onDocumentKeyDown(e, true);\n    }, false);\n    document.addEventListener(\"keyup\", function (e) {\n      onDocumentKeyDown(e, false);\n    }, false);\n\n    function onDocumentKeyDown(event, val) {\n      var keyCode = event.which;\n\n      if (keyCode == 87) {\n        w = val;\n      }\n\n      if (keyCode == 83) {\n        s = val;\n      }\n\n      if (keyCode == 65) {\n        a = val;\n      }\n\n      if (keyCode == 68) {\n        d = val;\n      }\n\n      if (keyCode == 38) {\n        up = val;\n      }\n\n      if (keyCode == 40) {\n        down = val;\n      }\n\n      if (keyCode == 69) {\n        e = val;\n      }\n\n      if (keyCode == 81) {\n        q = val;\n      }\n\n      if (keyCode == 16) {\n        shift = val ? 0.5 : 1;\n      }\n    }\n\n    ;\n    Renders.domElement.requestPointerLock();\n    var gridHelper = new THREE.GridHelper(50, 50);\n    gridHelper.position.y = -1;\n    SceneToGet.add(gridHelper);\n    var players = [];\n\n    function MakeCube(color, name) {\n      var group = new THREE.Group();\n      var geometry = new THREE.BoxGeometry(1, 1, 1);\n      var material = new THREE.MeshLambertMaterial({\n        color: new THREE.Color(color),\n        emissive: new THREE.Color(color)\n      });\n      var cube = new THREE.Mesh(geometry, material);\n      group.add(cube);\n      var cyclinder = new THREE.CylinderGeometry(0.3, 0.3, 0.6, 30);\n      var material2 = new THREE.MeshLambertMaterial({\n        color: 0x000000\n      });\n      var cylinderBuild = new THREE.Mesh(cyclinder, material2);\n      cylinderBuild.rotateX(Math.PI / 2 + Math.PI);\n      cylinderBuild.position.set(0, 0, -0.6);\n      group.add(cylinderBuild);\n      GenerateLabel(name, group);\n      SceneToGet.add(group);\n      group.name = name;\n      return group;\n    }\n\n    console.log(clients);\n\n    var addtoGameFeed = function addtoGameFeed(name, event) {\n      var outArrayToSender = [{\n        name: name,\n        event: event\n      }]; //delete outArray[10] \n      //delete outArray[11] \n\n      setgameEventData([{\n        name: name,\n        event: event\n      }]);\n      console.log(\"array below\");\n      console.log(outArrayToSender);\n      console.log(gameEventData);\n    };\n\n    clients.forEach(function (e) {\n      console.log(\"Adding PLayer \" + e);\n      var cube = MakeCube(e.color, e.name);\n      players[e] = cube;\n    });\n    socket.on('NewPlayer', function (id, data) {\n      console.log(data);\n      console.log(\"New PLyer \" + id);\n      var cube = MakeCube(data.color, data.name);\n      addtoGameFeed(data.name, \"Joined the game!\");\n      players[id] = cube;\n    });\n    socket.on('LostPLayer', function (id, how, data) {\n      console.log(\"lost PLyer \" + id);\n      var cube = players[id];\n      SceneToGet.remove(cube);\n      delete players[id];\n      console.log(data);\n      addtoGameFeed(data.name, how === true ? \"Was removed from the game for being ianctive\" : \"Left the game!\");\n    });\n    socket.on('PlayerLocationUpdate', function (id, pos, rot, data) {\n      var cube = players[id];\n\n      if (cube) {\n        cube.rotation.set(rot._x, rot._y, rot._z);\n        cube.position.set(pos.x, pos.y, pos.z);\n      } else {\n        var _cube = MakeCube(data.color, data.name);\n\n        players[id] = _cube;\n      }\n    });\n    setInterval(function () {\n      socket.emit('LocationUpdate', Camera.position, Camera.rotation);\n    }, 30);\n\n    var animate = function animate() {\n      stats.begin();\n      requestAnimationFrame(animate);\n      daynight.update();\n      clouds.forEach(function (e, i) {\n        e.update();\n      });\n\n      if (w) {\n        var direction = new THREE.Vector3();\n        Camera.getWorldDirection(direction);\n        Camera.position.add(direction.multiplyScalar(shift == 1 ? 1 : 0.25)); //Camera.position.z -= 0.1\n      }\n\n      if (s) {\n        var direction = new THREE.Vector3();\n        Camera.getWorldDirection(direction);\n        Camera.position.add(direction.multiplyScalar(-(shift == 1 ? 1 : 0.25)));\n      }\n\n      if (a) {\n        Camera.rotateY(0.04 * shift);\n      }\n\n      if (d) {\n        Camera.rotateY(-0.04 * shift);\n      }\n\n      if (up) {\n        Camera.rotateX(0.04 * shift);\n      }\n\n      if (down) {\n        Camera.rotateX(-0.04 * shift);\n      }\n\n      if (q) {\n        Camera.rotateZ(0.02 * shift);\n      }\n\n      if (e) {\n        Camera.rotateZ(-0.02 * shift);\n      }\n\n      Renders.render(SceneToGet, Camera);\n      stats.end();\n    };\n\n    function listChildren(children) {\n      var child;\n\n      for (var _i2 = 0; _i2 < children.length; _i2++) {\n        child = children[_i2]; // Calls this function again if the child has children\n\n        if (child.children) {\n          listChildren(child.children);\n        } // Logs if this child last in recursion\n        else {\n            console.log('Reached bottom with: ', child);\n          }\n      }\n    }\n\n    listChildren(SceneToGet.children);\n    animate();\n  }, [child, clients]);\n  return /*#__PURE__*/_jsxs(\"main\", {\n    children: [/*#__PURE__*/_jsx(\"h1\", {\n      style: {\n        position: \"fixed\",\n        marginTop: \"40px\",\n        color: \"white\"\n      },\n      children: personData === undefined ? \"LOADING...\" : personData.name\n    }), /*#__PURE__*/_jsx(\"div\", {\n      style: {\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"fixed\",\n        marginTop: \"80px\"\n      },\n      children: latestPerson !== undefined && latestPerson.length > 0 ? latestPerson.map(function (e) {\n        if (e === undefined) return;\n\n        /*#__PURE__*/\n        _jsxs(\"h3\", {\n          style: {\n            color: \"white\"\n          },\n          children: [e.name, \" - \", e.event]\n        });\n      }) : /*#__PURE__*/_jsx(_Fragment, {\n        children: \"/\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      ref: function ref(_ref) {\n        return setChild2(_ref);\n      }\n    }), (_ref2 = recievedSeed === undefined) !== null && _ref2 !== void 0 ? _ref2 : /*#__PURE__*/_jsx(\"h1\", {\n      children: \"LOADING SEED!\"\n    }), /*#__PURE__*/_jsx(\"div\", {\n      ref: function ref(_ref3) {\n        return setChild(_ref3);\n      }\n    })]\n  });\n}","/*\n * A fast javascript implementation of simplex noise by Jonas Wagner\n\nBased on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.\nWhich is based on example code by Stefan Gustavson (stegu@itn.liu.se).\nWith Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\nBetter rank ordering method by Stefan Gustavson in 2012.\n\n\n Copyright (c) 2018 Jonas Wagner\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n(function() {\n  'use strict';\n\n  var F2 = 0.5 * (Math.sqrt(3.0) - 1.0);\n  var G2 = (3.0 - Math.sqrt(3.0)) / 6.0;\n  var F3 = 1.0 / 3.0;\n  var G3 = 1.0 / 6.0;\n  var F4 = (Math.sqrt(5.0) - 1.0) / 4.0;\n  var G4 = (5.0 - Math.sqrt(5.0)) / 20.0;\n\n  function SimplexNoise(randomOrSeed) {\n    var random;\n    if (typeof randomOrSeed == 'function') {\n      random = randomOrSeed;\n    }\n    else if (randomOrSeed) {\n      random = alea(randomOrSeed);\n    } else {\n      random = Math.random;\n    }\n    this.p = buildPermutationTable(random);\n    this.perm = new Uint8Array(512);\n    this.permMod12 = new Uint8Array(512);\n    for (var i = 0; i < 512; i++) {\n      this.perm[i] = this.p[i & 255];\n      this.permMod12[i] = this.perm[i] % 12;\n    }\n\n  }\n  SimplexNoise.prototype = {\n    grad3: new Float32Array([1, 1, 0,\n      -1, 1, 0,\n      1, -1, 0,\n\n      -1, -1, 0,\n      1, 0, 1,\n      -1, 0, 1,\n\n      1, 0, -1,\n      -1, 0, -1,\n      0, 1, 1,\n\n      0, -1, 1,\n      0, 1, -1,\n      0, -1, -1]),\n    grad4: new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,\n      0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,\n      1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,\n      -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,\n      1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,\n      -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,\n      1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,\n      -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]),\n    noise2D: function(xin, yin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0 = 0; // Noise contributions from the three corners\n      var n1 = 0;\n      var n2 = 0;\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin) * F2; // Hairy factor for 2D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var t = (i + j) * G2;\n      var X0 = i - t; // Unskew the cell origin back to (x,y) space\n      var Y0 = j - t;\n      var x0 = xin - X0; // The x,y distances from the cell origin\n      var y0 = yin - Y0;\n      // For the 2D case, the simplex shape is an equilateral triangle.\n      // Determine which simplex we are in.\n      var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n      if (x0 > y0) {\n        i1 = 1;\n        j1 = 0;\n      } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n      else {\n        i1 = 0;\n        j1 = 1;\n      } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n      // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n      // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n      // c = (3-sqrt(3))/6\n      var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n      var y1 = y0 - j1 + G2;\n      var x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n      var y2 = y0 - 1.0 + 2.0 * G2;\n      // Work out the hashed gradient indices of the three simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      // Calculate the contribution from the three corners\n      var t0 = 0.5 - x0 * x0 - y0 * y0;\n      if (t0 >= 0) {\n        var gi0 = permMod12[ii + perm[jj]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient\n      }\n      var t1 = 0.5 - x1 * x1 - y1 * y1;\n      if (t1 >= 0) {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);\n      }\n      var t2 = 0.5 - x2 * x2 - y2 * y2;\n      if (t2 >= 0) {\n        var gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to return values in the interval [-1,1].\n      return 70.0 * (n0 + n1 + n2);\n    },\n    // 3D simplex noise\n    noise3D: function(xin, yin, zin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0, n1, n2, n3; // Noise contributions from the four corners\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin + zin) * F3; // Very nice and simple skew factor for 3D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var k = Math.floor(zin + s);\n      var t = (i + j + k) * G3;\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var x0 = xin - X0; // The x,y,z distances from the cell origin\n      var y0 = yin - Y0;\n      var z0 = zin - Z0;\n      // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n      // Determine which simplex we are in.\n      var i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n      var i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n      if (x0 >= y0) {\n        if (y0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // X Y Z order\n        else if (x0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // X Z Y order\n        else {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // Z X Y order\n      }\n      else { // x0<y0\n        if (y0 < z0) {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Z Y X order\n        else if (x0 < z0) {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Y Z X order\n        else {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // Y X Z order\n      }\n      // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n      // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n      // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n      // c = 1/6.\n      var x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords\n      var y1 = y0 - j1 + G3;\n      var z1 = z0 - k1 + G3;\n      var x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords\n      var y2 = y0 - j2 + 2.0 * G3;\n      var z2 = z0 - k2 + 2.0 * G3;\n      var x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords\n      var y3 = y0 - 1.0 + 3.0 * G3;\n      var z3 = z0 - 1.0 + 3.0 * G3;\n      // Work out the hashed gradient indices of the four simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      // Calculate the contribution from the four corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to stay just inside [-1,1]\n      return 32.0 * (n0 + n1 + n2 + n3);\n    },\n    // 4D simplex noise, better simplex rank ordering method 2012-03-09\n    noise4D: function(x, y, z, w) {\n      var perm = this.perm;\n      var grad4 = this.grad4;\n\n      var n0, n1, n2, n3, n4; // Noise contributions from the five corners\n      // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in\n      var s = (x + y + z + w) * F4; // Factor for 4D skewing\n      var i = Math.floor(x + s);\n      var j = Math.floor(y + s);\n      var k = Math.floor(z + s);\n      var l = Math.floor(w + s);\n      var t = (i + j + k + l) * G4; // Factor for 4D unskewing\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var W0 = l - t;\n      var x0 = x - X0; // The x,y,z,w distances from the cell origin\n      var y0 = y - Y0;\n      var z0 = z - Z0;\n      var w0 = w - W0;\n      // For the 4D case, the simplex is a 4D shape I won't even try to describe.\n      // To find out which of the 24 possible simplices we're in, we need to\n      // determine the magnitude ordering of x0, y0, z0 and w0.\n      // Six pair-wise comparisons are performed between each possible pair\n      // of the four coordinates, and the results are used to rank the numbers.\n      var rankx = 0;\n      var ranky = 0;\n      var rankz = 0;\n      var rankw = 0;\n      if (x0 > y0) rankx++;\n      else ranky++;\n      if (x0 > z0) rankx++;\n      else rankz++;\n      if (x0 > w0) rankx++;\n      else rankw++;\n      if (y0 > z0) ranky++;\n      else rankz++;\n      if (y0 > w0) ranky++;\n      else rankw++;\n      if (z0 > w0) rankz++;\n      else rankw++;\n      var i1, j1, k1, l1; // The integer offsets for the second simplex corner\n      var i2, j2, k2, l2; // The integer offsets for the third simplex corner\n      var i3, j3, k3, l3; // The integer offsets for the fourth simplex corner\n      // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.\n      // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w\n      // impossible. Only the 24 indices which have non-zero entries make any sense.\n      // We use a thresholding to set the coordinates in turn from the largest magnitude.\n      // Rank 3 denotes the largest coordinate.\n      i1 = rankx >= 3 ? 1 : 0;\n      j1 = ranky >= 3 ? 1 : 0;\n      k1 = rankz >= 3 ? 1 : 0;\n      l1 = rankw >= 3 ? 1 : 0;\n      // Rank 2 denotes the second largest coordinate.\n      i2 = rankx >= 2 ? 1 : 0;\n      j2 = ranky >= 2 ? 1 : 0;\n      k2 = rankz >= 2 ? 1 : 0;\n      l2 = rankw >= 2 ? 1 : 0;\n      // Rank 1 denotes the second smallest coordinate.\n      i3 = rankx >= 1 ? 1 : 0;\n      j3 = ranky >= 1 ? 1 : 0;\n      k3 = rankz >= 1 ? 1 : 0;\n      l3 = rankw >= 1 ? 1 : 0;\n      // The fifth corner has all coordinate offsets = 1, so no need to compute that.\n      var x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords\n      var y1 = y0 - j1 + G4;\n      var z1 = z0 - k1 + G4;\n      var w1 = w0 - l1 + G4;\n      var x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords\n      var y2 = y0 - j2 + 2.0 * G4;\n      var z2 = z0 - k2 + 2.0 * G4;\n      var w2 = w0 - l2 + 2.0 * G4;\n      var x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords\n      var y3 = y0 - j3 + 3.0 * G4;\n      var z3 = z0 - k3 + 3.0 * G4;\n      var w3 = w0 - l3 + 3.0 * G4;\n      var x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords\n      var y4 = y0 - 1.0 + 4.0 * G4;\n      var z4 = z0 - 1.0 + 4.0 * G4;\n      var w4 = w0 - 1.0 + 4.0 * G4;\n      // Work out the hashed gradient indices of the five simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      var ll = l & 255;\n      // Calculate the contribution from the five corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);\n      }\n      var t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;\n      if (t4 < 0) n4 = 0.0;\n      else {\n        var gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;\n        t4 *= t4;\n        n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);\n      }\n      // Sum up and scale the result to cover the range [-1,1]\n      return 27.0 * (n0 + n1 + n2 + n3 + n4);\n    }\n  };\n\n  function buildPermutationTable(random) {\n    var i;\n    var p = new Uint8Array(256);\n    for (i = 0; i < 256; i++) {\n      p[i] = i;\n    }\n    for (i = 0; i < 255; i++) {\n      var r = i + ~~(random() * (256 - i));\n      var aux = p[i];\n      p[i] = p[r];\n      p[r] = aux;\n    }\n    return p;\n  }\n  SimplexNoise._buildPermutationTable = buildPermutationTable;\n\n  function alea() {\n    // Johannes Baage <baagoe@baagoe.com>, 2010\n    var s0 = 0;\n    var s1 = 0;\n    var s2 = 0;\n    var c = 1;\n\n    var mash = masher();\n    s0 = mash(' ');\n    s1 = mash(' ');\n    s2 = mash(' ');\n\n    for (var i = 0; i < arguments.length; i++) {\n      s0 -= mash(arguments[i]);\n      if (s0 < 0) {\n        s0 += 1;\n      }\n      s1 -= mash(arguments[i]);\n      if (s1 < 0) {\n        s1 += 1;\n      }\n      s2 -= mash(arguments[i]);\n      if (s2 < 0) {\n        s2 += 1;\n      }\n    }\n    mash = null;\n    return function() {\n      var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n      s0 = s1;\n      s1 = s2;\n      return s2 = t - (c = t | 0);\n    };\n  }\n  function masher() {\n    var n = 0xefc8249d;\n    return function(data) {\n      data = data.toString();\n      for (var i = 0; i < data.length; i++) {\n        n += data.charCodeAt(i);\n        var h = 0.02519603282416938 * n;\n        n = h >>> 0;\n        h -= n;\n        h *= n;\n        n = h >>> 0;\n        h -= n;\n        n += h * 0x100000000; // 2^32\n      }\n      return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n    };\n  }\n\n  // amd\n  if (typeof define !== 'undefined' && define.amd) define(function() {return SimplexNoise;});\n  // common js\n  if (typeof exports !== 'undefined') exports.SimplexNoise = SimplexNoise;\n  // browser\n  else if (typeof window !== 'undefined') window.SimplexNoise = SimplexNoise;\n  // nodejs\n  if (typeof module !== 'undefined') {\n    module.exports = SimplexNoise;\n  }\n\n})();\n","// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n","exports.generatePerlinNoise = generatePerlinNoise;\nexports.generateWhiteNoise = generateWhiteNoise;\n\nfunction generatePerlinNoise(width, height, options) {\n  options = options || {};\n  var octaveCount = options.octaveCount || 4;\n  var amplitude = options.amplitude || 0.1;\n  var persistence = options.persistence || 0.2;\n  var whiteNoise = generateWhiteNoise(width, height);\n\n  var smoothNoiseList = new Array(octaveCount);\n  var i;\n  for (i = 0; i < octaveCount; ++i) {\n    smoothNoiseList[i] = generateSmoothNoise(i);\n  }\n  var perlinNoise = new Array(width * height);\n  var totalAmplitude = 0;\n  // blend noise together\n  for (i = octaveCount - 1; i >= 0; --i) {\n    amplitude *= persistence;\n    totalAmplitude += amplitude;\n\n    for (var j = 0; j < perlinNoise.length; ++j) {\n      perlinNoise[j] = perlinNoise[j] || 0;\n      perlinNoise[j] += smoothNoiseList[i][j] * amplitude;\n    }\n  }\n  // normalization\n  for (i = 0; i < perlinNoise.length; ++i) {\n      perlinNoise[i] /= totalAmplitude;\n  }\n\n  return perlinNoise;\n\n  function generateSmoothNoise(octave) {\n    var noise = new Array(width * height);\n    var samplePeriod = Math.pow(2, octave);\n    var sampleFrequency = 1 / samplePeriod;\n    var noiseIndex = 0;\n    for (var y = 0; y < height; ++y) {\n      var sampleY0 = Math.floor(y / samplePeriod) * samplePeriod;\n      var sampleY1 = (sampleY0 + samplePeriod) % height;\n      var vertBlend = (y - sampleY0) * sampleFrequency;\n      for (var x = 0; x < width; ++x) {\n        var sampleX0 = Math.floor(x / samplePeriod) * samplePeriod;\n        var sampleX1 = (sampleX0 + samplePeriod) % width;\n        var horizBlend = (x - sampleX0) * sampleFrequency;\n\n        // blend top two corners\n        var top = interpolate(whiteNoise[sampleY0 * width + sampleX0], whiteNoise[sampleY1 * width + sampleX0], vertBlend);\n        // blend bottom two corners\n        var bottom = interpolate(whiteNoise[sampleY0 * width + sampleX1], whiteNoise[sampleY1 * width + sampleX1], vertBlend);\n        // final blend\n        noise[noiseIndex] = interpolate(top, bottom, horizBlend);\n        noiseIndex += 1;\n      }\n    }\n    return noise;\n  }\n}\nfunction generateWhiteNoise(width, height) {\n  var noise = new Array(width * height);\n  for (var i = 0; i < noise.length; ++i) {\n    noise[i] = Math.random();\n  }\n  return noise;\n}\nfunction interpolate(x0, x1, alpha) {\n  return x0 * (1 - alpha) + alpha * x1;\n}\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/test\",\n      function () {\n        return require(\"private-next-pages/test.js\");\n      }\n    ]);\n  "]}}